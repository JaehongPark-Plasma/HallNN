function [y1] = NN81(x1)
%NN81 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN81(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99853097026728;1.99857756005628;1.99969649111313;1.99874860362437;1.99865869715396;1.99842307148162;2;1.99832041652144;1.99925623318322;1.99994163825427;1.99803101531846;1.99952000108464;1.99808864474025];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.23870416673839947586;-0.2248984257750330229;-0.96471255908371922327;-0.13448077350000237074;0.44858288489337577731;-0.18451511531255751497;0.22680870878629350029;0.39890657099091775262;0.10441519286008364709;-0.44369002970806425967;0.091680601170680789402;1.2615217204784625604;-0.2964820803111178904;-0.43762714363297033904;-0.2177735456856226548;-0.27850432213433268247;-1.3489847182849084017;-0.44835777630770728974;-0.01423247519383170033;-0.57143998267708617789];
IW1_1 = [-0.35259011486095065413 0.14371646824163850087 -0.013929800750710178911 -0.25183619397737866397 -0.66568255365114459288 -0.19432497872664170058 0.69500971726777849291 0.11915895761648157003 -0.12570176946079211766 -0.20222967696649365998 0.0001525319269266717237 -0.12158542270586851497 0.0020361926892766253963;0.10181183942881950888 -0.14703391814157984463 -0.0668158258109509684 0.12511691725601908898 0.20300287993694396405 0.014689430092865177202 -0.25545236458502396104 -0.016310897259951145227 -0.11300397921334744133 -0.16048556616867135083 0.14999301731785513736 0.20971799082262171376 -0.060523571574379590732;-1.6991514613730491767 -0.25729923846157159995 1.870470736509243892 -0.56816391957200085283 0.041503177330858995187 -0.078363385734386448167 0.05953657518874209964 -0.0055510133505385639285 0.008003694300339782991 -0.23469793673162450687 -0.24952021091041151624 -0.021678488477080794239 -0.011951459246666500807;0.16171119295229482993 0.18399282512545056534 0.072125418144898437167 0.058419760560629134527 -0.27304648506447837253 -0.1733296438680830831 0.32279366207050180781 0.3024196129940291411 -0.0020660579691027616302 -0.20772672077476014851 0.011661569966060571918 0.0079864906944616606554 -0.053565655082740061543;-0.65050957590481361947 0.73652309264297888269 0.3129554281029796603 0.43921568695593349307 -0.91830610902269149687 -0.35382430728209007809 1.1501026456316403301 -0.2385466860905579578 0.0020735850076750161897 -0.51214628869867850902 -0.068343705602902329876 -0.088786634325936725221 -0.17050817327206610474;0.40930826655675561776 0.48101431247519671475 0.32465340904551198697 -0.11300139284165093556 -0.37592993591438561563 -0.25980006087086715549 0.32027558435124259262 0.39203083553327150446 0.0063893271838926209497 0.20010201273205885375 0.14461447490207146593 -0.015925653584699609594 0.071027112817646537168;-0.54895798537819751051 0.61596269126254821202 -0.10483380036454550965 -0.064129527991825474587 -0.41292796189455560629 -0.88685548310337902755 0.640213030224764168 -0.38336200111746715491 -0.14926439459485493777 -0.47201414145555231627 -0.13346213242843812941 0.087963030782191975465 -0.084777697115803074546;0.047992738716225849527 0.35910092198857507251 -0.071768692576174755726 -0.35322341752850494601 0.19579066880588558153 -0.53883958888568006529 -0.001870844045814511452 -0.50741429226534473518 -0.094290338876470800034 0.016090347957688294622 0.2359860720717802951 0.11418656603371776792 -0.22403409570283794316;0.78640098926344315089 0.13105656696584103149 -0.35856849009039543086 -0.16896952378320012622 0.13023490974113749452 -0.072319099946717854688 -0.039756926823999901022 -0.23236812735653122886 -0.027253127365677067007 -0.064972145449358961744 -0.026985295668320533752 -0.060287412469256847214 -0.032300158229753385408;-0.38857131664343946831 -0.10917994400959919743 0.05555981211594578778 -0.18637756984075723454 -0.46612658991168265388 0.21295097508066582193 0.66150456394148693384 0.028320804330984335195 -0.18105157932996895909 -0.34010260783112095107 -0.0092892743499145696839 0.079240473654412904581 -0.13121690808425445773;0.031546246855306360468 -0.24216326794922798937 0.014909097015149920876 -0.12699198600649597157 0.38239208108344685533 -0.080415543828002866711 -0.32767255650532156608 0.38043997239810550814 0.071910630074652814869 -0.24107299126919204402 -0.18778114595507860995 -0.096818770839033743703 -0.023568981905744242761;1.8999621387843987907 0.43695918061330063509 -1.5463762820803450548 0.59277194692115253716 -0.0092787364197727990878 0.05711118056882640015 -0.050830065609607510968 -0.50565832754398065685 0.061233333466179110105 -0.075643194925025025732 -0.0030922658673491407177 0.063465426181607276224 0.076725972644727788441;0.32306782668516181856 -0.13843877244634025803 -0.22490471369679423952 -0.010569712464488553727 -0.097097032760339915813 -0.26550737477337149617 -0.58766132258078895845 -0.23570682447228424872 -0.26201975690628032112 0.14390686270418404091 0.0058564124803157421167 -0.073202459665595770444 -0.039070587966247058431;-0.38174528958305425919 -0.18072464267403182125 0.3246892245998260762 -0.067866585220449263116 -0.10745779570689011073 0.030918463264214962605 -0.93953579255568431261 0.30619796792697712151 -0.39560084107948823018 0.5718196154212661364 -0.491547844861305816 -0.1329706305320409454 -0.081477324730712910594;-0.41037358020674757908 0.24673116794266267138 0.33293336846386184513 0.44703505617443334286 0.29535113512127503244 0.06424879043224102082 -0.2660538059058396021 0.49377973807045483223 -0.05149860926696508967 -0.2188682268465428904 0.22218645573892129019 0.27257554261930838635 -0.022502800088648012428;-0.34686490625884003336 0.65290314501968882421 0.27098611118412574417 -0.16229604464871344449 -0.5345335128670265501 -0.022417490056900676865 -0.10316391791877768669 -0.11393957493270309711 -0.16997893405047703741 0.75187668703916632484 0.32631183219878628909 0.042456490071611320547 -0.04757094302994838847;-1.0786887189486111804 0.0020276402777220092766 0.40232002534853639197 0.24363579774675162004 -0.011332709692108826685 -0.10342447143713266733 0.047515567147679078908 0.82317469644497642811 0.023692322865909519469 0.22598033885929760811 0.22587110521107919836 -0.05857638817903486339 -0.07190399946203342163;-0.47736343192988017758 -0.79940765214061193511 -0.15762429786876835935 0.15978546335074217399 0.51788415130953713295 0.62120087188215189489 -0.23973943435720151962 -0.29039241886503419643 0.045449509346160668621 0.39356887739667356652 0.037567363123249104817 -0.034707196276530537238 0.040758230429936745387;0.20722153632893794417 0.32506272247514017559 -0.091500369824769389737 -0.025079384792124966019 -0.07204739159953335581 -0.34397543201792513123 0.41897964157147044029 1.549092478060147382 -0.014686062780467959085 -0.33366294371037291677 -0.0013435889845171212001 0.010431993375796366763 -0.045174758537483747367;-0.32492787166362924189 0.037385690215605102416 -0.38485556708609086618 1.4873796892584243423 0.16395227863244732358 -0.106382664604679128 -0.27266449399542902476 0.1384158004575072598 0.071463375006146634405 0.033829004181960636854 -0.2879976378068691556 0.022002031749914694597 0.085820841529369473744];

% Layer 2
b2 = [0.16817205419084482743;-0.42575191284577251771;-0.12250913336055521685;-0.19504023121850247446;0.080629129437530394631;-0.051411453275731114343;-0.61210375192566190972;-0.51510981646362474784];
LW2_1 = [-0.1953435168438449332 0.48646038604884023204 -1.7387535752368861175 0.05522033085850090034 0.86582628227461266857 -1.3636548860658634919 0.7576725538751226674 -0.26446795485556262584 0.64480227224067143688 -0.4881357580353326564 -0.25883790808614659529 0.51583764735393078382 0.52240867489295039761 -0.86814393945520440532 -0.800939452928782325 0.99533920177817325481 -1.4382248704862439226 0.29068139697398903687 1.6186376280249943349 1.1065658906588691224;0.52290693529014209417 0.071298738445575049472 0.58572975909174673781 -0.17040798624839587072 -0.044467055755283632634 -0.33804509058573595226 -0.0077784833015396084854 0.3704549376606189881 -0.41345864470636967125 0.2970937590748720103 0.33905207432934308942 0.12216231325812738906 0.22253803903511226725 -0.14155455145191622734 -0.051284229201998085546 0.16286970441338105564 0.48826613106803190556 0.40097063352184780793 -0.044454460471540141464 -0.2166059986477431587;-0.19645854652977873256 -0.23688482205763813915 0.4188888096739414868 0.67079023665387460529 -0.00051830966767718415766 0.087121922433386456142 0.31391163185089665522 0.065161595280597936486 -0.21629354972024286696 0.37954098064094038412 -0.37991118434600740228 0.32527905943102075614 0.4529400862542741768 -0.31343226197919643594 -0.12678269337112671455 -0.15574070094662514907 -0.40981833256114802433 0.3094681140882074577 0.10772042303832077281 0.13573633152347069908;0.027104107935912506028 0.017033149726690618303 -0.039808578943116540438 0.29860235895881476198 -0.0287976882404649831 0.078693434577914736505 0.33614723021064502051 -0.040173558374469162113 0.27853134579097876822 0.20567841028370090206 -0.32900890826657613886 0.17415530079701779798 -0.038286239152712175926 -0.054518488021883228234 0.2042644431093264823 -0.066205031779665329816 -0.18531752315486157978 0.11351314241028702401 -0.057966107237484978953 0.11243193721375246974;-0.13166561241376889546 -0.033186692619808999538 -0.2228418356481977336 0.49746655202161865761 -0.14431010431797161586 -0.030698538798576952003 -0.26672234913347908636 -0.080428208168982745496 0.46947682183767591724 0.013345456686496476317 -0.13405177401520687597 -0.51978587916062379826 -0.070858279603041945949 -0.072937480483204808479 0.052096785724818836516 0.16959828504474061539 -0.082906020914982600512 0.01793965298171967121 -0.16448061850928186178 0.0082441092922279288202;0.021587388771675455196 0.16913853760436167728 -0.15740354050795546392 -0.29506412321962632861 0.082010200365482191498 -0.042147276302821494454 0.28119643549265571636 -0.022117119696795538991 -0.36736417074835076013 0.22292628822568932856 -0.024620055681087996829 -0.030087337991543144922 -0.0037984127457498799603 -0.17883183749703521204 0.0074464324272384089382 0.082185689295823399769 -0.20817938407173625093 0.048660981505782290035 -0.003961244540884131804 -0.014279953350312820162;0.020652375163286738891 0.16869178524175568179 -0.040933322896863827411 0.11235115196583372876 0.36933644462436154843 -0.30415540707121707653 -0.1391114789335089752 -0.39105954300013823222 -0.1927178688999423295 -0.19294827023173835578 -0.34306550564760823763 -1.3998959360994938095 0.11442667630750096019 0.55967363181200624478 0.378881224480469736 -0.49318166663992418774 0.88847531749801911261 0.82870615537597658307 -0.41619230280355701268 0.63268581995490980052;-0.064228715764681088007 -0.053127142104588957749 0.76375596014471780482 -0.61651590502738207178 0.19656900782923375504 -0.2209750167284218747 -0.39713745374679954026 -0.0295782626404051327 -0.097613771113356909148 -0.015824811678641616253 -0.025974788759434111474 0.26447024314649081322 0.081678778335299476177 -0.32728365585423813133 -0.11809758788890688253 0.27908047270526015193 -0.14288346432814966191 -0.046414405670292244177 0.17542474393066859184 -0.16971533814529199402];

% Layer 3
b3 = [-0.36227854149788857319;-0.45184861818746335782];
LW3_2 = [1.717246006563759142 -0.282202756594620352 0.29875943306562879886 0.39301667605152046381 0.83399179214657148673 -0.61667220899971597614 1.2258862911746726265 -0.41083096755654702203;1.6468161694196714606 -0.34767074633978506393 0.64459068088516435768 -0.15938953291469160067 0.98238965974043657159 -0.32722247043108121378 1.1431868553814970024 -0.6393674949429513088];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
