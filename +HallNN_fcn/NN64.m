function [y1] = NN64(x1)
%NN64 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN64(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99934011098113;1.99823290504251;1.99945346583571;1.99930452876319;1.99812428450306;1.99894447559952;2;1.99802784173516;1.99912319379558;1.99864660120582;1.99812338464801;1.99972556135902;1.99828368982146];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.9281771769947795292;-0.21223774874226741805;-0.25497711720804516755;-0.2146524087703609307;-0.2395404269224875593;0.4361049017473735967;-0.46984524668257748869;0.31614210508211848527;-0.19211455156218273932;-0.20825562709488779078;-0.2288804745685402986;0.15516123066953418919;0.62568779404126817489;0.60015245654593951663;0.17346601985321247197;1.286661495307383829;0.40364207967650578279;-0.20096196780493605361;0.14233797791966881774;-1.1061297776533729476];
IW1_1 = [-9.5400127728781803499e-05 -1.206915851769399417 0.49825265102769922265 0.18432418229861674552 0.86924449462562591862 1.3947791227243022671 -1.2035411021387110164 0.38081931247657868633 0.4789973616767029263 0.89200933708191709748 0.23432544059697038574 0.031911345873017575581 0.3776667273462215868;-0.14182046767738129556 -0.39860289081801125732 0.1843993852837593761 0.11222130038297584154 0.69717819695385185863 0.054686027848458079736 -0.086102833870232153846 -0.0098652372514431048434 0.03569286245706909666 -0.38093595960057752281 -0.051510325452489930109 -0.18105137275482194315 0.038083038487893725033;-0.020165220193222421763 -0.10923577676431049654 -0.16239258605827036619 -0.15747230066312895014 0.13664603085270687899 0.0041311623042936951311 -0.24918489821231670778 0.15989039708122895767 -0.040084361585963852737 0.02692301029477211019 -0.13402358555092205861 -0.029025337962963464189 0.023917356371424069311;-1.9667133627326860434 -0.1322205382012319741 0.71018646287632347658 1.4137583603904253504 -0.18411308363099124219 0.089656603665991554952 0.11034620855203260137 -0.069191908460834741779 0.038303181362669261323 0.18360760092825204048 0.37182200291751638099 0.023383156740320577838 -0.033468275073451764223;-0.43460612694417438684 -0.35448435446330145426 0.18544704834491165801 0.84073544402087629912 -0.53784505611309818551 -0.52044348548190999537 0.39215877227698237029 0.17894819089681648916 -0.18470927343543283583 -0.19066192045060068039 0.27382350604735528066 -0.28584196091061608858 -0.1283310842697732157;0.20645950200671234209 0.098374374426358365819 0.43993787093605446481 -0.95943298448538971712 -0.38332583917148760344 -0.047753008802853991188 0.39325023384690005468 0.035156375098349713915 0.018192092822164385169 0.017033873864060588427 -0.017058728473490131217 -0.024333609679474853954 0.0065779837963165239262;-0.58153636909704164992 -0.14017405337248206587 0.98079783330165715149 -0.26155772070488642056 0.15366852828957991428 0.14526076172409241316 -0.39813923098597214789 -0.99818463239251953301 0.14620467331477263184 0.055595658996344582414 0.69408342141775503098 0.00078602383765219007578 -0.16004167931630230992;0.34073876035503247728 0.34258140101552225776 0.19226203730892779675 -0.056574992755768993558 -0.16543710187834975711 -0.1700418034457965577 -0.041198405703659991828 0.26694337097951748028 0.0080071471936214375087 0.61015927314112472502 0.37514016690943152721 0.029865497873950510449 -0.16833920620783421329;-0.22964712095349185117 -0.69435222847884625619 -0.8275423894810689518 0.14992300662361940367 0.33820803082804157258 0.45876274357209112509 -0.085000205193451291996 -0.75152470869223386707 0.12250871394779537515 0.06047025824901974822 -0.12614609187507866417 -0.10519095557288304921 -0.042261856991078289303;-0.84695935972349956078 0.16324660879977670458 0.39788337161415399112 0.61871805732847429127 0.34729311097949450149 -0.086000786653308125551 -0.28100045627078912291 -0.38258386778947839346 0.037203234619533183392 -0.29475078660454978596 0.01823655169323245423 0.086443168506292425435 -0.060130114368753796728;-0.39917842631315847424 -0.26198102661856165208 0.26390142201950206324 0.067531539706150556235 0.27573986559304108912 0.30001136852925619491 -0.44288797844009442084 -0.11774738026433086147 0.0034889426129785950509 0.3558010030886862296 0.050427183604064812483 0.016777643651818410081 0.04085715992239161154;-0.53047586056852547021 0.58703620121071031779 0.28640894221587975821 0.18254461260621612784 0.0048206830985206786805 0.0320710370469245859 0.051123979180836873204 0.48746840861517592991 -0.17320184491881962519 0.8410166146066948567 -0.21178948767443811496 -0.70462865450785627797 -0.50362030481527431114;0.52391913193388550685 0.48443641972311413113 -0.89843457267295434576 0.35597628048666335454 0.22079941051065668511 -0.52499260724394791744 1.1576014768711553327 -0.57188944612969805359 0.23464241709561869942 -0.78589120617403651625 0.780610432500064233 0.075051660080439952516 0.10400907285519626899;0.2891006678371229599 0.94850073467484319334 -0.2319080707172423983 0.15160250618719203763 -1.0245120476120435082 -0.55538200960468653289 1.3831596551663412065 -0.18012027928767312956 0.10655317496718128001 -0.87446164699835493561 0.066435557948771914449 -0.025389984667721725992 -0.089489885453597484144;-0.14119145168919022826 -0.17838650130213548617 -0.4239027140220836265 0.41037256193343940591 0.20913231663246392711 -0.020773505648276117952 -0.14027251063913778739 0.43756035165006135212 0.026481674101085945355 -0.18193161093104323611 -0.044056235815279697066 -0.003359027079446836369 0.035457779365545380457;-0.17380907185934407755 -0.8919352854915538753 -0.36310583278827696097 0.73809488467879713625 0.55802146776429828456 0.84849962446635118773 -0.93909603479529746295 -2.135384061562367819 0.16977362204448592786 0.61656134240270132896 0.44427340890261618478 0.039286570906301242212 0.20290425448433671574;-0.13366918422358076146 0.38504577645035265032 -0.047232290917651527373 0.2263357705390304786 -0.0095190535010888747969 -0.25748565437630438479 -0.55447505315541389947 0.047139330146143465505 0.066935861273881902545 0.33398959433776309602 0.12543333629697567266 0.10925866750908899694 -0.015967295746143781582;0.099476592670089042381 0.50620898443919459808 -0.27390571185269996235 0.32178571148967549664 -0.37631598156061013549 0.34953504898621046149 -0.24789947889526789404 0.16531117370301362524 -0.15790544464821162918 0.60481871134629805464 0.16390120733195379099 -0.044580264759626168913 -0.012450878380307025747;-0.23950534993424901775 0.27169047305303051232 -0.1614790364807037748 0.035278273881671921852 -0.24566983982707368828 -0.2073166221311655566 0.50308118736263285342 -0.3162919397896192808 -0.131111094171793785 -0.091294415183436491978 0.077405595773155991268 0.027766319123333355057 -0.1186673484668482742;-0.97229183469837465736 -0.52916001719358629618 0.76970229503778520019 -0.98953412090951486935 0.010327278259003071226 -0.15047919010960514319 -0.094628007546347439605 0.82483362366076773409 -0.24915390965467748563 0.21813228891733896231 -0.12673469827909158991 -0.17156490737878915542 0.24780920913855622456];

% Layer 2
b2 = [0.90838310697558111162;0.33814678673368314676;0.7531315901006790936;0.29441945771397243226;0.22414445451514150576;0.11779591900494426615;-0.30515836913146238141;-3.2920714130443232831e-05];
LW2_1 = [-0.55268973113405817088 -0.097997143552685170298 -0.23146306603084162989 -0.17748100280941517259 -0.14904558188667685337 0.85517876634495482158 -0.43966724981745280987 -0.0072445304712907216196 -0.10794377913071939723 -0.30842811419253574057 -0.27852670324043365957 0.070107997117562187439 0.29036203349399331008 0.20497962740006767102 0.47729965614450631239 0.18590207104574194008 -0.18000705606380251744 0.36664212688426500719 0.090698139359218887812 -0.59092145886190483584;0.32850318719642235266 0.029139491633489972289 -0.064528239698235623223 -0.010212143987874544235 0.2109166376244041019 -0.27655879876422528874 0.52503897894214435205 -0.064865667358070186466 0.042663921780641760051 0.62546802133950851754 0.1905142406993811377 -0.18858528907820740206 -0.048938495656169062054 -0.66981043692514263821 -0.054749371337710350804 -0.61593974007322482844 -0.15494923534967067202 0.089231626066400282493 -0.10882097301542263679 0.24659625632270174012;-0.97418572387841073645 -0.4030159507503847105 -0.035169045690219849498 -1.7531770625877389769 0.97367071305897712197 -0.949283832748227141 -1.5074665606376624893 0.98546641150529801223 1.1459555928042921558 0.44758845887383086337 -0.17213077563436871009 -0.34348768728824474739 1.0242921614000717323 0.67853587609165488814 1.1363411829559899591 1.6323473990577621606 0.20255687205998179623 1.7102353158880365669 -0.56308954205839623075 -1.1034749855428136467;-0.21830775360455664802 0.074289895036914410653 0.23485249231734839359 -0.34216563407379135819 0.23396038343202471554 -0.42789330616570026011 -0.23732550774716162922 0.31258610525779156886 -0.29579784745664466916 0.39357247606235779003 -0.27381020508474168684 -0.1909952514118192779 0.13926414834409736598 -0.4582755715223655324 0.28855083751670657088 0.48101657771066103075 -0.37711527927842836139 0.23643267612863691496 -0.098864702117038849583 -0.25651953899158130845;-0.2700073329317546067 -0.12660569254110159987 -0.28826185935113202152 -0.44263638413245198766 0.37991502655271441879 -0.47258948190317157101 -0.5140458580631599439 -0.14153715234530772626 0.14781659913381062221 -0.011242152652570865448 0.061000081196069651235 -0.16852478710035370679 0.26977484908229620864 -0.01772257337192459023 0.33215241296538899896 0.57737868846003437273 0.13145016706173501264 0.37187551218282521859 0.23939110601005078593 -0.23260645754356576442;0.15262482328744442217 -0.30282617467785805099 -0.75504857558016424957 0.05750370141915687322 0.056773701833414534634 -0.51943751627322765074 -0.11751366370697775843 -0.04586896580271244972 -0.013676992427520798939 -0.21597430553248531115 -0.48580102393563834307 0.017765760321863707794 -0.1176323878435306669 0.086417194082373291475 -0.32546342272100559079 -0.021879794420725556109 -0.22620104086805323251 -0.12221279753938679713 0.0073314743095990939081 0.23016807314311357735;0.067437611072099556964 -0.61010250166712498565 0.18945827427269004706 0.20731210346137046718 0.19352397181497424383 0.18452466415875415362 -0.25197571251903966294 0.047831379521428421531 -0.019714969103419483637 -0.098181151379384545841 0.17020300725563747291 0.05114197801377515229 -0.069786689146961497499 0.33995507588931073162 0.13508034410601466035 0.20426219066951079029 -0.43278122017144537992 -0.42107511755458754132 0.18052018151085072462 0.15107348659537683799;0.18273680466784303356 -0.023731801072750215859 -0.039555725185129529675 0.21647199194434441072 -0.080915616915093954709 0.45243915209072999017 -0.093675029052846414679 -0.095265084581059700231 -0.15370198852792990585 0.088578935498968502937 0.32325653006194354777 0.051947236022473641803 -0.16607161018594696067 0.36708885586247802513 0.4356138663700436231 0.047473419522766305279 -0.032899385212598691863 -0.050693592176905888369 0.43397087714333792974 0.22608359344000719671];

% Layer 3
b3 = [-0.39310468581825774859;-0.2828677357863512154];
LW3_2 = [-0.90029152405348955579 -0.42174885933588063258 1.3277042913784296019 0.25468712597522702445 -0.27552555184498378482 1.3363592393289820404 -0.58943713127883490266 -0.51051677600583833527;-0.69838567010182428518 -0.30160198277050415117 1.3127942530829403989 0.27712864046527396766 -0.37599288711660000528 1.1563343153569241029 -0.25386688701999976514 -0.6879224192567726659];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
