function [y1] = NN65(x1)
%NN65 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN65(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99937274936956;1.99978357938652;1.99956636070011;1.99801594109374;1.99898137354279;2;1.99806897163582;1.99893300763766;1.99800711443832;1.99809237366445;1.99872346476196;1.99860876618242];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.51413570142002018581;0.22507201989046526913;-0.0059543170810481653443;-0.6662631132198296724;-0.25210454522222786045;0.037963688195670149128;0.40968760263850034775;0.61169577987968226651;0.0092320272924979532303;0.3052291674352737294;2.0941838637970731085;1.1947533645764083499;-0.0026348507341959546794;-0.58513417186774963064;0.22469947578935245414;0.013197095497060473343;0.79032046096451935568;-0.20357896700448269156;0.61485234411824474243;-0.12504048427937675125];
IW1_1 = [-0.674233109115215834 0.10084956147221259271 -0.13332495929609047836 1.8536894082836277153 -0.051213805625131406107 0.1042826512246317755 0.095581618783722996358 0.07120450558862854995 0.046697478835795461216 -0.099693693754678014418 -0.22511244812463121479 0.084251220354009559443 -0.041629933264505480928;0.89711631677058589762 0.24281220676314996254 -0.53411174012020334878 0.035235021070909429419 -0.053314940215418805958 -0.19267664704152287491 -0.097677127179583295158 1.3075498319925686896 -0.080511986477899075143 0.44036835406765706402 0.23367643782487002024 0.10168250539942760846 -0.051700427293274238416;0.40414080579626981971 -0.40078997691062001607 -0.10390580691088623089 -0.26970134545292812067 0.06681564287219524112 0.11900509495620051337 0.11899847416697403868 0.71379910194665241452 -0.047409823721714171307 -0.46439544458758313938 -0.30465359820582499362 -0.083163776360044211478 -0.1308536538690202311;-0.019937015587970910446 -0.39826706046829135621 -0.0303678270087838105 0.53813832017793206131 -0.22018737963985049455 -0.30856365514995021115 -0.36246821831578845963 -0.13462375408016277745 -0.30692889753525920415 0.47791660559985704726 -0.2539760024990976861 0.083268610552302918526 -0.045055185464253411087;0.5320159885789023102 0.42335227306142686476 -0.30817839296425691975 -0.15381079198758235149 -0.15288485764981005199 -0.24189894021359412135 0.23518203886190913732 0.072388453982061173875 -0.0038871186105009195196 -0.33364757732182331873 0.15208693143831011896 0.0086818094262682554696 -0.045425940375396177406;0.53508013165631174157 0.022703407208722790889 0.23478106628845177295 -0.036726459122382273947 0.19465783718325285756 0.080905383590130497407 -0.54919040387132489478 -0.20024916690101901562 0.28487617554812016962 -0.061754840113828445014 0.15500983368957663155 0.22538649479224942551 -0.09717745854627381219;0.49241791571718940279 0.1857410652348676916 0.014671282681548573554 -0.044200756310662239756 -0.27984492552039536006 -0.33898718622342527418 0.22650837471030280112 0.81993821728191029763 -0.14288736892057959937 0.058459994859431457792 0.010769333602799769159 0.060375325644172882222 -0.065875433847057893177;0.62822517995493365461 0.22236712872100100613 -0.49416200199808024696 -0.052374644244168065688 0.17936747423886767461 -0.28532823204456575494 0.49860243771855394801 0.38456240637611088795 0.23922359001939791368 -0.83524777220040602455 0.45772210326447831941 0.023416899534116610015 -0.041406424271432248907;0.77119871836907138984 1.0898274129665599386 -0.07849464425846322535 -0.044725153913916904092 -0.92342948933299084935 -0.54226463852922390796 1.1932136935833663749 0.51282883837179893405 0.033151354568519780797 -0.71774687381102475481 -0.10387964590742695958 -0.010149043654034363079 -0.095794699803982516495;0.11408732032935577083 0.92502134720569639814 -0.17574653934602207928 0.23420843803090332647 -0.31074506018026115672 0.14925104947220280138 -0.17738015053766109652 -0.28523247785133154508 0.00046050004648198056278 0.41290089857308914789 0.21955361826953889715 0.092017436153142229127 0.00088778957416967561097;1.4518987811529675547 0.28317607714700321342 -1.609086267444913565 0.65207417255665722777 -0.14130140475922783883 -0.022259685824664494219 0.31475180021929055618 -1.3246279133778295911 0.044543269788830358591 -0.20770427827482665362 0.19304761855342153498 0.04372202691124033036 0.011036998049373409128;0.45066207396627683268 0.9864286851964838565 -0.47337613790754407006 0.11609563184675313063 -0.85961485047408658922 -0.50336226077288803715 1.0432273208927560493 -0.74190347132932110696 -0.010466513031893186214 -0.7060349290944133438 -0.29300458801275358622 -0.068624598168477435323 -0.092280181435321212424;0.60950797389794131309 0.0021196302186311096957 -0.17467100468255378209 -0.051599014473723454899 0.32772800000647178686 0.079576842984956083771 -0.20068907741249109034 -0.1474435451280842746 -0.054149452223684287067 0.0020288558121216077913 -0.063188770998132151591 0.0006206329981225751271 -0.0072410420128328290348;-0.47359126640184795454 0.047872802266699744644 -0.15307047395152320601 -0.13909477371579742622 0.31585390884232894537 0.20830390210217952784 -0.86622069147592528626 0.17494426000012380795 -0.4496016070607563031 -0.039018419262083381405 0.11696843700996652216 -0.26055128644864122833 -0.28933047426912184008;0.79843668664217515296 -0.46005283799231116992 -0.77525188884987428217 -0.081589940567248567249 0.16633430328172926771 0.32438839511327699494 0.035948685492594043001 -0.68308639220819034055 0.070123591643462684919 -0.018045094007977900696 0.26201733275367394826 -0.051401493249044812039 0.037157452331144556756;-0.27443073525858596717 -0.28711169483161275151 -0.11697609543600147319 0.13090186282639698634 -0.0013800867402822861955 -0.11123094528070810727 0.12318757229012432253 -0.0036597532262228737315 -0.00065747715327326848762 -0.30967076213135741325 -0.35850075551473103985 -0.014339950453818717593 -0.0093979409630572576656;1.1026537265580267366 0.082880480189181718331 -0.56248644715200912803 0.01336752119174609843 0.056690073578975166968 0.039233561822032018973 -0.009763717235214623702 -0.77768557232202639717 -0.089564918724807068839 -0.1937636022854902218 -0.048596729439572147746 -0.026165495017567541591 -0.052273517521177155498;0.11351594115976547383 -0.079097421251351690552 -0.15608301996828721769 -0.049653756223823050653 -0.35202739403386879014 -0.0333198104993705016 -0.026364356694717365481 -0.92013578124511430367 0.084136257652959220432 0.37154574315750710234 0.10799269672231701089 0.021364943356202027031 0.00052201648221464650671;0.92318710450761043429 0.20796828312569062835 -1.8985080832433862685 0.19057289414445990894 -0.12969139972605289723 -0.20702953158224429719 0.24057698533360577509 -0.15986648727226893119 -0.053106634225253204762 -0.12697466831994486114 0.18197217202144214121 -0.11722300275114362622 0.011503374828982436753;-0.13451338310921120978 0.12459642051282368569 0.01931904934850905628 -0.23962403160927919776 0.26542729754087718286 -0.036034384940542604769 -0.24867118469660931535 0.053014802732108595729 -0.060333829501921891481 -0.061066669956357920446 0.14361445136801037625 0.014870514214718648718 -0.039901159089870630314];

% Layer 2
b2 = [0.19826236729703738959;0.36116184060960482283;0.10995703099969052208;-0.38048468813359853646;-0.26625760662882963503;-0.030973628553149917808;-0.44454065885553617488;0.50091558230107224858];
LW2_1 = [-0.10503915697783464123 0.24681106009804840151 -0.45909628933366108949 -0.28110522889497219223 0.33313099115494809732 0.21283703671413861658 0.0067999972233159008267 -0.50564925186809372981 -0.29358578443555327642 -0.33076919150296096861 -0.24709792432995505984 0.1241780091152232951 0.034598368810612650792 0.25335795674770955621 -0.19550299039799426404 -0.22521078223912976979 0.12796429208718898551 0.017338647501882662599 -0.31661418160753423967 -0.35511360057213886554;-0.054774642094862213693 -0.037619713046333748407 0.26293256818485483128 0.2967197104149660869 -0.0052092071797498343613 -0.033014663894670837063 0.099657441530588974921 0.38550820774886035425 -0.34499699339955092192 0.35096570108011460043 -0.8718274843770588145 -0.17591336911975502533 0.49599084914313085193 -0.12068941298796290185 0.15519168201452196443 0.042292787090277346451 0.14775659266465443475 -0.21668362703184476659 0.24107514879492178417 -0.55164707578660543419;-0.65405896799564389177 -0.063891516231468312159 0.52435371191254820378 -0.011773502379106258464 -0.1014182816475783927 0.041534552744531591517 0.94641651459504649857 0.26721240733864087824 0.81481283106234636548 0.29815533899939794527 1.4162154633283083882 0.34965732674032828919 0.31730949566843530407 -0.45674380333438069357 -0.35743856464909445902 -0.64778595846680431247 0.37300876886280731615 -0.031410481572450688059 -0.19171804270925429936 0.1692046878458932091;0.086943312302543637737 -0.14666245147864673259 0.27523732736218603501 0.15442930340417104773 0.024750716367474619173 -0.14415448232228794678 0.19487049589864691157 0.48129077428111793902 0.28283353442977748893 -0.14384124798962530378 0.23049066038811313883 -0.061734174748798754939 -0.33192441120627175222 -0.15630227379804614851 -0.15231439355201437102 -0.013864971703524501048 0.24080853984371111687 0.28042557614902541285 0.11778000384694606306 -0.12427187377893475495;-1.3703770226615714645 -1.3481601836976950803 0.2009509405690971251 -0.5802890787867709399 -0.075259484739289089772 -0.40970707677018647352 -0.74931090958847879069 -0.54275799680467973207 1.1297175050056453838 -0.82803006743176399418 -0.51443580194799631844 -1.8076886088132317898 -0.62787825312838030367 0.4291506758908537611 -1.1522968055484390515 -0.20907038289964208211 -1.3092837212012522485 0.59140248194133115955 -1.4587833017794618051 0.4025646278749462903;-0.26760582417174949565 -0.48827065790966522885 0.017115439940103657768 -0.040729734661636707305 -0.31567156189680989353 -0.12185090756920136101 -0.28528697546343123603 -0.43308172669064620708 -0.20925415142554054659 0.024186069895313501432 -0.36581344405545873633 -0.66459157195348372849 0.085254825970405762048 0.24887924900718474963 -0.10144595836883858742 0.070611710694059443005 -0.37485826551667111861 0.22417913235402869843 -0.45875506182970676727 0.36573191814618249973;0.25458579071507425606 -0.34748191417868584674 0.19394289127844283049 -0.028059026368285031744 0.48663374157787853136 -0.12285917505617124923 0.14276285155651347036 0.01779827977346245052 0.45993084029149716718 -0.18797902539884298045 0.71591121749868857904 -0.076569356105136113233 -0.022561954735363522195 -0.1076915671732444485 -0.16868557561536581813 -0.32314978065713917399 -0.088292166892423556979 0.20926083648777318857 0.14356132234266222314 -0.11085776193919841259;0.18795421463447040122 0.72396898449701752032 -0.078389479462382866126 0.037095701534931274646 -0.18308155382371718578 0.10825368852743709469 0.35954545925295411379 0.48495200628014967226 0.4963812192808635948 0.23201662953515295174 -0.55090998924596268349 0.75457130107119863016 0.1015319220766592867 -0.38414934417824869728 0.30364644310272498329 0.0052028183964003583972 0.71815104750760150321 -0.23631419102763037698 0.6090560038884663685 -0.14973538017808030176];

% Layer 3
b3 = [-0.15426709884529390959;-0.08505306342690906185];
LW3_2 = [0.87158582729844602532 1.0358339872586388442 -1.2977401132864077038 -0.2305980152972016417 -1.33487846284139966 -0.25703052866397174681 1.0991880569444649751 0.44410446616725979263;0.90168191342317161041 0.9080013493889197429 -1.3153425173114297042 0.21409948124581390516 -1.4096496033006520321 0.084650996930725877498 0.74902159253101896486 0.66815373449374049208];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
