function [y1] = NN12(x1)
%NN12 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN12(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99929088114915;1.9981897780278;1.99862909951404;1.99962853886901;1.99845425095088;1.99845737381349;1.99961243891182;1.99846783682563;1.99823798076643;1.99858957143302;1.99853302429865;1.99832924203446;1.99941002842831];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.013316129906074140529;-0.95255382802906929385;-0.68963032144782343558;0.59409192343643879575;0.14812947853562793976;-1.1756278253184828664;0.48883521594212586692;-0.4077895024336669616;-0.15161065802349887877;-0.013612504797371881293;0.31123957030268373236;-0.1768212652013578523;-0.031680825257304763565;0.1273179288996558467;0.75862204004199618179;-0.041929677300926379568;-0.85750453859669184542;0.54915293767016126747;1.5565239552505711895;0.45418039201554255557];
IW1_1 = [-0.31357184549268829477 -0.079907495228468503057 0.088697278049663971777 -0.062511036561121238742 -0.0076230946412520908875 0.0055685022120881434021 -0.046456146857401597883 0.0050514391019409162278 -0.0055764667937341404549 0.036804249002534636381 -0.00023154819326984049307 -0.00045335075502037747814 -0.0062778745236088352374;0.19614186165383873384 1.1127273381013933484 0.081208325489474597614 0.17126573225947316903 -0.30514186548588256853 -0.28296776497725911748 -0.0068237598848037081534 -0.40678796726534843797 0.036908825423399238552 -0.34797862315689626067 -0.19118360164173683891 0.041518053823820150194 -0.1041873688242952456;0.063376554953673294723 -1.1912146865061676859 0.24089665976078256104 -0.34761758031614342634 0.34118397342233414138 0.080947026885964876164 0.11866146395196108809 1.2102501189972254547 0.046154136186794161856 -0.47871353687297479862 -0.31355722925971574178 -0.033873212253402555649 -0.026631756034102133796;0.24528148730574400593 -0.12608868118267158032 -0.18511092254644220811 -0.018341384952217258675 0.1561687852062058901 0.41083347726662622357 0.33621774961263134474 0.25182425687333670483 0.11575253442807677262 -0.14564185650262084781 -0.064226279807148442536 -0.014209202575068394583 -0.034590031809256058248;0.097442662665541746048 -0.15288558435837051874 0.0042797735096961287901 -0.69769824953902692677 0.22237035681097780393 -0.12248194604579848432 0.55036333718267738124 -0.29794566793975152397 0.081573032920547169922 0.53360929956800240426 0.17815491441279435181 0.34462059573235359622 -0.22569158776416040069;0.30489283408851214352 0.82899682541383146184 -0.065237961471673558411 -0.092154980737081018671 -0.19839488577493011312 -0.46144506693495712657 0.2004071609272337906 0.88062089078356153848 -0.071944923631171345257 -0.061943206554982720158 0.089210377253399891773 0.039978630393816508293 -0.1915810335583064683;-0.094631039254527038462 0.5230074925903700489 -0.057322206234215161702 0.033362985460609888289 -0.69215192549042670045 -0.090345265692794385348 0.96889185617391448968 -0.22621470154728720581 0.078300959682451085064 -0.034091387377583361185 0.17606012778904425731 -0.1879868179374888093 -0.049358562535690340967;0.52219912840296955903 0.58455616760133810583 -0.39067154673584075786 0.014030218305654717365 -0.22612848272255242632 0.16199735807604939697 -0.53137539377313625089 0.68333786490772652211 -0.12594623385352415879 0.67923399462528466497 0.49503375097519264347 0.03690516321853750531 0.15303803528939580181;0.32377674909152703853 0.041821562967841181824 -0.31873066031932090203 0.12012360015808183633 0.21972306827390422623 -0.27314714832824826818 0.18902787598448397843 1.8539717335190000203 -0.028190618676642881235 -0.35687438509517366292 -0.036978378358466637565 -0.014758906964489571997 0.070305592704856173514;0.31281243555886495411 -0.43119342472243460396 0.19043913871901146928 -0.16451762221579041556 -0.17287965562172258327 0.05837899052817841633 0.21722153055370962971 0.051173091911687174083 0.021582881941095803657 -0.028938570169912667535 -0.010208898018490977083 -0.035321229747389659703 0.048665223998153414597;-0.012868511884781014959 0.79539024726772711293 0.90488197992385188684 -0.20473402075489652296 -0.35635745850169964211 -0.45294404411351346651 0.17149197890801484712 0.61859878052712180541 -0.09550014704935971821 -0.12639051451004573723 0.17021489221964627991 0.14778167245823489728 0.042521749792133446688;0.19455851794449238734 -0.84221927623985681777 -0.4438906089936602295 0.062385712673599338918 0.50072660084826281501 0.58990124707314328667 0.43460931903156302392 0.11950523565929686842 0.12900848337310799607 -0.17267037333301032964 -0.30472789671968536496 0.29423548713175456948 0.54266667552974279243;-0.1132471929174517361 -1.0478126353732031273 0.2330502113590823543 -0.39870841153817770941 1.2974313754245576646 0.73375295485323066558 -1.7628229151294461108 -0.13901657918744819709 -0.080703787481337260767 1.3185155744888965579 0.099227851630592903143 0.15537807010433687949 0.077654965338582557233;0.47374634732030890261 -0.81169797335908877578 0.32075759174013668273 0.13036632807183806682 0.13032218086693139747 0.76025554556418606378 -0.91566116763876903573 0.11724516812484847561 0.030399357443934727635 0.027699548367662543691 0.11278530631174614463 0.1054932957041140873 -0.051010633395743104623;1.3134116426900863672 0.31862867691658391944 -1.7636597290857354281 0.57571144314388345009 -0.19400505750415203421 -0.18185398175692360501 0.20464311570711141153 0.39667000619072623202 -0.054571412224711735028 0.27788232042097904539 -0.047210269987258218771 -0.011296379595225251521 -0.048327092594160500627;0.99230300013959049643 -0.21651443433458505972 -0.58114015996788959129 -0.084072512324557951979 -0.25868788096546635469 -0.073141626887351263164 0.097430121951360831867 0.02664170763386811483 0.003049625712007452815 -0.25447863825995814535 0.27128269680594618851 0.16420059237731635116 -0.37558051308962348003;-0.70393238174464789481 -0.55337538000922015247 0.31808028298963963998 -0.26999303571419169812 -0.32789484964653914378 -0.016382900912483452233 -0.23458218292921848014 0.55210081221367213189 -0.29006539118342578032 0.21613492929476185722 -0.19793436147357071353 -0.16655417480957268594 -0.078053163563949951032;-0.13716344111449499388 0.41172995222095165602 0.41712553554415116031 -0.12171963252080496287 -0.11236812634084208939 0.42799244133459163342 0.28754538243747201909 -0.046954586385242531865 0.26771802114874992951 -0.34777678191573019317 -0.1148444834615179877 0.36586888694762331742 0.10571229159858124003;0.90160123244258527642 0.82052728227079663181 -0.19875676814896842126 -0.6332842233907495233 -0.64769830110257509137 -0.46184879745739249035 0.94288630989584332198 -0.93166936137334721568 0.022407948371162209056 -0.71313446909723077205 -0.30432836145914082815 -0.00060117753355850992239 -0.13761340477158490181;1.2385983730968475047 0.12765372441852024243 0.56208938101005057053 -2.1621947593830297407 0.33803922278931969325 0.035231972797333171998 -0.5454531416823702461 0.20578466221664090674 -0.029374690984490244711 0.38614624840604749867 0.11850074010078474884 -0.0029484444891787740285 0.12295550210624626997];

% Layer 2
b2 = [1.0010693446358582825;0.12187351162114044845;0.051637925728434730388;0.16564863206662894246;-0.063084407609487913593;0.56956867439145841825;0.63263366466829384915;0.44490169099934828711];
LW2_1 = [0.078697091675129088317 0.18635190358750960971 0.52253484315501497193 0.070452338533398939369 -0.2000957643343889425 0.63802637425739605614 0.18422374196784008227 0.2212831307513334067 -0.58559492045357475209 0.17594496868502396136 0.34297148033403079825 0.029517557512112994195 0.016499072268997078128 -0.52896708212294896168 -0.15386621736859848464 0.24933481360641843172 0.28409099543676991084 0.59854003121206877935 -0.72693129122973842993 -0.10315479497229779193;0.13142833640503340242 -0.19465028862846578406 0.25589040453268596664 0.35319413900004376083 -0.050018414679926265221 0.17157742439811718427 0.028246247611215559437 -0.10751695933939370287 -0.14400435535173597423 -0.50990151635708824696 0.39676307459910781228 -0.23181334967775810152 0.14865770059482416587 -0.014278370555855681226 -0.15787177228379162264 -0.25631675723858904359 0.2062147046407364348 0.27953054736989424445 -0.46736401163691992933 0.044771299971764481895;0.2460677780575473983 -0.027565517748166474404 0.2586948243524305191 -0.28396005031933901908 -0.4440718751833134248 0.64874201115948115781 0.53509669869892118044 -0.1936664184780558795 -0.12218271218827186919 0.19094869361788324724 0.31125668972579229044 0.38443390575064312342 -0.62845876233835351599 -0.23490035231822986583 0.15593435609606667858 0.29056830666990057788 0.0010487861725066585997 0.10108282113057395768 0.14631914350727642793 0.00038034236621046569118;-0.54254326781814532499 0.18473498222180420592 -0.20352028128885601976 -0.011138095225418408532 -0.040076767853649011841 -0.072331834899159550001 -0.24422881166887111526 0.20307878525594988406 -0.32980653914880264654 -0.012151763423513664564 -0.12669365288725356611 0.23672938216507052878 -0.32451192314584648146 -0.091175044110335071168 0.27147075193974196106 0.21202767563986010813 -0.19136922379793042115 -0.19618001889118066861 -0.090529224051933351869 -0.25671809337670598028;-0.1354705847051731471 0.043965906576030291952 0.39417406877373040164 0.17233165652957685432 0.28643894460999203 0.17593543285608895244 0.23848652603929162974 -0.23053475262611786145 -0.20866949531990025557 0.41312290218617964133 0.48156191622917510209 -0.49234281468009816196 0.040685980784610463468 0.30640380288986041046 -0.51136483783936592662 -0.63247953773564502544 0.19448172083894024742 0.18683484734662311744 -0.053232870217539973723 0.36333954711910942947;-0.33012620139538223496 -0.068553254427038981533 -1.3301842443311049369 -0.14461642331777854742 -0.54971667700320014927 -1.2388502624471711133 -1.056066157068543232 1.4018604166069339456 1.565361452069201853 0.8197842525400077518 -1.4814467954695771379 0.48833088931470730598 0.38973336338485747854 -0.44885434594761614013 1.9357459495710758191 0.94315138365730355474 -1.0907901769588590479 -0.61191023931898780308 2.1173262224580602364 -1.7734268705640516828;0.70524353092032054935 0.11007344392522294685 0.16982612288662457534 0.29968014375551654815 -0.017951771132893003941 0.047303606014253977985 -0.28820126529617151601 0.045491574708964276075 -0.40679901710860882913 -0.17265509161304318231 0.35292249239641265701 -0.13659451654957754929 -0.20374165403613439529 -0.10508963047352085085 -0.026817485048759730909 -0.15449052894067766273 0.012240180080102806143 0.081938581835730411873 -0.58795416781346843127 -0.22267443777903739299;0.57394020893662356375 0.06100321396779836286 0.17430087401766103383 -0.064775783112585055834 0.078029049379459924918 0.2713688531572934215 0.34884155114098702732 0.037520614241033839464 -0.2603831857766776281 0.2560765315598683145 0.014467653573164852843 0.028264963342073613078 -0.30572109744413938914 -0.013196510934652398717 -0.39530341358910969785 -0.031433535491242600712 0.075557664856964926181 0.14730458308812657831 0.16367985902399065368 0.29035629195283207959];

% Layer 3
b3 = [-0.59956517430649391986;-0.5602266998545410992];
LW3_2 = [0.37645394979796870105 0.31006270002572983158 0.25400454901446450906 1.1422258930366866458 0.7972501555285661512 1.3835078788318255771 -1.1763300630729192076 -1.0333389999123041569;0.39610972915862691091 -0.1627146980941688581 0.22750754291242974992 0.75357046689133833084 0.76228830937113933874 1.3776685682145923817 -0.80416293652165482531 -1.0058558607075231972];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
