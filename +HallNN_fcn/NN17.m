function [y1] = NN17(x1)
%NN17 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN17(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99949137984241;2;1.99922275959842;1.99970261075052;1.99863544859033;1.99905295079652;1.99998840154659;1.99855801699056;2;1.99875896490118;1.99816245082351;2;1.99869530111827];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.097587473932448223768;0.2516521459901037705;-0.050017793135244903446;-0.10629783207280066315;0.1247182263588265394;0.31191640224565275741;0.78955799916883084855;-1.6989296164546936474;-0.033902481387249008837;0.18671054302124748259;-0.17503204384442949681;-0.92899431336032978201;0.69673837420530704279;-0.13794377461807211249;0.27973817859799426921;0.27050817233569468545;-0.0086804780342404578436;-0.034135128283421273254;-0.24913683503147934784;0.47068657226573190622];
IW1_1 = [-0.27399478584428482719 0.7121166476405035306 0.27464665839518109802 -0.032086515925660537285 -0.24428645245957134047 -0.35381047326312586865 -0.26177256411121602175 1.0833659698928790327 -0.14853994324460204068 0.16831983134024519622 0.1100446033243916294 -0.077183741443365927459 -0.044895091596270399192;0.17360469786264465242 -0.07276723265196646806 -0.31290448650641616846 -0.10325015112850248478 0.19430522273885483808 -0.1871594466884950736 -0.33503687031068102309 -0.11092370984235230824 -0.00044358477109717473277 -0.14116731899036763509 -0.0052372420399408167388 -0.048987370786989732629 -0.06446938347938793723;-0.11270582040978005534 0.29020690560252893064 -0.065311833453093923185 0.062234752304097751274 0.12009216148649502764 0.20396041319008975656 -0.22752359311608116865 0.24866815074617978909 -0.10721537060633759553 0.16789541301084767722 0.16438695006746220639 0.086745982032635934877 0.041411051723201357244;0.87176394790765110443 0.28260030352913828589 0.29190931177710183198 0.13197343614782786059 -0.057306303815850542782 0.0056370317335412267051 0.12292304484557230182 0.056891128022875943337 -0.10323284764280606096 0.18652877808817663885 0.12606986079446011462 0.14968648541334197977 -0.027372583648729326145;-0.76245607296211670434 0.41115603916282295049 0.52217089578873920885 -0.25971889620233024054 -0.13551719303815090711 0.0043257609697441492397 0.42395464238416591396 0.022005718333702121992 0.21018843901449718592 0.12868691409856894414 0.14724393530433280142 -0.14716060411634840355 -0.12739721125514794076;0.23155179648330598274 0.075837926552368539745 0.075947823320325638652 0.1272586926572091548 -0.2269744450867065555 -0.17017618469250220259 0.32985257084023889007 0.059963107491433985385 -0.011789564031081672599 -0.32450318968508579109 0.21239113112744034684 0.054411045761642934382 -0.033476966414825899687;-0.22811028047617529224 1.1200987040286312091 0.47644729488812626039 0.60810992711329314719 -0.23337205044700432 -0.45997493366770225709 0.28600054536181268583 0.29762457003322617677 -0.18849160066304737615 -0.020868528213660426929 0.5255423355295627541 0.0053218896567178170659 0.075740380333918264077;-1.4844450443144938667 -0.53082262313329264813 1.4994526592661121533 -1.1307098709649880952 0.35066065684413705306 0.16724381876957705728 -0.51147154492625845901 1.1854240696558020485 -0.13560906389341395584 0.42250128604972825297 0.048037784675815924096 -0.20660953630785283686 0.22532021988642386701;0.37632306291982953184 -0.016675128852800591428 -0.68372411536547528232 0.68274550206470152602 0.45951574856485655207 -0.012931390855833890807 -0.50129783061166899305 -0.079002477994018618923 0.030948993418853744386 0.082450137596729783374 -0.016536423706066501887 0.031775720347435726376 0.024822548870416169531;0.99750186272530250164 0.82744905540759972062 -0.68978746347490671464 -0.92241848145632410194 -0.12834153430838199372 -0.47267425797684387012 0.47450839718363085895 -0.55042999282491977819 -0.0088084675376473055286 -0.15761646078602020715 -0.015577423099023511577 -0.027459509203184497006 0.054420970268703613981;0.51255897029549202237 -0.22580223134693891418 -0.32693044322462627704 0.61597514929731200795 0.60990078843939632414 0.7748023913617204661 0.55446728286668112151 -0.29766110166147075056 0.47692065970314834189 0.3080794480822017789 -0.14097002141899375727 0.01934335172967361835 0.25284918874253559107;-0.32585528784550321646 -0.69985106873307745268 0.35897096389245586323 -0.38954197208505730865 0.95330191364055139047 0.59498125276511437676 -1.5451649367645201583 -0.30971546540603750453 -0.070183528042969622884 1.1318223682458965484 0.0063646242475154345131 -0.031527957252088338602 -0.0073393575113904156032;-0.2613980285946937987 -0.39725570980557661782 -0.18867668202410894929 0.24535479505361906805 0.22773536082387768609 0.35202745328617962572 -0.49916537179645903421 -1.2681436489718678207 0.066120615883837968729 0.21089133308695237612 0.36569117793604699607 -0.073648938095193947073 0.1950586835445043965;-0.32092068208489687997 -0.12046634639585068749 -0.11679826363285970847 0.67981452673691000754 -0.25835522894253010184 -0.038650077174041855277 0.22426732200953305996 0.0045109621017943961341 0.02814378609369319606 -0.08426531969865812266 -0.29553677284803892 -0.075803475134069805974 -0.021655773967181206341;-0.18739307698373175448 -0.34765218504604950001 0.39664098976148431941 -0.14463564932696709731 0.049393711382095605023 0.35386311562947231346 -0.0013150502929623207517 -1.5144855494930835604 0.1419394817660059871 0.037416312636251433665 -0.24789729051357933809 0.11498949434502538092 -0.022828026381401144568;0.5318839914125804702 0.5748795347493315111 -1.0575440193763792074 0.53863740610628974004 -0.47734744987279836836 0.032593626354326415973 0.15931461697314275305 -0.034991378301116260463 -0.096785781040799170882 0.61176590567739930204 0.11343901795255378895 0.097571425423534155486 -0.038522478051999722859;-0.78111311204385092122 -0.16325065928050561115 -0.13222147131781097906 0.94947062154049843841 0.12374171539881863302 0.067930569242509578065 -0.14997905547311551899 0.13534836521222110006 -0.014597283477297851376 0.069197539609474376099 0.019548969411734746365 0.03435931696392641177 0.023596195759206264192;-0.16943270516969000106 -0.16650604520150530385 0.14104034254324698816 0.62711565293867943538 0.088921946481132385642 -0.049399731139207356256 0.06807377471701485383 -0.11820851715632291201 -0.36845974154038274584 0.019913370653366749274 -0.0085026470654692501427 -0.24123917452627580138 -0.19221856104392470721;0.37513085007795948789 0.2885106502931281125 0.13374828334528984786 0.015063864592107095719 -0.52287987554487447284 -0.1089816992082320718 0.063912558206115396842 -0.65510162309645203482 -0.11019330974465692263 -0.014320135077175565746 -0.061510762710294389355 0.16942585911909510688 0.023236173266137988974;-0.018707163398091225526 -0.20789993688590940879 -0.39545881764808610281 0.083368584016896937761 0.26638061526640899324 -0.032481463794834304626 0.35393632731932284097 0.63505947534885842654 -0.028846084509189094669 -0.16325129332117038761 0.18640377419401002457 -0.12168273674080168356 0.15503144979191188502];

% Layer 2
b2 = [0.23210093749601146129;0.41111290309594461512;0.010038345411453248809;-0.12004092672794595964;0.045762095540949801475;-0.68669146953198401118;0.37427780163841040117;0.0065707952992468954267];
LW2_1 = [-0.86781702876286459514 0.34637677146436618436 0.054327605136529018293 0.54125536751427627546 -0.15333826767233205146 -0.1952577411553805542 0.2414533632036945654 0.5292486056131682215 -0.098222952196042906392 -0.31526000775031226553 0.082452621382881632894 1.1697102695578793785 -0.49036523955009736486 -0.5264392160063060544 -0.44296615747040646305 -0.49126825614936475706 0.1592245183204585024 -0.15925721218202171237 -0.064409095916893602252 -0.243664411118804769;-0.051195321792781842141 -0.094057281341152654264 0.087204215699828932506 0.10999102477389643973 0.12967733625330540859 0.55357203306785018881 -0.18904600751528694014 0.21737704017615494534 0.47758876508351716383 -0.10980363994210662337 -0.0069080801371082210804 0.23427330710282173731 0.060328889380018631272 0.15934782959006787983 -0.2751787063068832917 0.069301887843242371279 -0.28500446713043231517 0.078699681947587168951 0.025680421796507060112 -0.064496816820098348821;0.094180162452254703731 0.12253425476563031826 0.29066083450313262571 0.025340290581945597304 0.02857900238929298592 -0.014220448911148883889 -0.16601566032374970305 -0.17534347425469359871 0.24510896896937053868 0.21418357049632269495 0.010315368876929352157 0.049426664435689611488 0.23879481319489090363 0.15002902202847803736 0.056457914664441402608 0.037642732022290396887 -0.065454981603853476524 0.068903479864116962128 -0.080081205898834204038 -0.038722672047971549991;0.30818430058016593742 0.069988622506531275591 0.095862419527256756413 0.19202132800042925886 0.21884543884218068954 -0.25766755783014183567 -0.32852563561795450342 0.34400001683236020034 -0.092928416342062586386 -0.085349542061154831663 -0.15064564550784181884 -0.02463523901486236109 0.24235979595805054454 -0.29059099268624766221 -0.14737333933002333408 -0.44105345332207701592 0.26902188340149457702 0.077641694673478395261 -0.31330615034266390273 -0.16204464017079525662;0.10506785244560447323 -0.073680616802297926871 0.27714003925848912369 0.063237911506916516524 0.17512576665418594368 0.052928574240460053713 0.066839875221410341433 0.48454739772305976953 -0.1898187653842567657 -0.35068807601337642632 -0.055298575500518892811 -0.025358550476651808836 -0.24675880800693894557 -0.1100841417097134789 -0.00046226412657216203045 -0.3112849520302477524 0.046079077942808979729 -0.072678700967169884706 -0.086762466411302363589 0.042626750531966281499;-0.89761714287688010305 -0.43985259248023023115 -0.15804538206845805681 0.79625995711402919319 1.1173793164729539651 -0.088458002222907658463 0.98740345653960015504 2.125904264717204839 -0.84256377093270562462 -1.3138247220404954962 -0.85228852092300877441 0.64931900693385180556 -1.3428261806611465623 -0.49407421582240224067 1.6286533482137013351 -1.508301979975383178 0.22731643722631103555 -0.72341997781988354177 0.49786846370204668188 -0.50962298640902770064;0.080937926964102166472 0.40555283076711740042 -0.070405745414242354441 0.064634580706112707005 0.098367805680203271312 -0.039201486990560807655 -0.141002434509144986 -0.10157883312384215213 -0.49622530405009401822 0.25144459565721788419 0.099822215505670219837 -0.17404527517475640308 0.1253139765671909267 -0.19378398130818863532 0.084384331851761321119 0.19971913473531593963 0.69996516583518864074 0.030989372023694203989 0.27609303274638719028 -0.046688876220371954007;-0.098632121441306355725 0.18660250786204043982 -0.15489452590027000256 -0.11331248960320836061 -0.28003471104269439529 -0.1851584968517268337 0.20640973740629953159 -0.25494964768072581052 -0.12776851676052217166 -0.30404022643976369444 0.054213211789279923403 0.025129883475213214694 -0.17600187754910581739 -0.3095349863305323912 -0.083758425889086843275 0.24971870166736342966 0.13936457236953150862 -0.11008170510223307115 -0.26888096504185932112 0.084769911976419337618];

% Layer 3
b3 = [-0.54395640626227959036;-0.51704254773994950956];
LW3_2 = [-0.21802416850674238846 0.87006678509737178651 0.10510510892743919753 -0.70725489886870185341 0.099509016611746589631 -1.0765756727951107941 -1.059328762250047129 -0.62854434239991696654;-0.15687484127481701734 0.84742792629016394645 -0.48078556887933004971 -0.42860167661366282976 -0.30247110542065075434 -1.1271518914863054572 -0.8792399449809833456 -0.50596986807255939222];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
