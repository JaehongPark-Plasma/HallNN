function [y1] = NN9(x1)
%NN9 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN9(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99988436636735;1.99910986738952;1.99824261748999;1.99942238815001;1.99803602433684;1.99843798571809;2;1.99874123821579;1.99915088138743;1.99906830379469;1.99823884218342;1.99806166696616;1.99871507743794];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.45711975921694841807;0.089289559663176490401;0.13090407243641016821;-0.073989243049196226631;-0.29365401019396980553;0.19483822010247642265;0.12100179773715258325;-0.1501630377542073902;0.30765192157843174181;0.056479567887329940046;-0.12926666622274249341;0.64074882795950449665;-1.7272319950619423601;-0.27654936820764142169;0.50874374230455610135;-0.4833356525984431884;-0.042446278153320166071;0.44718422347825326213;0.056758928577250941649;-0.10115636380190133614];
IW1_1 = [0.50352182556720004314 0.17921901181385124779 1.113099919846266328 -2.2528696992594006154 -0.12149945123213878873 -0.10021803178368200726 -0.15072531020382690103 0.42237992502055110577 -0.07838851362791943167 0.12590460458528701659 0.10302983894138471876 0.035497139135587711667 0.07100773537198241947;0.23425317238616807924 0.12806973492623641153 -0.057734051187631488244 0.096859464462263941686 0.56333342526293139763 0.100105915889781516 -0.53364516498548419943 -0.029590617497718095519 0.025981664178565153783 -0.1467363473422536313 -0.055458379522217590707 0.0080473682793562803517 -0.0036783752364400726029;0.18973403258809273808 0.62938289120513479791 -0.10783211680581476777 -0.079680496076522486226 -0.32050106277810541666 -0.31446593492774216339 0.16897015181462907152 0.10861077002381260004 -0.077909911756186028819 -0.064345068826519177807 -0.081177956781328053371 -0.021942784324449102901 0.037592754556545801559;0.46707562416623149559 0.076344422835444861186 0.017335989820195241151 -0.23161194263032824914 0.32794938581952109979 -0.050686048371364755827 -0.50132704310076769971 -0.43179189700204406721 -0.096171313416283557562 0.13665675762755938316 -0.38559398915837778121 -0.032283884975293844488 -0.034727533012761810371;0.33840847622407238537 -0.36774266166666336186 -0.57784858344253131612 -0.074593419309836497821 -0.016826488467713066749 0.074691151936913821596 -0.089438512900786637516 0.27938396583792124428 -0.088473611147254382914 0.16256280497325653611 0.11259641589084509739 -0.011526971623840736453 0.0049971545222052462382;0.20699178655477232236 0.30589362644775602851 -0.015025026565428657374 -0.0060911849206944290377 -0.46150532358425405688 -0.33210713149399562205 0.67545955177277039461 0.27662451097213358597 0.11726232595493969735 -0.29768166854053801362 -0.083445979299776332216 0.038409695323091186392 0.012765425934300154986;-0.049635158238937583663 -0.1369948593220652322 -0.15237220600265358184 0.028327347401187967513 0.37169222688904957064 -0.047783757702309963278 -0.50458183679863610749 0.040779340943180766854 -0.049142344011834947215 -0.22763414677571608413 -0.20004161260503716679 -0.031684355965118843335 -0.029798276438469051275;-0.22545985772686688575 0.97984995884968129065 -0.5762381734635716457 1.6207727882629412441 -0.065992024964322770764 -1.2437359509031702398 0.2255220654568733385 0.1619906145668372488 -0.32303585156242459187 -0.23892481006279595035 0.3146026951698310814 0.46185138367672684545 0.32498802609744664727;0.21904756631230029584 -0.338557429249173647 0.3303839507681013421 0.38110822717073294941 0.81691705572308781491 0.70820586444392907843 -0.065171316547802490837 -0.19725933455764554925 0.86611697542093435409 0.1500432024878456394 0.86516317173652590444 0.091608483977046642477 0.084844522865221927432;0.37467194476431325834 0.24116498292445034957 0.076720587105631496416 0.076408364859349056641 -0.39575030195183519277 -0.31946162660393223609 0.62728056542915477944 0.062461735713703170347 0.21304630591961498665 -0.40943692130083803038 -1.049983328311858477 0.026536341531309858705 -0.12409722890823647601;0.64124998476606775988 0.44723287757886048821 -0.8397916897547111903 0.13123480486716757043 -0.31329574271386056994 -0.085772771701865660465 -0.036704096380590502113 0.45070432168644453119 -0.15158317315103442269 0.35297006632605543164 0.57319703556555123836 0.0027350890079226430202 0.071931659364269817658;0.4018136906221986826 0.96020846609972509977 -0.33371670236108813556 0.25707237583436420847 -0.99721600599160709066 -0.54949081117593601142 1.3931095857296409424 -0.82785037705210118286 0.1154817292801547518 -0.93621650629192454396 0.6056230011389888146 0.014851810795771252724 -0.1365980534809452529;-1.8473565243412433112 -0.35209329867458294405 1.1853597446800920867 0.31457767449726820042 -0.023661458707005832147 0.14562816247384521851 -0.36230573946033062249 0.76613376805863953045 -0.019639386577050214899 0.37060517906381335029 0.64066811436182835582 -0.0071969340964992099818 -0.017035814123186030639;0.0077560281259303875262 -0.25198071543220745827 -0.5152363324794704269 0.10554315253257555429 -0.40732610285242948356 0.17135847981315802113 0.60558036536379744597 0.078445884788656244924 0.086807935515154963091 -0.18704659685998142882 -0.33345559571854532788 0.0064111576055841919611 0.063695129968011202082;-0.059685060417979676761 0.24652768106884154209 0.14842211341710864758 -0.6830883695083191931 0.20685291884929030148 0.46704894306485189581 0.18496893509114281651 -0.9437987114861066118 0.31096538950326191308 0.61489595069246572034 0.034896550910326028239 -0.018870298256608717541 0.13972623365052649902;-0.50314099083373631238 0.60382752589458954517 0.74253603351776131802 -0.10622178375790602978 -0.16562458981321792617 -0.86491374487326944109 0.090857202731189454226 1.3421182256269466038 -0.42812387667091350574 -0.37562415101450674637 -0.37521623165994905102 0.16442604989728229481 0.017617064186587892693;0.27108114876674860305 -0.13402972247640287939 0.021102002249596206462 0.190466671868095766 0.17023863995929858217 -0.33010355730269369534 0.18382056125249887635 1.4768820822238406532 0.11076699631200720431 -0.084528986257560889683 -0.013020150844118526245 -0.0032227219369160217677 0.059518392351565543863;0.94226528318003077711 0.70597778457682069941 -0.76015728329292542309 0.12430327482301688213 -0.3797421038118984904 -0.2633504484485659769 0.29310843290154009466 0.072455577587675221163 -0.094964825850247125416 -0.016641666538690556842 1.5271526122342828913 0.072236574085730073658 0.078316568755952484238;0.15204559752818519458 0.47809627555711131652 -0.47282243383557120975 0.492147880262080617 -0.16075651841910901241 -0.028266542710157462753 -0.39567671097714673945 0.47383315029105799177 0.022775092877594580593 0.86897572310346815616 0.00089593273990124021149 0.13023090901264833263 -0.057502094463351700881;0.056067606200868473632 -0.20735133591509191664 0.17076940533969584002 0.10307907332767184128 -0.16998704645923667922 0.085360953811361273136 -0.12587517142521331692 -0.020908937183536875637 -0.13352609769064205381 -0.0030894104591559510067 0.19126806446339131296 -0.062930923930989590698 0.021336657352056878634];

% Layer 2
b2 = [0.70035160728301826261;0.37292428878041433693;0.086287248873805275085;-0.086888268602395124507;-0.16593849464743332112;-0.004131032949739980864;-0.33946690973846410655;-0.1325306496123576927];
LW2_1 = [-0.037812684913575811407 0.23015863152382484702 -0.32848918088127976311 0.054633689022119749645 -0.02716249947321529995 0.6211917650793375989 -0.31372178390150112781 -0.1059000387150328959 -0.12725842633324283004 0.30469513836611400448 0.22696082190065886008 -0.53311070501752644279 0.17511081752655860422 -0.0036551027033997780108 -0.065982175979101706509 0.23360393913805138633 0.044429764537243413014 0.14433208089731111579 0.10464730862599075367 0.0051009361408549556624;-0.30247064470227724708 -0.34587809802824065475 0.27065034582788288775 -0.19295847589383752219 -0.11444034544956063759 -0.15199757082096329586 0.69139893794661499982 0.055169054156421371005 0.077404032321884683188 -0.38748630250417970267 -0.18852703097319253867 -0.13750527932120790164 0.24027998037074302373 -0.26659564145097591759 -0.17940189537897785477 -0.041732482243586735415 -0.034498511487276062315 0.38882504620856839228 0.38872051181262479158 -0.16297036614351848027;0.087135558014640304703 -0.067160255131793952788 0.048697637629143822324 0.039083904903488765614 -0.27812882060648136395 0.20741380540109960462 0.057941725881906117057 -0.20670326439479985714 0.055403422234168803184 0.37889509484183675481 0.11266813039787354489 -0.35871503824166361962 0.3393449472159444924 0.0014646208845151766249 0.2280277976110344218 0.38817764378092778355 -0.15298189483495050478 -0.25051582980809372625 -0.13775516476478441574 0.12549378872580668753;0.15537169490381819159 -0.13219448992140386823 0.22696149298245324455 -0.34409433642042464019 -0.32980997382025045717 -0.19444712169093511522 0.12076166228120469026 -0.18221287838311175933 -0.00078353798424713209589 0.18365891660840302779 0.015770883504987936313 -0.37793863498191843098 0.32572993582380221911 0.12390283267240782827 0.18721667751096701671 0.29947093978701816441 -0.097693070043064614283 0.19639597438967634768 -0.10975038553277413622 -0.15769090209922165258;0.044242342130631620578 -0.072158517888646647731 0.42284735444932597392 -0.10449747465099196164 -0.072674536518398821783 0.27048812781229625291 0.27523626233107983952 -0.11909583099085127578 -0.034423146263890973262 0.0016744366908184784432 -0.41606945198143596709 0.9472165711493439888 0.027255757385102170887 0.89148239977395149491 -0.0050859831350207398981 0.21262148619424406371 0.54643162931226696433 0.029682372079745947963 0.40161572773409603965 -0.15755166035607665043;1.9212235461838576001 -0.67252085932062422025 0.14699431645916874456 0.18011153023332115986 -0.35645511850788297314 0.63871014809169524007 -0.26355379652490851239 -0.8378417824762620647 0.50409601107819124177 1.3780266165129324563 -1.49269877646224014 -1.2816081768410059194 1.9810048145145304765 -0.63674126028869160177 0.85895267934082197847 1.7429434432890431594 -0.97844934748961642779 -1.1521799638430556545 -0.95323178053176005342 0.54114552586453279481;0.15847737765765876339 -0.4237678093816032443 -0.00016635260471165643631 -0.18776322988934290859 -0.20040367492692801044 -0.25570112800301331157 0.28145166048962977356 -0.034630100932475323117 -0.036773148343325331999 -0.069570326162018386595 -0.067926758497748235266 -0.15244055003223749845 0.067097138763466138145 0.11202757121467292467 0.045693121773876438363 0.045177320325390651901 0.091324503099208947932 0.27359302282247521809 0.046070882131733201237 -0.098654694324936453853;0.061264912720198801133 0.025981835417896968765 0.13548939681439994831 0.026892641289596119769 0.043763805339686226437 0.276274392399395885 -0.013423586665873319529 -0.20928870163777305025 0.058451252720083911318 0.06461480118715692833 0.29883075548618476258 -0.10115061061168206802 0.24656741255155598114 -0.030284204427307212515 0.21013409970932786508 0.32585309072483115145 0.031624839128841765457 -0.88614179710124818534 0.10594138653049549326 0.405030688894464308];

% Layer 3
b3 = [-0.23686899235279870735;-0.025066231743154036155];
LW3_2 = [0.5611017813237627605 -0.52988721370180413839 -0.23782770259870056329 -0.36620516118011547935 -0.25580868856224192598 -0.97192502968944705088 -1.3113900995135359118 1.0195338970488625474;0.48440918824193446302 -0.49858389812449754874 0.64973198981031132782 -1.0255376758492849021 -0.2106331415402900864 -1.0606985996484814549 -0.55084638650004269511 0.70519837158917364484];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
