function [y1] = NN1(x1)
%NN1 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:26.
% 
% [y1] = NN1(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99869363565702;1.99825413958364;1.99933767058307;1.99864468558898;1.9984559690825;1.99846907646877;2;1.99818686776885;1.99800299563502;1.99951548515826;1.99811379640138;1.99801487089574;1.99908878869092];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.44057280525775383007;-0.45651724453274367121;-0.99347319053606053529;0.22280224336831505605;0.19363597421949507726;0.99502483537315367101;0.13726901685569567468;-0.054430258713199397569;-0.11130736377006902882;-0.31755404281322552329;-0.2183262653381037588;0.20595044830086009502;0.35005726203174269973;0.11271916513107278768;0.1302244020043036854;-0.32495279961511630562;1.8155188322909316945;-0.79623578502034397797;-0.11969207958316882556;0.62776346444228070531];
IW1_1 = [0.46474300811505286912 0.043684991599578851251 -0.22406718400682570924 0.13720053592599887327 -0.11359842167523255541 -0.25774156247055879376 0.26166156458870776236 0.27902101508485888104 -0.042047914780215453479 -0.084357310902531554286 -0.029647624737698052844 0.0012477850494587486817 -0.022551545940088228714;-0.10755740499675892075 -0.81856599716058586758 -0.18209079924923418647 0.76776733404945274319 0.35180641760107400628 0.29729452523626542781 -0.33622534470462495104 0.20177184646251974942 -0.15094710618121892631 0.17416514947055702911 -0.43534684221677472094 0.08751438860984418755 0.023918687450290063157;-0.45270693602746481243 0.093002738840206974902 0.7823555840005003148 0.23861079370261334409 -0.05556584412358390318 0.36641483785579059829 -0.56040794439168239993 0.88730730171017813124 -0.31813661023875211553 0.76407159837269211788 -0.56862822990919337229 0.16004297765211272786 -0.052880922580643974218;-0.2703009206614337967 -0.75264808219301504444 0.39401827234525316213 -0.088854450017889122226 0.28240714483677803459 -0.053282934449043972691 0.37097583375902531966 -0.13651181593122105329 0.079150502048647833342 -0.74925352383780863263 -0.27532719660321353095 -0.087647447556501265065 -0.017334623112978161941;-0.20399170478589961908 -0.20645374325355542178 0.013054522188831829341 0.00095993335150589996149 0.47396117323520337017 0.16879571894790287856 -0.57454940938740872713 -0.29838621061961356773 -0.022559676285403798546 0.27401843047145985066 0.18396942963056331366 -0.021386614501252090154 0.0038210719440750821017;0.088013193036266881841 0.56948414422432647175 -0.6294042802120214386 0.61769257078718464715 0.12892648237933221345 -0.61935370128323485872 0.82611092535004326809 -0.82128386962104249491 0.048605493330891799686 -0.87387638390531074961 0.39268758798010633404 0.11264766979472151665 -0.022452439785460107796;0.24629227766404063193 0.32039537664860573418 -0.46323361831304604719 0.13222503644823271896 -0.064892211095858076675 -0.25267920493944745486 0.38323562725901400006 1.6128045942311675098 -0.049744938072583684552 -0.44346373727018623123 -0.22410283993335511354 -0.024604675387272512133 0.012208018847037184484;-0.10478896935406051272 -0.14755491371522988509 -0.2278858477869686594 -0.51343879044121976118 -0.42553079216519129613 -0.84097291664686679713 -1.0025376262173455455 0.11329398597876630395 -0.6839242610958669033 -0.17632880504115228115 0.27262119834606562963 -0.087179367058168033555 -0.073607420482839122644;-1.0062597861819833067 -0.14231822126006030138 0.83354943147138516046 0.11971639871859482418 0.55896649924338936977 -0.050588772548962310238 -0.1697449871877735883 0.090225528832369547572 0.05910071167634377981 -0.47842628366056744182 -0.05175537260795869815 -0.0055182040638980297403 0.010047893716540476708;0.93059196589388559762 -0.10446331766874271396 -0.40764519600123338972 -0.1034699861530508358 0.79050141065917300942 0.11719991783884850522 -1.13219882443910147 0.2582721215470632492 0.066710199571433551058 0.16035639232126908116 -0.23983643366965051724 -0.034191957246470866538 0.092766449128128314339;0.28780023648324259966 -0.89012012229130099694 -0.66871460187878162262 -0.50231361638136196035 0.41206032696626188061 0.52572465888651132015 -0.40191521097619453684 -0.89359657624422417221 0.022968246076986904153 -0.0060767617234759327763 -0.077978119136582618731 -0.02017923134304895269 -0.048965135317786297187;-0.079645154226019601595 -0.33644576875048143316 -0.01344699441818600176 -0.0742554003776140642 0.066830861545937092494 -0.60115449890839800506 -0.1858072636705393188 -0.38050797923738843842 -0.075753727577217641609 -0.11493586319764234616 0.19664016428732541963 -0.57110103769103914839 -0.23663645620243153878;0.16989942515233660836 -0.56806382614012995713 0.56983697073719696835 -0.1715986206398068814 0.58098312738387192233 0.20581298198857012061 -0.61476009920593377434 -0.37842635041077593572 -0.010538952802537412262 0.0022044029602615528365 0.28759162439576280157 0.04377998102470127828 -0.0013031759761006004705;-0.17887556438542850934 -0.32535829569025942476 0.17417456410803694444 -0.40253279668420943738 0.25890924199317139065 0.33613765812007551093 -0.1228087087175060016 -1.2562512953925102366 0.036068878557278673258 -0.17225156893435386585 1.0879013028937010166 0.012967219858076414057 0.063664010597631590094;-0.27330161489232018823 0.52642023377464552958 -0.043170652725725656984 0.21975426622277924316 -0.70031545179622001207 -0.92297318129818084476 0.81814893125576415578 0.25963118448206168321 0.31503188992020270121 -1.1015525747698493575 0.022103450116666999159 -0.18888064719974845262 -0.11334915809756200555;0.43927070428378495182 0.42562007899428422331 -0.13545586187709002246 0.16915290609838892766 -0.071264354822651226895 0.12145986051343113377 -0.092760253461102129546 -0.30128250767472186666 -0.11931395619758064508 0.22593824236512391468 -0.16274664086262613516 -0.011209144614761964304 -0.057361098177506619766;0.80900266917597196681 0.63561183081162975217 -1.0160085104673448608 0.78429478965088372799 -0.47736822240481679991 -0.15550589271374248845 0.5256749045485230587 -0.80284826408832710154 -0.035942726420441196977 -0.31504643393273107366 -0.63338451385390814874 -0.076761443791513783719 -0.10532600879507031388;-1.0497261525120480385 -0.10119897541252018125 -0.082083994757940884068 0.59362189519924646319 -0.062421939376889598594 0.12084561927303291706 -0.025636383014497044625 0.60823620537269196262 0.071583574745995331989 0.047448371151608423335 -0.46910695264260704462 -0.25379957486465076766 -0.030178368745492022834;-0.37707418737158460154 -0.21416561547190421377 0.31142581074669878349 -0.042865399978494381217 -0.082442421628951670365 -0.12355694064171494906 0.15639867792408171376 0.17361702632712772143 -0.00457076110830869492 -0.28459862546138331441 -0.39743293204996421597 0.031920968301340613138 -0.014284789922387382613;0.90937390705795095869 -0.042093760553094980437 -0.28071519858101545708 -1.2565258767948113139 -0.097761305806322321144 0.01722585172869613504 0.35288962655767341925 -0.32693123243137117706 -0.03931877685771108244 -0.19414229119233547549 0.32482685449269488309 -0.24535094870704590719 -0.01073309322637241818];

% Layer 2
b2 = [0.092724311708568041279;0.021967440897121891935;-0.098364769841824351015;0.095328100497151638248;0.10759773728026043871;0.1434891422389787119;-0.3776142390963991291;0.21071649191653782363];
LW2_1 = [0.24966736057794605697 -0.15152679777100921954 -0.050985788082472317806 0.065225706375126785153 -0.08969433847577044927 -0.32120334751037726839 -0.067453498659738930776 0.017322033941076370178 -0.097443489184954310001 -0.18428762938130022198 -0.30195577846894461338 -0.05684174238118492456 0.26394124489877701656 -0.044668782505026434493 -0.044786130829140687049 -0.035753683284437821899 0.11780460597031207348 -0.064988143914374893462 0.22584076336386516015 -0.047965873645232005862;-0.19538731297158279387 -0.12339783612345915642 0.10999886549727218299 -0.016212845988259370206 0.3405232171410282338 0.1786631163661131505 0.15010376829765342821 0.10379680594520952763 0.20989825802016870426 0.27396281529124216769 0.074150735739182557782 0.036274967824794675242 0.036671756211264672221 0.090317996421189539191 0.018399120585366433855 -0.056574512418961914184 -0.14207760618195697244 0.17947340138716366686 0.19597778747990568515 0.083988708061188382947;-0.31835915272532377962 0.044844749193130153953 -0.64977491148160104739 -0.31820159293447947135 0.17757277169732554878 0.1121537316985457694 0.054174643081070041062 0.088928228203043677147 0.25108070044470576221 0.3070839736650598506 0.24200398037172654586 0.3144323988761528188 0.8658338613897058611 -0.88801983190869293594 -1.2761017269636478755 -0.40546885839561469522 -0.73954599542701249248 0.060291350872869464705 -0.033238045075617402013 0.12676723451998828107;0.31159859894118141499 0.21146374574027401727 0.16279274037913130102 0.07934532877823298469 -0.65308149801398918122 0.44628479892493000403 0.0048548336391078224586 -0.062516855063829701589 -0.22730350967778231719 0.34992429270030461774 0.47825557920111250176 0.11649034026658591778 0.013659283216994657847 0.19677430817952332176 0.24934039224536486135 0.2697127762684838892 -0.29824314143488928064 0.040103409773184627019 -0.65853845285850853841 -0.028716185621092276542;0.85867376238657622256 0.65781561287458889531 -0.44028480701210209736 -1.226930709998860225 -0.33008138178001178442 0.92770339330657458632 1.6349740323778163553 -0.28552918500705065652 -1.4778701872224087044 1.0725699483708766024 0.91267362780335792305 0.24424170736065967113 -0.16579366350890276105 1.2296759441600855212 0.20125818085980973215 -0.75931895061257348445 1.6410350391355208455 -0.57843280121573126262 -0.027488600673564463073 -0.53368714824994756274;-0.50455076731052461714 -0.40116870462899106853 0.12691627583806763813 -0.31994965771088096362 0.30553557362312122603 0.0057763758437249851027 0.43421570770528172822 -0.095691715084733799945 0.07694480221666791242 -0.0069238418347649550999 0.27515649484657922486 -0.05722743458794210536 -0.094050367878740229188 0.2357863757537559668 0.021125116547996463517 -0.020697586406049881674 -0.04875771211824254936 -0.38133165887698072805 0.33751615617872832154 0.17851360444370256708;-0.1052885598142121043 0.75608012707656924167 0.21151380111656237215 0.35069589361603797917 0.17506209233988637153 -0.53871154947220001308 -0.54442481134383424735 0.052518689324404635443 0.83441643511757290774 -0.46741131672183161561 -0.75200491386367485092 0.30138406401272666013 -0.96122388691305560293 0.56577858467197594816 -0.24056686478983041466 0.137938922811882414 -0.76344423071372446987 1.235275304390720752 0.24445996342187881201 -0.79706719129168013271;-0.16019358124608396032 0.36140762626717776174 0.0097636455157492554185 0.0642281067739025463 0.054132417626598067217 0.18987742551118483303 -0.18146689166889568012 -0.1202718849984728694 -0.47433949872619257659 -0.26091391469677582826 0.16952744139205253027 0.14934000345903972184 -0.39256797746278326855 0.014279140603099356108 0.048894681781518331554 -0.30292458838354446859 -0.14414707159096551425 -0.070981402951139555002 0.13361116500476438729 -0.1783688692812366583];

% Layer 3
b3 = [-0.17699934599566069515;-0.18481521864778790998];
LW3_2 = [0.076881231539137173669 -0.79821532234899306157 0.10707873262776439194 0.54672037719162169811 1.5022572391701798367 -0.33694289086552831058 1.0722593389597776525 -0.70886154227537023775;0.45486804330732677482 -0.50180902538498850518 0.1063489319083251311 0.60978413806218467741 1.4488209403616369997 -0.31112486622740304076 0.99016194397664780702 -0.44541719596214290888];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
