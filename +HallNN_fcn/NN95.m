function [y1] = NN95(x1)
%NN95 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN95(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99909544775437;2;1.99934839021186;1.99819193403516;1.99870000686628;2;1.99883959581299;2;1.99930491187395;1.99809813629134;1.99930578676078;1.99806350467955];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.54677291345356060503;-0.54933443863228803572;-0.12463156576182952973;0.24886343230209651001;-0.34508247763251231888;0.85287401719898481289;0.010193903977922424281;-0.60141400741949713193;0.19490761109616550062;0.65985476101573714569;-0.27605655129551348592;-0.10332374068370968334;0.66368643970187757297;0.097661747853741973091;0.31445690906875189974;0.26452332675001377638;-0.29893185353188450604;0.63141089541363082382;-0.23284166177089166139;0.43436172839460956974];
IW1_1 = [-0.22998841083301257981 -1.3882330582490436388 0.10346315507072685602 0.050581322737601984441 0.77616070462982877931 0.4149692137641237677 -0.72115847622008111273 0.43675199630526667649 -0.094063685897553789284 0.50530109747651286156 0.24051839015442449954 -0.062047745320519889778 0.047490612847993732282;-0.04554987315084948335 1.0104973166625159653 -0.20736308395240923841 0.20306581665077932941 -0.96989929772783634032 -0.6956976005456383394 1.551636137987628894 1.3995249986554112454 0.085836800584750586052 -0.84493464729672762559 -0.85250665026974359328 0.025077506990400899589 -0.11320203073263596094;0.45430000883989019034 0.43333916354590229503 -0.018018666531563674177 -0.16401150990401411334 -0.1920713324807836464 0.0016857549953662029005 0.15289666795217898843 -0.20467546030239167076 0.025804864078617491263 0.055234315528634315984 -0.20101353390291756829 0.024929771112237542052 -0.040602355177223020677;1.9624138294413293604 0.32388593755625105786 -1.346258819797427897 0.17707457075921362311 0.3169671914054251749 -0.14264459932447473567 0.16381829877431849929 -0.74963179855612926961 0.23512895118415341744 -0.45675974746092806722 0.99179819978702887795 0.16040532688428033037 -0.0027729427217127291042;0.27968752479525443855 1.7877346025878817493 -0.080736563670910366231 0.076843367515183530481 -0.73478674372300734063 -0.27022050988425089235 0.075612793281765344755 -1.1145809082227833287 -0.0076801530955553243968 0.55008640105284289934 -0.49553168835446498308 0.22693036842501815298 0.095396270485866838107;-0.47164476278380995655 0.81538086989498259616 -0.33356163755555012784 0.79965008487769484447 -1.2002773767426442308 -0.81216795441911371345 1.9828150016755419216 -0.90370985009442050817 -0.049785676910465523348 -0.96041183370478233616 0.39397965106162041726 0.0078903362474754389772 -0.2375717317442849752;0.17562349948182956472 0.017750709359943453447 0.50022479040907186221 -0.41764613610347145478 -0.42236358567862652968 -0.21532428350912866111 0.45905904946345532647 -0.21049345501044527951 0.079972781060258554819 -0.16174543690316503519 -0.77198497144932409775 -0.064609677339763332826 0.00030806741787554122076;-0.11619072290121072732 0.6654972030909966918 -0.16008212168849861312 0.32911498068312461385 -0.4457043098621970012 0.072079432495138429093 -0.60571629844974939072 0.52904458510633378676 -0.17522949945740756705 0.64811974377754577592 0.5596492318528326626 -0.062232716083761741022 -0.041699427012510247026;-0.75521850441703775036 0.45971237499972322782 0.22822413656329842979 -0.090317826031048611957 0.17627531253159181568 -0.47253283759990499791 -0.057516103765442257167 0.30488236112810307432 -0.083148629207788954387 -0.039092997596689618711 -0.17630284612981350634 -0.040943537507655336505 0.14417571383598826174;0.11636857650817544751 -0.72617601962411015837 -0.81485674477885783329 0.205919361696167591 0.23442228915696211589 0.39462599561760247635 -0.16066966661732237642 -0.18664052096976530004 0.043539362580211481146 -0.060468333954628444848 -1.3378180402298018858 -0.12724103509937800816 -0.16576088178222253555;1.4424148729746946174 0.2547115424842915643 -0.75547940550835490647 -1.0689259631686585106 -0.14703339768028392265 -0.32505447208072113519 0.084530255851716654125 -0.45647596001903323337 -0.28622551650602406914 0.006100623248001233595 0.49422417454328571029 0.086575354554602759749 0.15684673061701431829;0.14857417915532566965 -0.071910003551958937007 0.81861378520318950347 -0.661638769111094871 -0.28125661531622819789 -0.059973918962014718947 -1.4673266513694951385 0.26533686503135361923 -0.13320210785591860003 0.089732006358452298667 -0.082458471711277542271 -0.26783472890726467419 -0.33670776974254035263;0.89780828801648415727 0.31381538068819664344 -0.90682748632837273384 0.47804572880422502301 -0.01336250711898914062 -0.36054643588460683068 0.04918220900338757251 1.4319237179773069979 -0.03304899094671458204 0.083280236822808217934 -0.36221283099123124938 -0.037690868588239750947 -0.019551295101640879526;-0.30823467900219841953 -0.11681178403067599136 0.40820424819116035708 -0.1092216947323116083 0.33398009714418691596 -0.20683166792211157836 -0.14587667154596520303 -0.41003709891791445541 0.019923840702050492346 -0.36131003410378120799 -0.096563791494019821093 0.0068128447792341964573 0.070032337350518322761;0.13350845322990348429 0.041617119794773761721 -0.16490994355194990573 0.7421093208529233598 -0.46494582425151692595 0.26884757472467885053 -0.38511693163163357445 -0.21462809260678394896 0.061102652335648537096 -0.37052629375103418585 0.09996150829422244255 -0.63805765604050113105 0.19779931598039546259;0.86842101111077196762 0.036907941047069479923 0.60720382595451427576 -2.0200041821683702992 -0.24824206697564549229 0.055282840481043232783 0.49772559569733165752 0.17686559112339197974 0.039731618806731879012 -0.12092669656648399878 0.40303950974894431347 -0.051777468884207908384 0.0074730445256540843635;0.17681597662833969942 -0.16453391450429241671 0.0231214364430432813 0.06388470053884653943 0.35497210552789504323 0.028236768872368079447 -0.33494427785839625544 -0.075046390696078713045 -0.036318833862901390985 -0.080430695576765146027 0.30677163733468454376 -0.00070590499944018841524 0.041430846514843765183;0.47167581559688093185 0.31716678599647624148 -0.24706258958690130445 -0.0089152876965264415965 -0.34561874913456497316 -0.21429640493372412169 0.42035606731039237838 -0.16643822266718644176 0.042357682925030323839 -0.10564833315373226008 -0.28129866632621830513 0.012464478499536135736 -0.0048151799104504573734;-0.2568619876690798054 0.42246992330016774897 -0.25269260831620043994 0.13542098274112404632 -0.29399863318030194925 -0.29442480389717368139 0.50903790540121118813 0.75312980436407783724 -0.15625728663351451386 0.030066479375682131359 0.51891009810528831991 -0.00779903186293715283 0.05712169354185714365;0.016995589912067524119 0.28463001111481006644 -0.47139629763723445155 0.27984616215339752632 0.36369607728649550049 -0.54276895952459713879 -0.18343779806688065293 -0.17848848112948056954 0.41092312289901389288 0.18013959580213523282 -0.29586180349953961066 0.35278064494681082852 0.28027553282772199594];

% Layer 2
b2 = [-0.11331234325137200247;0.38293752560612454028;0.21692203450047897739;0.24807951282934487258;-0.74266774104999810913;0.14940055579250086093;-0.11093044003478792769;-0.52958719728557823725];
LW2_1 = [-0.091638455610477204116 0.05214999100779571517 0.13611504608895111379 -0.030711660106590599195 0.038391049427500087421 -0.025636373065172392283 -0.30319581206680190633 0.14073951845703489005 0.15810115744509922742 0.23189131980511570874 0.2050429440402346537 -0.05983146045778383465 -0.33193997190787422058 0.0059960157744624485374 0.017069832654706428021 0.26079278432998692638 -0.023013988975272448717 -0.37157947277892949822 0.061541494837225409198 -0.017779921964723419819;0.069455637782592546947 0.087643365428664743444 0.22937413023777714072 0.12474560407055515499 -0.040411599793543459547 -0.10818542963152502634 -0.1625667545471339015 -0.063114114970253945569 -0.061464322456298750574 -0.21172122345646979258 -0.089256673442673115093 0.027368844163682980175 -0.064297545585193849327 -0.1421547528228169488 -0.0093346630252862383692 -0.27210825585734654819 0.46098820677793456158 0.40848351669430293942 0.073954744947506506625 -0.032022502868755610417;-0.20486890904649998624 -0.097480156341670065601 -0.10714457668116142419 -0.63697969413787836057 0.081601745865517411049 -0.30817941737135939873 -0.016004115478737753614 -0.42389818149100416678 0.022095971576784750878 -0.24877700501193611426 -0.34488466662866751333 0.011420985581939798251 0.2428552327593315463 0.21092134386716152039 -0.14481483636445904861 0.29083910247161426366 -0.17883598198653630207 0.35899335174414420679 0.014846028863095626915 -0.18557719710416695214;0.020081512266067760852 0.11471321456339465816 0.13301585475905847167 -0.47903931121822312944 0.13970566797334305065 -0.28474288025807764635 0.22274582773909676336 -0.23196992912416719568 -0.008802920424102227831 -0.11660955485213485294 -0.037472631286394240957 -0.012645207795389457744 -0.15784997956373331141 -0.15760105556351752809 -0.10372691052815490032 0.30786337184351353358 0.63554472218332980216 0.56195524486162962141 0.26771596524148078 -0.18765658311294192151;-0.1939291530205044245 -0.38012430174546613104 0.088005780630294988542 -0.28214227947273523567 0.16382347823608442439 -0.15918653141976896181 0.87721409666497496271 -0.067614624059341710272 0.45272354242423784587 0.32269077760307662839 -0.26742438349552705157 0.14419345385593923536 0.23162229495661662559 0.15991975148119069727 -0.24619566916970048176 0.53749741756225977163 0.48168712845419797697 0.16413858268326136924 -0.52477516395709378205 -0.047763176229418752294;-0.086456890264387228906 -0.16917747644454037004 -0.2362290160242929149 0.056804474742857026526 -0.012400345923516131741 0.22843965102444399595 -0.1223001843898131602 0.21144483633958938151 0.14394901207516516695 0.04537160269526682721 0.16713282974802906589 -0.022116670504210525494 -0.030215763360330979981 -0.045321766659043360992 -0.01459731256536112888 0.43532114347408401578 -0.34826947221646703534 -0.010526621762411290245 0.077964593794121267445 -0.045937861911625431366;1.5185410295637229439 1.6436385278690683887 -0.31601602308128623475 -1.7808242055368836976 1.660892049642028967 -1.3797991332844539158 0.80776784275278068481 -1.4643912064707251819 0.98441471717197848168 -1.9758240545046104053 -1.6088895264447007349 0.70519107095308619648 -1.6216605850434477887 0.62690300767707096696 -0.73033758347176613857 1.7433572304097821881 -0.65562869398680490018 -0.24575934562514575865 -0.96392782107703567362 -0.58383441379790690373;-0.16802268414106452665 -0.34581075677449696348 0.1690580234142503302 0.13179898818537613692 -0.22808775217267862612 0.61345601570718688578 -0.19637077431162319741 0.32724215819785595905 -0.049525773563698478885 0.47869014419860111964 0.10414350016625935347 -0.08637060569455343173 0.35235011551903122617 -0.30492991901395455345 0.17617492264600104201 0.25692315002068122354 -0.01302670085126481081 0.065734069486378762792 0.17607766679034719814 0.26047056319640443656];

% Layer 3
b3 = [0.14226287604736195802;0.20206112237361553707];
LW3_2 = [-0.21963986284142530958 1.1626855414569055025 -0.540866421453326085 1.0199532043248535906 0.98696275796077825859 -0.73488728687611182266 -0.86226503092116213445 0.60584588233340175289;-0.62632046438021315993 0.55372398044229687031 -0.69866251977398274864 1.0268585954527897908 0.83245847604246370199 -0.47328005858004362771 -0.89823899715122224041 0.34070527439413378357];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
