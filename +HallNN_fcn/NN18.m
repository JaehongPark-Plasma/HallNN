function [y1] = NN18(x1)
%NN18 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN18(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99835118283762;1.99870857521338;1.99813632836834;1.99810207671783;1.99861788050692;1.99905540490945;2;1.9984951494838;2;1.99856374090918;1.99821948084312;1.99918587512048;1.99822814217588];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.19720304076041603181;0.55121117966826327361;-0.3734411863397940623;0.1747999644008614295;0.16082335411689671623;-0.10471445844591929786;0.26047624807304914363;0.15074287937856395425;-0.65819561859683850535;-0.51689841202304198653;-0.017298611303095727532;-0.60806209055713444922;0.025730267646160834283;0.83959445785781694482;-0.4253773931923124918;-0.32707987842606739415;1.488884504455664004;0.73148897591262618256;0.020356944728389336774;-0.52360342568048601208];
IW1_1 = [0.26460307425804163728 0.1541137684918664208 -0.0070674377834523318537 0.0014936235416955867365 0.5078608549064821398 -0.078473047393088010693 -0.51497523274989220887 -0.21518058465640610422 -0.014145276194047982574 -0.097173039287383772278 -0.11251089625188329113 0.024166211375158688779 -0.029595270700999314062;1.216493246951796392 0.36308808133936598672 0.52079484604866332909 -2.2860219978693998577 -0.033136933014980475554 -0.080962949480940640812 0.066118599015344739489 0.046423257289819983007 0.029903482932053176285 -0.032097536468184022229 0.40203334539264617975 -0.0093279922434789074026 -0.0095803028054495913135;0.50927199623537899864 -0.91625264742915302207 -0.098623953341469464129 -0.15788084598574869677 0.76854561655195940961 0.49585823564135173003 -1.1179612587392555589 0.62710994327623070799 -0.10489228332800470955 0.70135562064248446745 -0.0060259894297815070827 0.068918539442081316881 0.045391091761219727607;0.15918477430380562065 -0.5873002791541573897 0.30850708877552540654 -0.15878675423678798029 0.0081466544638726327149 -0.02584752510539720799 0.57760492402207153084 0.1375348738490586864 0.014926154448706242805 -0.85546938469284194984 -0.025064720027135802688 -0.068186741711097495489 0.0043203551155212190082;-0.40934278209479108002 -0.16159737426912670899 -0.25851150305021475262 0.062742224498815835076 -0.0060192366809834006031 -0.27090679643051085446 0.51657679247260457345 0.070658546286459886221 -0.38582569110377401556 0.0027407751440603096704 -0.21485969256818451822 -0.040147609714767475142 -0.18767574326134983664;0.089749339349327675319 -0.80304216421031549 -0.61609758799461455947 -0.20300240128236532455 0.44786651717381581461 0.55044985655350031628 -0.22647297737117716432 -0.87792573049609401448 0.10475321513487215186 -0.080533653232842158931 -0.13999819850319553116 -0.083067013656568600144 -0.077233379586728781452;0.53285519852485230263 -1.0872532732545958645 0.34788378985567547375 -0.67243733144353368125 0.90714938827511082398 0.92617993668162656995 -1.55993265140242654 -0.36638037835990278079 -0.27028844037985494397 1.4160699810223937867 0.20484068280826756014 0.12075273626602125998 -0.003156225097770395862;-0.36329538664360183642 -0.082824190933974223272 -0.035712291103028044603 0.14747377171699985188 -0.097511760203307720762 -0.0088474369055390432448 0.14636935192114594595 -0.053191373814176240442 -0.011487121181761773478 0.0682703838031418625 0.013945821124867925633 0.050538075934601432715 0.01880254640100633215;-0.1772099973629387426 -0.11017434044100685164 -0.40861139109982647089 -0.13750248483093102658 -0.0035624928252575563045 0.14875609122274002782 -0.074459096770095531403 -0.40060339506594588865 0.021018365813393270064 0.21698208837486437917 -0.29870448662494514247 -0.057883018916496262185 -0.0011571939828361960459;-0.49322714921300808699 0.0089364496431563432421 -0.18844328608866886543 -0.16463012162052492737 -0.47413236590888307997 0.31875047306348580634 0.18714478969209238923 -0.97504275052464184359 0.20275301860796518527 0.5375280104300278472 -0.20018818778683597492 -0.08852105669146884126 0.21296345946011510653;-0.051127141571455946012 0.16915664363981264273 -0.23023306684084238194 0.12969227466243127278 0.18576387658166426675 0.11252007989566360779 -0.10570541383226769727 0.33379326726116015367 0.028292634347442318504 -0.031608751001561422034 0.065915309530020962936 0.068141416762295931031 0.068426109838293641685;0.53301011040259782536 -0.072258738105554137787 -0.25860392386737840464 -0.25166392750015537105 -0.25207732627702089667 -0.40812620576957481244 -0.14096650979982480734 -0.16269681262925766996 -0.90509801729057182129 0.015494093360727993064 -0.18733462526945898752 -0.27646133072716916335 -0.64098354918091982046;0.97226022797547495546 0.031893870255817989567 -0.63582471422194641875 0.39427972842840197654 0.51914256596566699109 0.77821007227720773169 0.7580702697650927302 -0.49566857542577047457 0.3583979549389484931 0.37181376250382930371 0.11924890362046755565 -0.073066743170512732375 0.044832434097032282383;-0.15206371764083015385 -1.018160558432267937 0.024030884193863209092 -0.19093347237867691613 0.65267072284686045158 0.21685525311374373447 -0.088285367546821938434 0.51959520978735118657 0.19128715243006483293 -0.37616604514569235151 -0.052739007117158336058 -0.19774447604012090896 0.031070125209338619876;0.42954057620974805953 0.39349513206691594247 -0.33736739291048617462 -0.10615213231847221709 -0.29671902812583933473 -0.25371077918485290814 0.17183548397070341762 1.8943211156977992626 -0.1073077967827660989 0.18321092467785782265 0.069459007668107711209 -0.061183727396759986228 -0.043329457204456196806;-1.4323521473252880387 0.047496285790703571261 1.5676863823611282278 0.30029402705608465585 0.27097505430020540906 0.073603346097646307755 -0.140717302327140803 0.19312573625379922393 0.1051902621624186962 -0.15046015671735121777 0.4608696052349923189 0.097568910519019558247 -0.22379570096788248268;1.5617656619380295702 0.44144097399922366254 -1.3539019288349036785 0.63811386460600960646 -0.049304961474560975165 -0.24445565665504584429 0.35654683667908926292 -1.2159746300556986132 0.027968750744193360269 -0.63343322610741292777 0.39304183584339430491 0.17850522190554504731 -0.093959744028839442542;0.33339238084027433828 -0.20144821225306122625 0.18045871386992853869 0.023850406904815636688 -0.23648677237829540676 -0.14648817269653041651 -0.13032175472313542453 -0.13837944348013406226 -0.040245813533870564149 0.45131038798740608087 0.5725355910954798011 0.016413292331514631184 -0.093714972874470656161;0.36085659554411164684 0.17119929306917772149 -0.43334213850835195947 0.28588832024947008481 -0.53243215651654807186 -0.064174577432500476415 0.59999742861194149679 -0.13536516780101903734 0.029342575715522546675 0.087423182315691710942 0.12279317723442043087 0.084003747893610175579 0.054992308928119362776;0.10231252889649576632 -0.35397022173960573932 -0.092871985860670844271 0.014674522107718732111 -0.094769003242353128114 0.1805825801731447966 0.56720599086888134899 0.58275624961871541618 -0.031859534684622797807 -0.10822225823496475772 -0.12715399938980209704 -0.028855445150458843701 0.0016054886702124735939];

% Layer 2
b2 = [0.0086053496928532122873;-0.11605915376338993283;0.2079809325654028429;0.30178127009218469468;0.79014938455018057795;0.0099836457578062840629;-0.36724659110037738419;-0.013842212437472955003];
LW2_1 = [0.20960766060793400989 0.21633100019304965511 0.066218937696523441638 0.21752499470223002342 0.11827228582096296905 -0.33343500580561458158 0.026434439088761287062 0.11093111806332690839 0.019882492169254094988 0.10704785420918586092 -0.2727035618494755842 0.12936018207868521523 -0.012604785093734794527 0.023266480278893469924 -0.075982738237310554208 0.17284156394399943779 -0.21781006433628047336 0.14458482657277005323 0.29282098509108778206 0.16203130184092745525;-0.058228011909907222143 -0.12322269731846259566 0.15699555155744815416 -0.19739989430300242113 0.070189025654994477432 -0.18937291795076816037 -0.18498920670520047072 -0.35510587908451712869 0.00037467065947381725938 -0.041167238761479839348 0.3042164513796755676 0.099998752693362044641 0.06940537482277628345 0.1382978998384030711 -0.32038177568769610204 -0.00085044578758118431761 0.2891102393140703164 -0.13349482550322261387 0.36255165593335042518 0.091055095672647384797;-0.40875562240432294914 0.12221826344045538804 -0.22210621623959908577 0.076115889872535910654 0.18623906967802153489 0.033323099825243882033 0.15543298797824883772 0.2163142426011474273 -0.11422527914545194117 0.011050804258636281671 0.37919167136645481886 0.24586217082117264865 0.18082023845553504837 -0.15920901078489341218 -0.27067050713022339226 -0.22309601962156094812 0.19370697613991838537 0.0016320191434835401145 -0.25025159587856271592 -0.25486686213461029471;0.037317232134764191653 0.048331615703509168969 -0.02338940797914241046 0.3711996165798910341 -0.017187907669436237879 0.17011760814679541265 0.092516900938305751678 -0.79109542295664914136 -0.17620491040502794799 0.43124379967784826073 0.084210173723707287818 0.024226480511104049598 -0.039710185764620153925 -0.29862768864483330011 0.24572686052562289771 -0.1149921635260369307 -0.3259403610919099914 0.31522434634410184673 0.24470054227549387083 -0.046683666361977349535;0.58232816510996554538 -1.586280133148755711 -2.0267502214311963193 -0.756589941382043496 -0.58696117850873863464 1.0804234167429220825 0.87458900782179638256 0.4024306559428566521 -0.0093868542700347445962 -0.68831557550594557604 0.18449462979557182396 0.31821181219635419346 0.41260877054289474275 0.92501406500406713196 2.0585369452645494448 -1.5381106661007424297 1.7431532889989300728 0.82249090202589358878 0.35118823640171997758 -0.13827243150347623413;-0.34541971397370918595 0.092471637596940825521 -0.10037438378341556611 -0.02260964682670430978 -0.29244817943047418662 0.015271252957514962201 -0.58745513676519223178 -0.066672228216559478731 0.11380988238253814115 -0.59367023695990794874 -0.22212695072291074871 0.095719951709886966218 0.019110396961879005245 -0.57522966352638260634 -0.091002680388015233515 -0.011493915600142476027 -0.26891294752996380835 -0.1285732461120027148 0.22521352591907026208 0.37126302500318969502;0.40011182707029319117 -0.019950653953525559342 -0.0816428141544878333 -0.22793459542127234019 0.20241552129717599318 -0.0049307416371534859914 0.453566747315209573 -0.40566610587863283222 -0.17025897393953620673 -0.36130218806840952439 -0.39242804957816329603 -0.18755040866684263845 -0.018252531267383804991 0.28208228103253868424 0.095343107698740228728 0.22294214246171945026 0.011763643196166847366 -0.38044932499975664397 -0.20681210052352916318 -0.15988647785926732303;-0.059803185960340135563 0.21492199843101658652 -0.21561029246992391428 0.11325738952009481442 0.071887963944708546671 -0.25472087666094522795 0.21297041342988304313 0.0034185237223323594255 0.27947939687561679234 -0.030655347028253857045 0.11832662823024071852 -0.10646103223786454461 -0.16288569421235957191 0.11420317140021397917 0.23014924976450171212 0.42463458477567028737 -0.53963499407071346958 -0.045637470666968230071 -0.29186457975009061361 -0.057303602551057590542];

% Layer 3
b3 = [-0.71183540662493871576;-0.67757014765841594439];
LW3_2 = [0.24951863058948375862 1.0105279556364019644 -0.38096757272241377201 0.92290213941882537352 1.3035942457729503552 0.27797211389088749556 0.64104187090181574682 -0.28534041032744444921;0.46089005059324983371 0.47996916954879320638 -0.46469642911967129484 0.64640873271379262199 1.2884395910391059914 0.25665580772454088532 0.51145035068397326494 -0.46812021428190531136];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
