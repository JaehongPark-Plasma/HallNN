function [y1] = NN39(x1)
%NN39 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN39(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99957168577953;1.99917190746271;1.99949273959456;1.99914762756322;1.99825939021574;1.99856252164648;2;1.99899593872254;2;1.99919640714449;1.99812934050161;1.99968837537342;1.99894659502206];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.37885656045626991961;-0.3912944029779003019;0.11715804447971753244;-0.57945363819065409672;0.084031575101083680335;0.56401519422759260891;0.13689963455280115823;0.14076287832589545745;0.52473173215740631647;0.047311580621163216998;-0.59797194849659840443;0.031199515259323247485;0.45195354355021255532;-0.32349666244683217275;-0.080965522519376165178;-1.1731018874428911225;-0.76179761653648470077;1.8514258981047133634;0.67069955680782555874;0.25606860468811132314];
IW1_1 = [0.39130764104005433257 0.74232864758797345583 0.33142658392661622502 0.077433310165321261875 -0.18876926437477314913 -0.55991746343870041347 -0.41855767615319500186 -0.12029527694372164903 0.11614949663184581663 0.055224898267389188611 0.044229888759903052131 0.11388136386722789994 0.06260902295364957626;-0.17417417234480458976 -0.12609440788225567687 0.10243620825009130959 0.35533994015506287223 -0.31740213937835448643 0.12531918563664942723 -0.26860797356334686903 -0.44748360968664618875 -0.2064191823273282822 0.53000909566168330489 0.067619404812651245917 -0.04117021195378250259 -0.042584967782145523307;-0.5384299367103065892 -0.41482117870825702122 0.16589650869616748285 0.111257781302072839 0.15688482212450791109 0.17220208894738686656 -0.31555437776685313356 -0.01458993935900415248 -0.037615647896691958851 0.27066743152319988619 -0.010970347152509142552 -0.0044492618680155096578 0.015148368850470095986;0.31756659437810358382 -0.44501581758345060136 -0.050631359410819740119 0.59698472799377422238 0.20580920194933219336 0.13698678054602697607 -0.74606761555855050094 0.31161023071841081888 0.026712097041790103247 0.33087595538802883066 -0.32026510000150298918 -0.06170320863771202452 0.027519651712484511502;1.1910781519862962963 -0.37841643093459409464 -0.14817430706297804455 -1.1101071415074192927 0.52711871973629220722 0.28707748787103770649 -0.48397453351369756902 -0.38763732495580521809 0.040384294757040847812 0.52409368929296384909 0.024901650691370756652 0.13138474698823895959 0.098084137906653739991;0.10553447582731133314 0.14902309361373231034 -0.15342984630953498959 1.0266142001376801218 -0.076090420954403589771 -0.94394067846063578475 -0.62546869256700121653 -0.2333500189171122674 -0.26919933261262107838 -0.19261072966377254523 -0.63015015406146124288 0.21667386036916350123 -0.045980926782646834583;0.19701128509171272896 0.84083177087928107074 -0.48533251971054602869 -0.24158747956025317105 -0.87200170593798220775 -0.41627034029020693051 1.071533040841935458 -0.63971009107600762533 0.035072076935180475366 -0.38781793808750508745 -0.054237726051072819577 0.0057888728444547791346 -0.098681774620667753184;0.86248779610996451073 0.59658747156508951104 -0.34517663401058501504 -0.14231756586158628153 -0.17443158800906843897 -0.38570743701981990981 0.22601186697529837555 1.5607065756596383288 -0.064761050319223939509 -0.058824441813153618974 0.231917985414089034 -0.021986574588451313766 -0.052986265055449975614;0.023465194362705721343 1.4300281248995423411 0.23943102675281222047 -0.14128327885076488735 -0.69192829525968169158 -0.37816731785412166511 -0.017966428406991440114 -0.45581000989570263915 0.034783858722059107782 -0.095385836393135109423 0.1115210504018470522 0.028916941148641774062 -0.033713716168107539517;-0.53707810754339091464 0.25445440557105214463 0.5581398135159824081 -0.53945407608604190042 -0.65622432893513282792 -0.27846002800653291143 0.078247759915980277801 -0.073311262165660126544 0.076969860074323756538 0.14013513869484126029 -0.09279914687143225871 -0.072294290934032875984 0.0045181875641715114889;-0.20459325201230957325 0.54620550224782804527 -0.081611296169004463041 -0.09446752369716870934 -0.31981081049856346921 0.17139882575469839177 -0.32570078049566070222 0.093800505629020564102 -0.068757995325816875787 0.92239611054879178109 0.29244824087836429616 0.027948065667002253143 0.033000868409477850107;0.047544213347137313785 -0.18624475134453341574 0.37720622784620072565 -0.10837802362330631323 -0.41982154468465776587 0.064945101427029305885 0.30612953157125855075 0.11750572088989730268 0.015955014945711221142 0.47942181450221582617 0.24870898859155757266 0.0099708447814936557868 -0.028851688748284077396;0.60171376848551827443 1.2938483774208189292 -0.17763391167843331497 0.43538353744955671232 -0.78634490535210610496 -0.77382212026444952002 0.32052460971131302436 0.90322112818977218218 0.031171673664145329447 -0.3119889581425044911 0.070779815483248742503 -0.019545117179567000898 0.043537513113947649834;0.82032758092243618364 -0.33616373700518437095 -0.11861086011769145232 -0.97489099214577401575 -0.13509527810666777103 0.041750642742968246957 -0.14791630741795963599 0.018693653199518711627 -0.14624151118235501068 0.10014474572329282176 -0.42688644015933430165 -0.14021246274823045974 -0.012304364178712714692;-0.39787240730962769586 -0.088505420084779351519 -0.41593282106830342659 0.095548888460159395186 -0.14660148152301244462 0.66744849942804107545 -0.55724306138543633349 0.37328364555858478679 0.023972924945488652271 0.80672394962268212382 0.24087791727776478035 -0.15126703154636889082 0.16172833113307746866;-1.1897040541119234813 -0.18693948095066448278 1.2431369419646849384 -0.4404088974509169363 0.12999173361688129424 -0.11658344990991181822 0.054475032617001019342 1.0705052684586233713 -0.017264989334810187938 0.082719219721725689709 -0.26055175646641093312 0.0022942181974534058345 -0.013260404581503336743;-0.53861790652614660591 0.26657965909858261089 -0.041284636802387128518 0.16540170508038931629 -0.082083621508064599781 0.03046058403704930348 0.28209274592677840987 -0.37958803373434973905 0.13880516176386212268 -0.1616292283021692755 -0.31365058080153523923 0.14570717870916938264 0.043106450554930106356;1.3618194490477919523 0.69549570893344947464 -1.2077629587581217852 0.5387881475612790183 -0.44093752125455920599 -0.50342035008423102749 1.0437928338957525032 -0.84067001004222841054 0.14374842530060183421 -0.72041308220437760834 -0.12985638165789134546 0.033417548355048024011 -0.0053120384156287742822;0.071998395275058885145 -0.024383014611001323918 0.55486744204760107824 0.014464736292590513189 -0.19395660355322677515 0.0078144297271278417849 -0.46913576252781330478 0.36514707639323273902 -0.11166016023357490383 0.26407277134928014428 -0.19137606409205581981 -0.077755426357968338014 -0.02158257938399890663;0.98192528740657070152 0.42623095693222723401 0.64390615998483347049 -1.3983513334244250803 -0.039000568010927140483 0.17915154519679121758 -0.075581419718353443082 0.46263047368650928037 -0.070182476768822332769 -0.09558272434496087322 -0.058549950460384650452 -0.12307673645034129806 -0.071678536018448202327];

% Layer 2
b2 = [0.099729013610183797622;-0.72041114897874924949;-0.18307921781640501546;0.097907318986479377476;-0.27108589377608471871;0.44856199736979263104;-0.19494585782399115326;-0.15625422817010975463];
LW2_1 = [0.073484564656945583483 0.22036005608188100058 -0.15089162798301458679 0.071421603428520927248 0.33373727469657971101 0.025073928596503449601 -0.082793866163122717405 0.14844920099407932224 -0.022394420218536242873 0.18264639998373741192 -0.24325675488572492955 -0.04150001304072313546 -0.27711380558732845447 -0.041213040764355460266 -0.04394889966532003478 0.058814609024188294062 -0.32439820372294031481 -0.027799739941281556566 0.22406137462067621247 -0.17439528662545136783;-0.11418057651280141829 0.27168369947399151343 0.071697553992697227176 0.47886472745043395793 -1.3856667114291125742 -0.4417981866712148431 0.16669663607456966514 -0.82631985282527931069 -0.28333555766313767155 -0.69025051124054992435 0.10584926302469191417 0.34743252311925121312 0.58007743445345127942 0.062283664940176057534 -0.18554680609130583258 0.092115557685937848875 0.1498082817700742142 -1.4371318917807960336 -0.38638824660952408863 -0.86939099271254538515;-0.36016996555616170861 0.24193791331134131828 -0.68991891521017811861 0.20277476313134537578 -0.06263037620062646138 0.076138849239797676272 -0.14403720118437093878 -0.30709420194038034024 -0.16627636140518350927 -0.1245571082423593684 0.30429171772029545151 0.21517310417741747353 0.61248889778418447172 0.043216780607355606558 -0.099831365385290193881 -0.2321762461631093899 -0.25952667238348969825 0.26841329266888480642 -0.57357092587426150576 0.074395539034232613385;-0.26454262766986358368 0.56012863633937637342 0.055595793841195950691 -0.050118728847412939709 0.013000399462933416583 0.10745891093779104397 0.0079536765516990525632 -0.46004428119091317351 -0.30697989640911116371 0.097870207089604865924 0.070937695641992121187 -0.37404137568087303389 -0.26216552093701772641 0.0047762342954619264879 0.11875433546394879858 -0.43580631564899907637 0.2868820254498467559 -0.75597220203205428568 -0.31330658968979968604 -0.56513954758684781243;-0.056810088110453405008 -0.031195303381597982995 0.32166559439253306074 -0.086393994603007104316 -0.27300737473514247178 0.10161302285060591633 0.63101090131217607571 -0.52075969731825699771 -0.35559374001198740256 -0.16851217511467500576 -0.32253231945567828465 0.65984018523540866052 0.8899523306897095809 0.098948514869506593028 0.24737879434926740574 -0.29844858439811583484 -0.3516802391270055228 -0.23957684635571957488 -0.64014991071541216261 0.090499450788154814362;-0.14767439280994076878 0.26303883217650525506 0.22382588694822333486 -0.055196178386429484153 0.41665076565775072126 0.10852037787655668954 -0.14425544565300468802 -0.4662802078496196545 0.082258411582335100309 -0.071138337573323578988 0.24548818908272262984 -0.46415781698621666473 -0.17232360841282606811 -0.063943051612134704786 -0.031211200287361767769 -0.41562510940467567444 -0.68972602554470530123 0.18722691781110023523 -0.45839715011336990003 -0.24634389477921442291;0.23998110984096956977 0.012190144676609275531 -0.56219623707683674674 -0.11201896806301106513 -0.1069624830897897283 0.037039977723662610709 0.61986058443886649094 -0.52765471570131616819 -0.30738666064013125956 -0.41619346493214492977 -0.39138340202681476399 0.45810124990780382026 0.25232902063630846534 0.00062106579502591019448 0.40719406176014255605 -0.29964857896103219703 0.096007294846526453069 -0.5289328407535799359 0.12877766590793257584 -0.084350693712040430983;0.67002312983859024786 1.2441976862592751818 -0.083571578865071369235 -0.66548202505960418751 0.25265748424212997048 -0.51403301293321845833 -0.066103751762699086703 -1.7479006255159383887 -0.65596932261430151989 0.69679720515915222201 -1.2873037117572057042 0.052267769656926990618 0.93073529181917669106 -1.1820683141469374711 -0.26607190540713204774 1.5565752537189430083 -0.071450106106733829447 -1.7244155366207485347 -0.19369695158568092652 0.72995082143887002335];

% Layer 3
b3 = [0.074107105824938207528;0.056611816681257566553];
LW3_2 = [0.54622997466856026971 0.9347398736764150895 0.82216835399517407268 -0.21206876914408970269 -0.63603645332462699358 -0.3437002933543815697 0.89666401529761785572 -1.4447883296684342902;0.69737404876649766727 0.87255151925960972026 0.66775353897474332143 -0.19196668206939318524 -0.4261896965719280117 -0.34195935959797829629 0.74650739966031687267 -1.3975513047628487229];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
