function [y1] = NN89(x1)
%NN89 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN89(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99935146735551;1.99968509507251;2;2;1.99812216707615;1.99992873420012;1.99900589530625;1.99850954297043;1.99860281858231;1.99954222083715;1.99828897319082;1.99800533042865;1.99842304358865];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.4990639461554652323;0.1592579879752279437;0.016165156661895312834;-0.21431749500948613085;0.087137149228621105235;-0.30821546403850547113;1.0144419130657558181;-0.029057782863209275642;-0.31797443526773111477;0.053991710584433229292;-0.3304237801081174597;-0.1383230003663473151;-0.32428130321625203702;-0.21125622689496997841;-0.2206855555793483803;0.20848498067580065185;0.62113620404343294901;0.44764732830252063067;1.3992379622700055197;0.16965077956712010243];
IW1_1 = [-0.42031792774356108167 -0.21430340772520695136 0.10601274045985013827 -0.44720798707560849294 -0.56937523253584298999 0.16812199213468320691 0.45612077530204464537 0.82924951062041440952 -0.13354113803302863905 0.65479491891321583985 -0.51545053710218546872 -0.42784294810743067616 0.0059787460666527632303;-0.16055874938144504283 -0.21903753823355739949 -0.35494147024737604523 0.36099672529709425639 0.20445483844585435329 0.1075459709590163293 -0.17443439500592372582 0.0012098306165299142073 -0.023884122937276156678 0.10087689762735296828 0.084889438609307213413 0.065803916818945526468 0.022197266825998086121;1.1219013255320613442 0.20756166084109231584 0.33374769911817270263 -1.5790852724318407141 0.024280292488776826498 -0.094786592669999114591 0.087422827300239203119 -0.14617054584509772686 -0.0014141177683804624469 -0.098099581802971708155 -0.066483576937717461797 -0.0015279978020116835331 0.01736505339048269661;0.48231862409893622168 -0.28987580388524614161 -0.19902540552609362945 0.31146709220813106889 -0.067149362223885233902 0.39017568810305897076 0.16869726213303012918 -0.21163629857236201937 -0.26596512805003791335 -0.22575724939342040054 0.1803538893162650314 0.15867045807513777134 -0.046823796196733422081;0.36665908910676314747 -0.41307837335885760899 -0.59468666884099519176 0.14545938764238927621 -0.22624777739991319692 0.22340801745955865543 -0.28025243612368661017 -0.73855473275872118855 0.19143173360222637269 -0.95042236721036132963 0.33762560277412700938 -0.10812884201249071958 -0.1094086648858345473;-0.008702009683681493496 0.014332750060667660136 -0.0062684468747786267068 -0.15178802247862926977 -0.12261016614302064354 -0.0054347313595236442993 -0.18690675532810227533 -0.25424064886712899325 -0.035925901336459925561 0.56483093687089569457 -0.23991486324504995853 -0.045567344273484612638 -0.016393073135229838805;-0.25563361395578809709 -0.87675363638592318516 0.15371373372103960819 0.077653187113957120036 0.82088693425895242761 0.51511728223542985194 -1.1080806287826574508 -1.0679504587626085232 0.0026575391632239777316 0.65526337034757686784 -0.00097416944720088959053 -0.098285711665078823174 0.094238009390065588522;0.095484177922005225581 0.014635039026325560516 -0.17930307765788291996 0.02352103711934175681 0.010064706265309648903 -0.074309512128646587614 -0.087916953431475194924 -0.011539304498934446069 -0.1212315619220663554 -0.14395291290500947246 -0.4996292398517707678 0.041392186971647475235 -0.029238072948026331416;-0.36897978646915596812 0.1653677223870022861 -0.25052362106231196304 -0.039884900553582638971 0.17001928803114510491 -0.31512212024513730491 0.48533005006028517858 -0.10367985240283812687 0.30102482482315501278 -0.71463325613373773759 -0.54126285655467543112 -0.10925461087080573508 0.083509644635117813438;1.8190791715982073118 0.28883090293314750419 -1.3597189993992091495 -0.36216143939017914066 -0.025836084826879754384 -0.16924571895813669831 0.33531289220534793438 -0.11476028695385785683 0.014659489773930596199 -0.18004907137989850652 -0.075579823322056566282 -0.058432706084141639025 0.042807632854699649572;-0.77132713349273618331 0.31989424762640167321 0.27315062188004463062 1.4060605907450254293 -0.030640663583357811983 -0.094278779401087864365 -0.068144794042062473149 0.32011487635148727637 -0.17713901841223747557 0.19076666542530282267 -0.36841114097489435775 -0.032376795287372216181 -0.073537351939445577687;0.1827036042793645787 0.10801196730782708366 -0.01611734121763829658 0.064373613426381218194 -0.5886315767315676295 0.021980619615593097183 0.86153689700456448364 -0.34011866789368244701 0.012974102424581277632 0.14868027230489816448 0.24130563905127275226 0.0060367254672771498633 0.015599743715976964464;0.70360733457706281513 -0.555748121521680849 -0.98144266099671695347 0.28690412467901788007 0.44814297537171016161 0.28926673179336981345 -0.30157847081384170362 -0.0064624587266812992536 0.018868495742482845057 0.27079717407011799635 0.017079619012748382956 -0.011221414775437954167 0.094769007802883054037;-0.44827118428012890927 0.1039827143050317676 1.267391835982684567 -0.075036894022293798567 0.44337896668714305015 0.12520703730169382983 -0.28501730251228235558 0.30509568190896357853 0.058283718873125542337 -0.38705865299480851638 0.46466019669558522587 0.1417172890958858511 -0.048762589979913298355;-0.10940221688908179087 0.010189302739539832926 1.0615780177763862735 -1.2471066618843353879 0.17633513641226042368 0.17370120825439033796 -0.15542980230382769102 -0.077255244244697846012 0.015452123120833501091 0.14306980600404570203 0.21361520835140407337 0.018319625245697440663 0.02889432215933817466;0.3531843819177354904 -0.014949876393892232163 -0.6567094699708573291 0.6750915012789018288 0.51909508265722392739 0.093613917984467956424 -0.68395935897086268529 0.02289901376656273968 -0.016140040256025910137 0.12350223944294612399 -0.21306073918040926984 -0.0034484200104946327245 0.018296227348068797719;0.45415219820198354794 -0.29201094115556164299 0.028467453082682159932 -0.18345393266236023622 0.23957901392982330901 -0.22335724769728249051 0.39757047291332847649 -0.120282107249910869 0.17911946436791534309 -0.83344877282905749372 -0.21616012914259527533 -0.037553448524289705091 0.050033903839518750756;0.42888418068472977662 0.47976469816432065763 -0.37784585742079318527 0.25397059689615286704 -0.18808191289514025746 -0.4897399770310817968 0.1775476898345111354 2.021800331323944544 -0.18382937060660445305 0.24678378503661729804 -0.21391493458353866286 -0.12616646401224548835 -0.032752957487243154755;0.14946681393761757084 1.0365244307481578101 -0.12017571587094469376 0.022301669907163437778 -0.99723316267671335833 -0.64969664975083640801 1.3240875160655649623 -1.1081150196244828887 0.0088111782778150463807 -0.81653200884099008672 0.038397049780718450762 0.08005239285278802075 -0.13130647670278899897;0.020695068186898965545 0.38799352361872230244 -0.080367760313358529989 0.5842400873033395392 0.1988397968845497521 0.24932760586782232171 0.77605021181415501097 -0.35572215323909472939 0.66005335915939677971 -0.35390640507323184449 0.28716503322435665835 0.020730989642182274385 0.07570401071217608413];

% Layer 2
b2 = [0.36081193573454306556;0.30691162190114795738;0.92685384267214532272;-0.01169637582713042856;-0.47991995701767442561;-0.077978703957922029799;0.025653024895256656968;-0.18783028325350498156];
LW2_1 = [-0.03177280782100580514 -0.38958641745247746258 -0.0084146061063073152031 -0.38502916883614141108 -0.08638125369058950731 -0.12158816727645908873 0.43378894956919933357 0.37270965733642841267 -0.039622631785293578599 -0.031713800686228144077 -0.17542802856013703372 0.12368049862566099506 -0.07430058115222427928 0.29262010689430456578 -0.033484230528360678369 -0.44906170612748647075 -0.33240613754618425491 -0.022126056724452738966 -0.060765877457986824939 -0.22370255507342720613;-0.058732761146227427385 -0.22004220652985304052 0.41985625366206691389 -0.058007070691951503894 -0.18227876910891160911 -0.41226671481990290191 -0.15412363379017082754 0.20678216706170085559 0.073031048257898578679 -0.30387197174369395825 -0.23091009808041201845 0.61126561437211779371 0.16317838959966299295 0.10720614927753022161 -0.75475232454544072258 0.44599517026671470221 -0.24300339385433339379 -0.059749868253425743314 -0.015483560781712266477 -0.071431536909050907802;-0.94900262740689778074 0.58950450756542605024 0.92133344999198751868 0.50207816507146796337 0.71022864149400322109 -0.56143602172809359274 1.2991796949742477896 -0.29556432854579989256 -0.72339582911894917405 1.4752046613368086092 0.86925411357551418678 -0.26436947849018316292 1.207670368574655928 -1.3811225453277959918 -1.1375676699640371314 0.7509576810071901809 -1.21746754105758348 2.1434788640922430858 2.008235967126883903 0.89327298405508670509;-0.034146197612096640395 0.29986723581989865872 -0.091706876302586046168 0.087969138289103340766 -0.1456437203368553257 -0.062645960305802730894 -0.21386550079384719636 0.15638503693785954507 0.024689398643003124256 -0.043189451362196852602 -0.16374775232126473345 0.038457488242763397668 0.13369049565070584284 -0.12263971820417023106 -0.58205544962085642435 -0.25613413889580638472 0.10742744484996581689 0.047422391454675007216 0.16245598257198023973 0.062405071732787288641;0.067940625081585215295 -0.061497905657528266488 0.26744449495626126945 0.043795500978946959314 -0.38702150603248025584 0.076496745379472749771 -0.071818624452307397443 0.17405784370456536814 -0.34490677747921388852 -0.78585427902313120807 0.0042480388208357647978 -0.30939349542162258855 0.10944426203089428762 0.43032432917072893641 0.50630705073378634573 0.03155594437645408562 0.030414685680621354746 -0.82332800859600896448 -0.71502052777494617963 -0.25048118369670635541;-0.454208601963673686 0.016174155973212291093 0.042124165272337844856 0.14073765739168869748 0.037337344183142308351 0.26701652271062964461 -0.077916810774634942538 -0.30345548793419097056 0.098455810274590591091 0.16205386745089991885 0.22029503325534879887 -0.017406249692532713841 0.3268874058058400256 -0.18985602361034922825 -0.26155952526159687022 0.32267019057769907864 -0.32175289916215110697 -0.23834242237572050849 -0.19297861990306544588 -0.017410055566682899192;0.26374150279447022838 -0.22753159473480316644 0.39585843902727513299 -0.091211593980499966472 0.17100538253106062347 -0.61825536851230800117 0.29365314907094558494 -0.11949294709350803678 0.16423021634585868722 0.043183670956098665905 -0.023328084640669394939 -0.076120328334696868433 -0.13938695957745089737 -0.18301071277839742191 -0.85194399633136663752 -0.33380331787992650883 -0.18580661591690000867 0.67381516102389016343 0.81058944077110339776 0.27877075481133695156;0.13366567081157282315 -0.3634655014752776192 0.50742757386837378242 -0.046977252131148436454 0.018057446771947347625 0.13457588066642728331 0.043380734807565622668 -0.2549643198952889489 -0.11795572046146417244 -0.38748065931558711705 -0.040854237530193945882 0.1228617095522616387 0.1075460370237144303 0.14938260188557944685 -0.30818100415142729576 -0.060696679723839630505 0.26871640294115128889 0.10035944208606829842 -0.042379985973811575006 -0.077349216403692327981];

% Layer 3
b3 = [-0.74628264612974015701;-0.55222556727434535251];
LW3_2 = [-0.60046118556008443168 1.0611752074900027143 1.1298634238943772168 -0.67198578305323430904 0.2309406137663051195 0.55094866579204648804 0.53393363616655353798 0.89988964620065314826;-0.44611225737970405802 0.74097727068659435812 1.1722792408151256893 -0.30708769864166429731 0.41867826195477308993 0.77805923900225792966 0.68390080303050104771 1.1716752874929672323];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
