function [y1] = NN29(x1)
%NN29 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN29(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99995001356411;1.99922212502971;2;1.99959419081254;1.99853506368884;2;1.99804945651078;1.99812639299316;1.99829872787473;1.99830825980511;1.9982696944794;1.99907323398183;2];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.34382827379504243837;-0.023832423581642135646;-0.79614843846247163039;-0.46509761185755643664;-0.46558353426856979862;-0.88226047844860000513;-0.18708151143322593324;0.323104541596226702;0.60228872737836502971;-0.25784957064830993367;-0.9126756003925878824;-0.080543958704296203521;-0.11764683147551772968;0.08528635230968592551;0.44551815198824562536;-0.32612220671926006599;0.3347936567476634262;0.75179382488525214878;0.33988534094351674497;-0.28264513897946919041];
IW1_1 = [0.70066150849730512995 -0.20423614896682493192 -0.39827105731972273217 -0.38567022506784870428 -0.17146546054677289095 0.20580752358840870286 -0.44822521217746968958 0.75561273512357673976 -0.44842123655442089891 -0.12877172632768260629 0.053682666793920752468 -0.45376495100772007429 -0.28459108753364842359;-0.29820054367529114092 0.10470898182966979773 0.32151913158364803236 -0.39784110631966784766 -0.57223713910968165841 -0.14909102341045635254 0.36772787066954187862 -0.16654170771884557745 -0.081505764663496807487 0.028119612112864671161 0.3462162087382368858 -0.021637527391469457694 -0.00041564029353384707513;0.30722356559683389188 -0.92007483320409044758 0.3365535788928444294 -0.7117827555506242021 0.91911668213043962172 0.49920834344826670037 -1.2330166781054909819 0.76441376583946607504 -0.080717678567422943003 0.70863109519349909426 0.015009470059001838588 0.031103701984338250758 0.13795043478019533567;-0.26233520439679869352 -0.63948085972364709928 -0.080636186066191620214 0.62662855949657836341 0.48698438164600887923 0.0076795228968488653959 -0.77385700304805660199 0.11672897111875973897 -0.15758900659691843504 0.32694523300802130761 -0.3691819443348295926 0.0051382950275060635878 0.064119553335438450592;0.17065033870350809764 0.10479161023053550073 0.085378639701307545984 0.02172440956506108134 -0.26038380460596471933 -0.066913119567756931816 0.29280665269617761615 -0.1894117903278616788 -0.0080189552479328924522 -0.036703036178091473507 0.11807385048566161612 -0.012470550411156366283 -0.007768268339821205945;-0.21121348167539277796 1.298611255291969524 0.089970262337905795857 0.0017342624444508496911 -0.867058108667232319 -0.19943884098443259711 0.070531091801176462597 -1.0307187538665953941 0.033047896776780348593 0.4725986197799547095 -0.076351371997246841872 0.1971085518763012745 0.067561856429379174571;0.93437737762390316032 0.41806378253211590179 -1.8336420631470826681 0.77262964430026248586 -0.19261696239065595471 -0.06117852373813671002 0.12460200769504163609 0.75426922916825023258 -0.15528234870240467669 0.23165469390378984338 0.4303952758922057753 -0.054208591529734048708 -0.055473385009502350351;0.21527111217134495269 -0.50563184610636924265 -0.053133229705563049527 -0.16945762481613532713 0.61104773258551969839 0.26889970782117988968 -0.89211881645023516363 -1.6409903016058340341 0.029676762365812934391 0.85737011651475503182 -0.034861608785220286888 0.18030980323678766353 0.13398993830006064587;1.9179362920411144877 0.51026682448849713936 -0.23122007180226933354 -1.9181519921405341123 -0.17139948117458850274 -0.30611921965085608921 0.30186510066217675519 -0.31358764970683700168 -0.0083083866533407400856 -0.17943571909675309906 -0.37305796126134743718 0.025327876494163178295 0.018962795663532001217;-0.23748851310279248117 -0.55893655369337114092 -0.17067899690702584281 0.065792346043189522953 -0.82068052368212018877 0.04508625653292924057 0.59801447235584281881 0.38926000974246433017 -0.20341292449200085168 0.013738802664116289351 0.091355420739882731151 -0.056226314960282026967 -0.0047808903572364568751;-0.062221337915020463738 0.56436560558722803638 0.71207333804148942313 -0.22527085762540213776 -0.18838321987231129717 -0.43857838232426421543 0.032709047291582499239 1.2585069702839848382 -0.028679589526550117867 0.019204240368473495665 0.092950107312472621257 0.0085625967835064147049 -0.020443785044236245652;-0.1286537131031705028 -0.1645212349899130011 0.11863875633145221089 -0.036032524749159897115 -0.40508218102192522503 -0.24969447328233854155 0.68897539547923114522 -0.23345895094221308375 0.16174241668882852196 -0.13383238918435858 -0.24453190254350909427 -0.091967932649869035822 -0.061672447001891159135;0.41961917914090696158 0.74460943691775371978 -0.23781376826023117865 -0.32957756327533577201 -0.45383451497123966645 -0.68925432777334416645 1.0928820087515909165 0.55599453364706041825 0.11776981996361672589 -0.7554303790737445512 -0.45767267403852068819 0.1132155244833676494 -0.016226184609081581445;0.21301606962150926305 -0.22908505824434641229 0.095684381685055955313 0.1136909662416543676 -0.26647435591438417557 0.071500771949709412967 -0.1356232098371343564 0.1095153177852597054 -0.1157892911499605465 0.14226240218325489351 0.28044853611091430379 -0.021901117239499497819 -0.017709450543482409962;1.0316904161313422694 -0.091818188926215821288 -0.59214669682004106299 0.72849234546018792891 0.052420054096020948786 -0.099479374032284198504 0.39057755378572872607 -0.36830460605749448799 -0.15236543696261231617 -0.60428933706260268277 0.34265417240296069945 0.11336999499241368072 -0.12181387436083333797;-0.39174701894046798367 -0.027747410689468510192 0.12395949801182816474 0.097455198371659348955 -0.096930354708259017227 0.13344935833683563287 -0.69528894375004202111 0.21448386697169327664 -0.25870614485421938866 0.29626110436088265443 -0.21875086797028386876 -0.34973622800201498162 -0.21476049071896916032;-0.57673029237086503862 0.076461102787002480086 -0.25293843255085468602 -0.27583504244468032285 -0.14705255306381315172 -0.25827620976887460946 1.1261678812713227238 -0.065392429074107652487 -0.36554491538170180709 0.019480955607258612639 0.21265580863298255698 -0.084286895109702456019 -0.025246973569810326338;0.83603844277601080393 0.75257569009591007703 -0.44167949740440792805 0.0847046922464577412 -0.51129814791327143908 -0.19364410712588703278 0.66777073167747647009 -0.50604336696010743246 0.10190731934874176778 -0.11713963657787419825 0.23290990526953697648 0.018242369522259448827 0.013591609947098454506;0.33881182296443013158 -1.0017002368699228221 -0.16197879978570828285 -0.67618107472934319002 0.58204644232738922405 1.0158000648834843993 0.25443180053502989502 0.012649717333667254843 0.26579686013574871373 0.11111738839920363986 0.13244824390307488593 -0.17061669917800156848 -0.19981080868553668939;0.038412832291475275392 0.3579399689228839887 -0.51511622151558833504 0.16664593663962776193 -0.25458992306143363171 -0.034036482792277666931 -0.22251100185028954703 -0.31879497706628867615 0.17964494644608522411 0.99509235801091722173 0.21761906485457779836 -0.024857125267600695823 0.12055553169206473241];

% Layer 2
b2 = [0.30109631784771767604;0.29463868238404755662;0.31129010371776044686;-0.82730457011669977785;0.021255540132448035029;0.027134442885314719041;0.40823146161513046426;-0.52298132972631561355];
LW2_1 = [-0.081736234323813578007 -0.47906543584855382223 -0.00026603067466331208665 0.30161178530618265592 0.6226582928714458065 0.18148984191285008616 0.022720717650403683685 -0.21094928802251400324 -0.010934210997584041178 0.24874438821665650901 0.10754313184572086848 0.037646974557584471366 0.20890853191627536956 0.22294174686510173644 -0.25277643558628798415 0.086260674704949275027 0.044543719899446859722 0.25278628357949756156 0.086796126338238202558 -0.12856126717737881293;-0.18407692436117728541 0.2439352319821986026 0.6200154302853768673 -0.71797802095110563325 0.12560455110063731277 0.062457541077408376684 -0.22459165818595813735 0.65238775972379781098 -0.24652661192165850612 0.093252470483960195335 -0.10809550055411779046 0.13720618457160296821 0.022031398973690476117 -0.0071410320466141243012 0.086494310497864324017 0.52316779501319687906 0.037854954690917486104 -0.077807668710483876562 0.0088715247128611264549 -0.31003517565575305914;0.083163345199130184193 0.07349404793886042675 0.023380032996623875685 0.093991613762267556265 0.26594310636460266606 -0.052856388946269865226 0.49100977692991243373 0.084386085503910315819 -0.053233639999630315287 -0.11414487062177829102 0.2916981401446423483 0.44816801181923315855 0.048520977858590268184 0.41811250400131538818 0.046523909909195519663 -0.38870210553736361803 0.055002407439566830538 -0.10100400203447700009 -0.013135336114843144603 0.0087849038849813765317;0.54934947728614336171 0.627089488323503641 1.9775963943296048786 -1.5300070149640341288 0.28232021172360000083 1.3575521856667294163 -2.0961548006593040405 1.2887545280066423636 -1.7390222957202159382 0.65375499328717534553 2.3946051711314342292 0.17371499392182643273 0.90794467513983900808 -0.67918084170625170337 -1.1092596438738555609 0.12402141551129892971 0.55349416474755874784 -0.39035435567106635535 0.50308626628110386658 -1.0853399698433050524;0.13740513849177909966 0.14719960514362528947 0.12458318434885114201 0.11613580388408571709 0.10847045049969213093 -0.20036819327024932291 -0.43105812204439786228 -0.035092955717395582504 -0.19729040546445972271 -0.64543948600818812356 0.22753539039392001175 -0.15378084359283084037 -0.39697627948932584507 0.22870703260762806353 -0.1926253938337351701 0.28229752095866617045 0.10574890174710253887 -0.089341587929844978877 -0.10865187213767862895 -0.11467146197637317906;-0.047596991492595663864 0.014600283485192967758 0.039671401035814068958 -0.0087273014464642837545 -0.35873405912679889873 0.059810554606651966658 0.050678535975731714425 0.03993637438064542855 -0.41259224750938716664 0.18136233587643849074 0.48806090197711676781 -0.24300843557683879381 -0.015487486655173920286 -0.20174495746972892496 -0.38254912531344226201 0.083636364473316904267 0.20223162068716021844 0.19166043861520826175 0.08973619683253590551 -0.20726653168140718453;0.20530724609780426348 -0.38782292513101901399 0.59889602326868618398 -0.2014405826811543343 0.090141347045438593999 -0.37794082219129826461 -0.23382736728503561441 0.37140371423894763536 -0.16184811980149416133 -0.691936567466292618 0.29420917818890301998 -0.63242558194335318777 0.13548209561388305233 0.39731676287768241673 0.28538627651249864892 -0.21537629696156543324 -0.17084609421820598496 0.15607009979780531173 0.14249684899035089392 -0.027484867071192742305;0.078952839044142936187 -0.18486505125869531763 -0.041265119568123245775 0.010885695959087711079 0.3519236067094959064 -0.043323702647001534338 0.056125139408004606767 -0.021705578371057448334 0.11484317431415676236 -0.0028378280673357746816 -0.051908600185937819882 -0.19833020920532604126 -0.044242430271513200069 -0.18485119231551128127 0.18076036098283923548 -0.10253288305282698412 -0.065852908310345542597 0.19540801651650666071 -0.044162213314277748433 0.17056074466934961764];

% Layer 3
b3 = [-0.65258603576869889107;-0.77119169402026011007];
LW3_2 = [1.0097403867433853986 0.35301022190778635901 0.36907278993867925765 -1.4569762511288162354 0.19593266766311226434 -0.18446606783741373303 0.11709245214117866563 1.3490860601547718378;0.91544124465768728083 0.31128893338178914574 0.4879024205558002425 -1.4085008841020389969 0.21017537723668500149 -0.3433718845521744889 0.091174267713542131442 0.79367450059952704411];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
