function [y1] = NN71(x1)
%NN71 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN71(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.999759764873;1.99897159558636;1.9995829163675;1.99961453805284;1.99803752717641;1.9991743319366;2;1.99885011716501;1.99868211688349;1.99963438550257;1.9985402748026;1.9995536218291;1.99829637020345];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.24955525252680571535;-0.12762097816537060213;-0.82580671950511197466;0.13319712119039184284;-0.24171747575782512318;0.041198167325307552544;-0.19862622867094434365;0.37823377253667911368;-1.2776666141486461292;0.77464724739126344932;-0.029367585502373769191;0.57469826149421698869;-0.45302627672665884973;0.31195903348471998306;-0.52871223254005783598;-0.19076027872207701463;-1.0786919458518640091;0.15291490764705129024;0.49143025204511597837;-0.21246086485719795078];
IW1_1 = [0.12754125119166306868 -0.19944960008677134478 -0.77600748919188300423 1.0490381744069423586 0.15075494408634954047 0.045679514473726465229 0.12353894867558538884 -0.27532379142531454574 -0.068500066179494972785 -0.11877296573444064143 0.050330647782383129696 0.022850811565374933021 0.0029856196309886512061;0.31517506239851189598 -0.071781451047342070826 0.08148582902535114747 -0.7571350597751470568 0.047981791553618022284 0.2275921895204651435 0.1491389873037053948 0.079232294704664793517 0.36207242727648164538 0.071953350800664492293 -0.032503622235718968025 -0.050872362198396338384 0.17894922036641786045;0.54872983094158189754 -0.78168355986273796443 0.14890113387562572966 -0.73369239822525578187 1.0446407301290698832 0.64444345915940126623 -1.45225605018158066 0.63906625842848219232 0.028280332015551568753 0.79905717827437139356 0.036769528374751003774 -0.0055439133316567724974 0.23488447908480725168;-0.29623741611501852589 -0.26028356227395332834 -0.12634867960716691937 0.19769666913586361745 -0.063838117457469784055 -0.0035224306718626675027 -0.021182606784695006547 0.049924618571770260078 0.016164409563613733184 0.050842324087124343701 -0.20575469888267622354 -0.026519509680416157582 0.037559136152508450224;0.055314295463406472353 0.0066863065882454058783 0.35230736101509807501 -0.22446574838201394098 -0.018582873483106367163 -0.0076424193248636595327 -0.087311683739429865603 -0.13553196563705971478 0.013920791385323098149 0.042638531329591951302 -0.05356469101756009682 -0.16494813096045779499 0.024880880396319200731;-0.29639445192964863907 0.28218288658593659868 -0.4905899568181728565 1.0745207112660510873 -0.27565935206698555238 0.19254564506939800261 -0.0052767531687494591969 -0.045543674089956534545 0.23014840734025940328 -0.046708207546137546495 -0.17435396638434724759 -0.16691398702644855145 0.22969224601601814784;0.14459102030594903066 -0.16424714058282974261 -0.55079157325483385499 0.44167178767452891508 -0.10729434983283077376 -0.15359598984490177576 -0.0036011937888955443052 0.27244164900848599764 -0.088341681439073116433 0.030961807163017929928 -0.26039360487893975504 0.061371171097962598506 0.031003199057830541086;0.636253517840168481 1.2377928048531963157 -0.50585838341076705404 0.29463893404756158478 0.18566186521946115295 -1.1221008386737443274 0.14949469096762804665 -0.010591384037986848604 -0.044764124829553400553 -0.46554682238824784957 0.14215122082019604477 0.26772470985184132486 0.32303946147495748997;0.52287760206638500549 0.84295731324734801682 0.17146151821022972972 -0.48503765926478392689 -0.24809676225553609075 -0.74253829985191488472 0.6292882320291780518 2.263954363115392443 -0.075148524161776225627 -0.5491144924952183759 -0.46043349940541372645 0.023264543029855710293 -0.071511473518381454828;-0.1576654173670301029 1.1753402931542402676 0.71493503519614387542 0.48940416361221544816 -0.5082482869398694536 -0.66135612390775144753 0.29026306387473238546 0.44461267576507368382 -0.28160715359528049051 -0.17430199304215659994 0.36761018069129203223 0.12533497909788027247 -0.0081513875431321811127;-0.74537245375680005743 0.27292312116139394451 0.40782107411821250098 -0.048144127501596044316 -0.03521963690433164984 -0.14984170686789624605 0.20845596383407896668 -0.041003753103665455115 -0.031653383973649043548 0.085726958427058602696 -0.093383112280287089435 0.053882714620675113693 -0.13302001703814073097;0.54898502880573751828 0.70198126173742236844 -0.40153372353616323398 0.22491888443128937869 0.043135622886798355435 0.070849003597925883091 0.7827317261187064501 -0.13767316861235662229 0.38533545036920408 -0.60136761945452232858 0.12456211614773934904 0.088360744651528447258 -0.076478714470242001311;0.16423377449774462233 -0.074596712167416201478 -0.23709402967878590029 0.47869163992989816059 0.47288395535133420644 -0.027842230850415525256 -0.52766233674599749559 0.59118247650880673127 -0.080694011367441836891 -0.21445384482791143843 -0.39602053142954302123 -0.032687652613290374415 -0.19479478890063167684;1.9487898657202920027 0.46703582555259970377 -0.65998935025151139744 -1.5591163019184530736 -0.21363957532719443644 -0.30955622350890132921 0.38496455190073330943 0.25186837777848508635 -0.06865309824252317783 -0.28395682977970948535 -0.4016169288184026076 -0.039235878793958629818 0.017824139427993337947;-0.43414342788779097804 -0.1883714400345475326 0.3647563353684124543 -0.60204235559876384531 -0.28447564223434018693 0.39045091676926008128 0.25481710850261601875 -0.13815881777013871989 0.36870084701818883754 0.26118597362337719892 -0.28781737928240319624 -0.012395602326818112859 0.032624382825427108989;-0.60052703577303245819 -0.26864881610491059272 0.71280905789496740166 -0.23758902170333645598 0.25178629860849588429 -0.043624961516919094628 0.016015971805830239716 -0.38024407016503508627 0.069979974550031770475 -0.43772971223403217556 -0.042972205990523447416 -0.0088040725581342970524 -0.017332095678162531827;-0.50420718604053016421 1.4553397811793384875 0.48020068254175451994 0.033401796724363552737 -0.69387175434535142138 0.056717259433204422758 -0.055794731144741496753 -0.81449890014237491531 -0.18371301315309962465 0.35783501352015417707 -0.15271536346548722496 0.11433961311873976074 0.032737244685105443276;0.87648640073267780615 0.49113644296656611132 -1.1301822501801326304 0.67587383403834355722 -0.13310429724633393578 -0.19898162006997316409 -0.23842419279480997485 0.37544261472061613016 -0.082019440293503276251 0.49163225089417600389 0.51386426730663092854 0.089261323594775079937 -0.0093914383091335124076;0.032377180187440145198 0.037120359415036642547 0.036743746420905609718 0.1906371209795023336 -0.17681711676142122802 -0.055354352431937522971 0.16176228631487249432 -0.1113055569814531548 0.19040106779671842063 0.18407506867067052747 -0.45078769934338569492 0.072995620358386067994 -0.022789835724438170517;0.19874579888786780835 0.19923588980190495845 -0.15505688295359837392 0.049724940048019500294 -0.51088156982765065006 -0.40738192366235415065 0.81306412411628548043 0.27998922331644093831 0.020622723592288637329 -0.51896689724963762647 0.022179491685455757222 0.026477363641330388389 0.026164990998656420529];

% Layer 2
b2 = [0.25310622192921206075;0.080627648297511289588;0.19308928828552768264;0.12378109547717733308;-0.034555485233328207817;-0.49448982348710845969;-0.098097256732710524929;0.84921605597501559348];
LW2_1 = [-0.070928055833182096501 -0.4097954065451026584 0.59863539749054406336 -0.4199597435795637268 0.15961973289020450761 -0.092276147426301538546 -0.39426372673809162439 0.14399977073573269615 -0.091174872009507690329 -0.3045465369519453902 0.23726286971554216843 -0.15288807484511424128 0.17397836047700568352 -0.12030636545314772612 0.1644682196795871354 -0.042123937171742599495 -0.22857101949473779268 -0.19509320449227723904 0.28287011940304868096 -0.1337460388984250681;0.067796766065224473019 -0.041687597333410014722 0.30378557855689869438 -0.0058963769431320412623 -0.18207209020056921989 0.21972030694232769221 -0.067609364340982081032 -0.15000018094386866063 0.24597606897064247522 0.41862396075617447355 0.59124009463647331231 -0.10646524295509429692 -0.18215933085758828636 -0.10245443436236459367 0.27837574663395175945 0.13183767060912357505 -0.24711159564244256082 0.0060583041192239558276 -0.30046303528776735492 -0.1027168035109169153;0.029263071287396386078 -0.16820920090831689708 0.31864935839254054928 -0.36232333577701431038 -0.044902077817360219747 -0.16837752372887709873 -0.21790746114933584598 -0.16623075200665141105 0.19216051399174025049 0.063064944208356663036 -0.29477832436465756238 0.15940162973206875585 0.025196456220152308597 -0.69284356414518533107 -0.40330671815015722848 0.20209615951087664398 0.019653211974996531719 0.25643358897144030717 -0.17847242690703854495 -0.051314574134385913806;-0.60081073048908018031 0.011481174026711976621 -0.076318869740092692977 -0.14795216232068589268 0.0043319517097999346578 -0.30680849459060355322 -0.065175003792112384815 0.21127499851093717309 -0.27686231889185952681 -0.27162793518846378715 -0.038015166801121734463 0.071193589789642852672 -0.050021130008638087228 -0.013081028356390004067 -0.054028334129938897223 0.13637219875484768439 -0.034765665023953180868 -0.063647618421353704954 -0.18767330359653561223 -0.19793358956216780542;0.058660866299717742689 0.054022702097852280667 -0.21161738309753116982 -0.26817396977385943302 -0.016803143417461342823 0.10389005150587676818 0.34790185204743112601 0.10205691125103180661 -0.1392433065490182309 -0.26193578508648357461 -0.16465854085373729521 0.11547740668955316923 0.16273158721645369917 0.11246956932623941583 -0.15081658675843725992 -0.017795101314485792243 0.096999398314831467016 0.088576409639707670562 0.063629969936504035544 -0.1904184511301929561;-0.12709264427921837526 0.11920280093797276655 0.047927593006725902058 -0.65488080725060016096 0.35466480900841973467 -0.42217074818217276144 -0.37190088676869870188 -0.072240838502629092788 0.099332488573284902222 0.42060894974426132897 -0.1610349665774060135 -0.19562463396557303041 -0.38984141832891128221 0.055263232504672771261 0.34079080545379031308 -0.25113199484793102823 0.019576863743025228054 -0.39771256096756446574 0.016769760836164160356 0.41654431083275361702;-0.21184777879994659555 -0.016358246624996870128 -0.043153627727493579225 0.35304594653202092669 0.06819809152558400922 -0.102881885144194829 0.44130969716939527636 0.059693812893656161833 -0.11481096544996990949 -0.34413155060601519075 -8.4825185713137754573e-05 0.1328687295244065647 0.060581009052974560403 0.02554951393844621596 0.10748902419361625049 0.43871225810504149711 0.22633791753621440579 0.003392448113605845382 -0.35555524274792715822 -0.53190909618130011172;1.1099270811496342315 -0.59075837036143907799 -1.4813387198036771508 -0.045564034200420960863 -0.49929125824168396619 0.97679087857945168238 0.61467460892462000288 0.61518646480126459863 -1.920155687224546659 -1.257560050055732237 -0.55092953071039885149 1.0003954939103041344 0.81540796416764338428 1.8313795644946233576 -0.79848655627895248621 -0.78992460600905634038 -1.0867076418350480882 1.9099841438670228655 0.38928837621874845532 -0.34921971921429467711];

% Layer 3
b3 = [-0.51299401489171581048;-0.55802852038644001897];
LW3_2 = [0.52741941653189294836 -0.37435696846778199198 0.24497972434575104872 -0.79337153420870776266 1.0062472472073900054 0.71584736275488713986 -0.42244725298538438052 1.1761196825791349063;0.48725854151212943943 -0.74905968452522420087 0.18153932611983028544 -0.72014369766114383342 0.22854525357580737777 0.48272550256025614779 -0.46887009243568211758 1.1458772953190634603];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
