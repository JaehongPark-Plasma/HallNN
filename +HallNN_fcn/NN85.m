function [y1] = NN85(x1)
%NN85 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN85(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99912497058476;1.99836343482757;1.99986368603312;1.99839298506136;1.99909701087703;2;1.99806586477531;1.9980020073142;1.9986049721161;1.99824918675389;1.99850845393837;1.99929239014573];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.37344082148938906318;0.68378851691000208657;0.67952052330972378957;0.76899287506832703087;0.0037467391115760155865;-0.069781669522690589758;0.17088185881549947109;-0.034980243882013754841;0.73634356596209560308;0.11809118016735806189;-0.37438388067242472923;-0.042608518602412881471;0.21051369714210438344;0.28361129662164696885;0.4383250614317175109;-0.190701445768291733;0.51942851849719040569;-0.63012176274173592461;-0.086925782800696238528;-0.14608064592115677094];
IW1_1 = [-0.81764644622172621968 0.52051451516501423544 0.062923884571462390669 -0.201534793856841421 0.075551485260104203623 -0.08660955595478603275 -0.055116193685171607775 0.031018394295020221274 0.31079777749025289113 -0.056370089541039412884 0.072119294447201484632 -0.43454854036091350444 0.0024948312401117528347;0.67740130828804923091 -0.60701942328876978827 -0.73813654041333587319 -0.24995885362702482957 0.29813774381718866069 0.42652652885781222603 -0.24797909766085382555 -1.5390252900067880049 0.084003742075329693173 -0.033575272308614859118 0.42173727963156093512 -0.01629228503566212613 0.054330989306725765986;-0.41888277634951992523 1.2672993442501565564 -0.034537726735912127607 0.37109925438497654016 -0.45851325189990294051 -0.12422261303506555719 0.10884744507042415362 -0.692082239992728665 0.054979109103014296711 -0.021809591986958521553 0.16001087711959077753 -0.047371839959849393331 -0.018617112824117369729;-0.458200443887085751 -0.24596375716281765333 0.30562979476165436088 -0.44139153975899880766 0.42317344379980792457 0.14311913348542146251 -0.49742496959262144651 0.12018274254140889901 0.027874575820383769992 0.060188965466072136268 -0.75802043822566955722 -0.089266746542712355206 0.026361949024111666628;0.15089649661439194506 -0.088500334688702150809 -0.03077319906156961854 0.24696141642106811398 -0.063723118183661386915 0.029609259292762486748 0.11783586183274916137 0.66175983230863710816 0.032237688950996531978 0.27900623043646366472 -0.091882047522398313522 0.012256465977293561423 -0.035390956213835575439;-0.13605499780494295647 0.24836892068453500504 -0.44743245513672919023 0.67224478207018911746 0.37468394792263853832 0.19581233568042791249 0.57652164288489959887 -0.16117082162614793095 0.64156941324079475031 -0.11374201936783337463 0.13541525630224568455 -0.19616318679601416064 0.11941475485452035521;0.28017504775638346626 0.99343384725385663891 -0.9921553070197671742 0.44585127371793620288 -1.2758168621620604721 -1.0579960875770710871 1.6166641802278249873 -0.45338205706441647713 -0.14807678943377813874 -0.80254949292346278167 0.43787701912803878024 -0.073353032323096409306 -0.10492102966775820883;0.0662622611042061882 0.22649285786978215484 -0.013430486878005831394 -0.18919420249600935047 0.20946945343563794228 0.69013949298499410734 -0.19750902693569427626 0.57747154432680980474 -0.12304565605595198241 0.18963045775831202655 1.0898036149306762344 0.21710138210461174535 0.0682904070980596134;1.8476634189941449904 0.7617604239511274189 -1.0432903012997492009 -0.10336313207138779491 -0.044430240187415558084 -0.28925326609349538698 0.54275298458641541011 -0.69913511991588916938 0.090963496156199155629 -0.59153810421482100335 0.98091723791346430161 0.070861765815177737982 -0.046748607519608950667;-0.9362398227316467425 -0.2460970712495230972 0.076014870735463313522 0.13912234723683139515 0.74413571338484996165 0.30343472743048838236 -0.55743739227009236892 0.21356291956274647825 0.050374139005509147027 0.56025964689641372107 0.76300170511087717085 0.024663956740091336206 -0.21337119334746057486;-0.74111288935799546351 -0.083795307607108335257 0.074996125274464031651 0.56732060969844633203 0.18274533960314209846 0.11606205905226310571 -0.10983561594784396753 0.19179345734654021371 -0.021440357813141405069 0.15181486307497912835 0.39984397052269415873 0.088287293978020889296 -0.017840125223023924061;0.37858410724529939495 0.5559536802609515993 -0.82070180596786734828 0.32928661202348802339 -0.45064772307887279723 -0.00077090395755567383326 -0.25914555838693820178 -0.26473729435119974784 -0.11290554795949921119 0.81287315743891197517 0.49424309420601975074 0.003578091701346384438 -0.004252419419437885803;0.27883157039168210423 0.096139338366301230199 -0.15615199348964670101 0.30370215554587709494 0.56901873236650035714 0.10134121128579717808 -0.53684693062003185915 0.090452430326545929518 0.0062336290566735817059 0.034165332900928463422 -0.27137198858953398561 0.021713618467760483627 0.03276860051847166333;0.3386909167548751709 -0.44295783333723781627 0.3195607428226524549 0.19905953459309930209 -0.06739453300062628327 0.20195658005165006976 0.68248537007267651155 -0.22667048181342350222 -0.1998554155457374637 -0.064862222590788040644 0.066909826101300057255 0.14961322186294179204 -0.10120639697453082118;-0.52596221811743149033 0.1434344844970684707 1.0770649834308758663 0.78591750330043141926 0.25037675548793542069 -0.84645321814315732656 -0.6209862847182106016 0.13031509079585054667 -0.22440060613160167646 0.34133287533194822672 0.17813967637432026603 0.096967028303737032302 0.11147995279264842627;0.075702759399788030481 -0.59333438263128301937 -0.086038518472637076639 -1.2744456016264220644 -0.087802196756482153717 0.27724907881516325237 -0.057852544872049882496 -0.040714511318104093518 -0.17430374840619367038 0.44323924496288763519 -0.10709556850542117923 -0.29706248654121436559 -0.078284487377291711585;0.08590216442497136673 0.072777993102835142336 -0.049674341844925355705 -0.63989401606842055692 0.17227454533867531117 -0.14373686834114415833 -0.3623629767832630133 0.049953924174350024245 -0.051696359703121023965 0.10839421199008832108 -0.020585885016302190448 1.4595864874556851044e-05 0.042314711654511595607;-0.8028862314112416021 -0.751068600986470436 -0.30809891957997298517 0.70870132198696345061 0.34001734098886465807 0.35764725038070038776 -0.42926991686031712447 0.013936973152991987204 -0.059270339955760496797 0.27165899264931209212 -0.61056862827988045428 0.01894123370926450306 0.00437981501895581566;-0.75604075819277583026 0.37611269322371976287 0.61135457562942130405 -0.62846788328635783127 -0.39132780997481020346 0.18595240370808646668 0.62762182882739436796 0.17905696615518001957 0.1078034232611672083 0.080809258964022273597 -0.011481898161895830873 -0.13971956580715050311 -0.055938650992764349379;0.29939957781371573375 0.53020098522614245162 -0.47626559223810965849 0.078573754213121488332 -0.48657378332386513886 -0.51358959351691180206 0.69661182580805225406 1.742831614863561418 -0.060031172409970176562 -0.36275575835120987822 -0.104640794026036002 -0.084468534437397158054 -0.050256367300276209853];

% Layer 2
b2 = [-0.54049899859656924672;0.33981830070394913879;-0.011099404200752073166;0.17446462790261979547;-0.077580546081769827249;0.26553408123064420332;0.59398273449147043213;-0.19140864446442720781];
LW2_1 = [0.085668958419015575623 -1.6246083066638565828 -0.21040616126750294468 0.32471362680437410031 -0.57442408920176712961 -0.34230049934459433336 -1.3563418094179227058 -0.79563438648442197376 -1.5247143750606004797 -1.1716294047983411009 0.61234198291584163165 -1.4986512943826695299 -0.68162936236676885393 -0.33277837961901163277 0.43708337104065536627 0.51257076461746242657 0.015676752814952139153 0.10130663585700264151 1.201824319032983146 -1.135916383641065952;-0.2524908417783481851 0.96860991693904563427 -0.36802987796959862887 -0.16528215626676848182 0.24004251887655028708 0.11188341128049482387 0.58292969069550393257 0.32060028567148679546 0.69053333097180269462 0.059099726227276452861 0.46123862444223728829 0.86124582609697419855 0.37543122756774077731 0.093977952657832000694 -0.59198997426819044421 -0.1126716953494902862 0.48677857615794239976 -1.433335931194140489 -0.63125855615323045456 0.14976299449926772089;-0.068340919183831061456 -0.14489029249568788349 0.20298907982424110874 -0.1823888248648262711 -0.1818224238329156639 0.038770225237291074116 0.095663806585931945858 0.27670414426729128543 -0.11816279704020071772 -0.27550159432558246619 0.16916167235842374805 -0.10630951310239147856 0.29802691372928702407 0.07743311368475123968 -0.12781871285947354888 -0.056136619630609008169 0.12066441668187796732 -0.12563205992597981098 0.28708878436430657066 0.015229161954016776775;0.015724841264461057039 0.23443458847016424018 -0.24811488239957854574 -0.32774963483086100302 0.13429978744605763907 -0.1543611926498995035 0.3591031097222511792 -0.38032414629484617707 -0.072626421559411957762 -0.43456293155035813358 -0.089702506320732067202 0.45527197759148202438 0.60107464418902967207 0.060033844380244331951 -0.26462804510600934638 -0.46172755736861809117 -0.48099202612493868747 0.27710529371082875949 0.031897430856898188745 0.15880676249335134997;0.14020942253224111251 -1.4158942663699323194 -0.23291008674332069894 -0.55635058049360219812 -0.32724399388434177727 -0.31329458663390169493 -0.8312538235074259374 -0.78229704253801235492 -1.0141130040606087803 -0.59834375582344589972 0.70115760785136749256 -1.3860723332203581659 -0.057024483672479073237 -0.25966815293666073439 0.34934075690822735671 0.35147981107685483115 0.5211236106938184065 -0.63750100532566433831 1.1768149363440816302 -1.2357390726528709735;-0.05258705920634808989 -0.0073140338469019575834 0.1977864220893968128 0.400940779467982511 0.013419453712134859352 0.048146200442582234857 0.29159802711265747632 -0.13852038739532127054 -0.012655118771680717513 -0.44670720720953310812 0.37001566402516727905 0.015607270829908585774 -0.45187370553220190805 0.21813006765714365587 -0.20626262088444805021 -0.29592089008897476399 -0.045572282320625004393 -0.026113873301697270585 0.025860115421156959492 0.13609323802581144158;0.25216157607864725376 0.11908771652752045411 0.23903337393706741709 -0.63267253641917697848 0.48696657293977113623 -0.066892095020604433464 0.093605974763454641296 -0.14214454469727108576 -0.039074753025768918513 -0.54865676711163036128 -0.068144814837522063589 -0.025573899122883967522 0.15747032693331514119 0.36478433368103457823 -0.13325183394959069783 -0.19134925200071042917 0.3741847895547075753 -0.35711793776947153845 -0.12418061698346455346 0.0075330765784246377093;0.18162306485831128389 0.44200315760809077981 -0.063768677373326795865 0.1275850924529884356 0.057243774569821243015 -0.15667173045930221642 -0.011270073646938341683 -0.11914254345750333042 0.17129677091455944304 0.0053260335216179996443 0.6208954954814293048 0.27856675807075659268 0.0042576043257278595178 -0.092528151240382716658 0.10927257622522713876 -0.053247308564407049014 0.10381737447658442863 -0.17168881858784740269 -0.17205863161160053765 0.052839578604008397011];

% Layer 3
b3 = [-0.0148853237114457259;0.072413374645340644609];
LW3_2 = [-0.76357418106663821344 -1.5514554103264750484 0.049251019426920408795 0.53235156191105958978 -1.1605854794596313084 -0.79718072822952645851 0.66317008986444658802 -0.5070839860169866764;-0.92811162930016244399 -1.4951728807205850735 -0.2314759714742123109 0.50736900937536166811 -0.96287875176023451917 -0.59702586663217327434 0.5971307707012568633 -0.52689228744736538168];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
