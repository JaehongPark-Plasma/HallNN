function [y1] = NN15(x1)
%NN15 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN15(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99827542835435;1.99896571359971;1.99929821831543;1.99806015500079;1.99996538036328;1.99845502257219;1.99854001533303;1.99936257365054;1.99972841672651;1.99804403533523;1.99832287252848;1.99816921124669];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.1380299079171237453;0.079734004949104833604;0.30174464539212797476;-0.56047564717374598331;0.030915281746095896187;-0.19629639380317587261;-1.2053243451835009559;0.1910316839853984372;-0.11579087055017711627;0.079984356250947907796;-0.043053908227175460843;-0.18592932879721768558;0.27738556313494266981;0.062287132274643469687;-0.17201953231085881368;1.6194894304762832427;0.20403030862968654646;-0.41228075052954349378;0.08738087301856178879;-0.24552671378665077984];
IW1_1 = [0.42361228376656662187 -0.12328109728207679863 0.27358266890113730474 -0.081465862577774064701 -0.15254052657272346161 -0.26025242745666254951 0.21207429647311870635 0.94278650164714250526 -0.023582315394056061614 0.22175937055494454597 0.068781238606236458355 -0.037583436982550039174 -0.043315421948978936884;-0.49644770226629497678 -0.25516342265594504912 -0.063948652530325472698 0.31879734328203590543 0.25186769734281733157 0.076440854622306125821 -0.31509730482119802097 0.15893162848729761039 0.0040679551804064682449 0.089141374761072630917 0.25481325054472542257 -0.02403659367406777228 0.041427758352784317675;0.026448211022888495902 0.14350402849705251596 0.049937298780423307332 -0.44523174128039716413 0.085225259228908722964 0.090475495133929620395 0.04142000331056189949 -0.5030628071890723696 -0.073638171104291966218 -0.045650409442114465997 0.14235997433584055005 0.053171361154270659066 -0.0065125905303848874439;-1.2735565222643607797 -0.013876189867493012031 -0.059088398554947879626 1.9640284940222982879 -0.10797126711004348398 -0.13936532825628503152 0.1491878871676938223 -0.023165665309806845323 0.022370404183852787144 -0.015817644934348937258 -0.08187035050864452379 -0.033449594568257676186 -0.012428804533688077999;0.25409518655828261524 -0.50265089183582922772 0.13884196209933696853 -0.20871953907836940378 0.93354110457790495659 0.81315365144347306892 -0.41727725111338381803 0.57130454254329188224 0.050898995102212622743 0.47640635819256788031 -0.35002354511439698337 0.053790446126282143169 0.12429849174257016908;-0.25946938018143506088 -0.22225080021630247429 -0.23339328086842561771 0.10496820001461146243 -0.036066224976625316234 0.072422905487555311321 -0.047252238648655325859 -0.013414275610742189271 -0.086748672427025344533 0.076586982989811092093 -0.37201877475074945911 0.0098328077396278613931 -0.04545214438118280742;-0.45687741091435268848 -0.90754639774273149211 0.66607959695190388505 0.083703593394160141772 0.80949442638416868601 0.51484247890112344592 -1.3523741868784100451 0.43398453448859958259 0.076792303496307556809 0.59774643305011598837 0.68799699335673059064 0.10139973969337184867 0.083763077793064980026;-0.70043604406777792981 0.041833843171057837063 -0.23429435088898714623 -0.36125565030019102242 -0.27967579946022697035 -0.15528381438821803329 0.048983787688241631209 0.028431154839809690688 0.45555193051860559672 0.087346978774202735374 -0.12284632700035656716 0.44212796285581495992 0.067629231652603996605;-0.41174894092155411851 0.1077482125508501809 0.44188523063340612307 -0.2471566053083474046 0.44383664794652605279 0.47000513823287881632 0.34490907919566460293 0.096720123703516139302 0.71238044049144977343 0.18539442418658538814 0.63831077378523504162 -0.027908468675523608049 0.28372674779095563569;0.27053021885412842362 0.50283552257483943304 -0.32059603011088866342 0.19937182715245846398 -0.2171745215556092623 0.025207823834562381737 -0.33777697657975780388 0.16828912661411293827 -0.13202530850882443492 0.57410724558972159315 0.20369991674560666839 0.076407922011048942657 -0.0059379548076178324811;-0.40604959820007235916 0.079179754489726722477 0.63889497245645787693 -0.12445744237534051013 -0.23097842467620433027 -0.05800062654756749092 0.0054243796278258026369 -0.14792869469746069977 -0.022027650399763915728 0.28499511454755022122 -0.50923434716615301188 -0.30358845928449745832 0.068156844770788246879;0.025093097816036767644 -0.75572514910696642065 -0.78857112900609460659 -0.043251775850654546052 0.38468564963927925904 0.46149746949461623036 -0.36500156134500011396 -0.79724532508836065681 0.13107897678793054008 0.14977354720663813015 -0.2742092968497715777 -0.18056904687763905559 -0.11192112144444044119;-0.025251555854990431066 0.64179781791660661661 0.029638419158171419587 0.021964019264711628909 -0.16719563676958429377 -0.031074139390606519973 -0.5969700782471790701 0.094712769089980622383 -0.17145728849128219484 0.61929285991051297167 0.1144115621304908903 0.12175785573509541326 -0.019539225150406451526;0.57458549877683651186 -0.55785477744514577747 -0.32315610367818170534 0.17627328703181713299 0.076479729696144957418 0.19606120168241741863 -0.14222296755113478239 -0.24859782492613205496 -0.023313254534018435643 -0.13108132522805776565 0.17716654355155442291 0.064002813280978954058 0.030816263970075596229;0.84955902163160967877 -0.22975200687290125989 -0.6264679933141381607 0.022885053630356151644 0.48498565735463694537 -0.11026288736801766188 -0.63601143036885920967 -0.37545921524490261101 -0.087403753820871968316 0.34682167589502560512 -0.024619577794943631882 -0.10292340666530418181 0.046214110649945260023;1.6446319831335667327 0.63182055673365888904 -1.3252396745268029132 0.40917303088248974108 0.073331314757888649281 -0.24889952481223784342 0.35937453086408444047 -1.1102851932390818135 0.099882197710983375294 -0.59710219747525350442 0.41738250031978835208 0.12588625688353194398 -0.016459060812981991806;0.4870527613572247505 -0.26692045213409065774 -0.69978288949911682248 0.60206440290079599187 0.037752985677098921391 0.57807563472997813836 0.23615934325644111214 -0.52405549099927406509 0.35847450006863956773 0.096114775246491090943 0.13529621932010477137 -0.030830040767673157209 0.14793437535239639669;0.19524153437161806401 0.21000225822863025082 -0.41051964924277412061 -0.56306888296473767141 0.12935941719177762588 -0.16497429587449136124 -0.7835447405304974966 -0.03380358295130028029 -0.13284679115636074953 0.55134131008284792408 -0.84786160747740713095 0.0063878771470846570923 0.44682820808287826431;-0.23080241732719938841 -0.56815570234485790468 0.19207180523244407611 -0.1412545207686179416 0.29819021906191067739 0.36277265636498728929 -0.63462416034124791153 -1.8920536467196757968 0.090652794678832582242 0.51011241609627566707 -0.092870572271457119129 0.0092911093816076956164 0.049868223825209695432;0.24814610223774066777 0.14029127691110879206 -0.063096531156933088891 0.13337825370308042938 0.34082447821472050542 0.15542238358998014536 -0.26546321836595299093 -0.061959858164156028648 -0.034948567446316691765 0.058597522657903321208 0.13829806103113614912 0.021391507680363682636 0.028061008780441095561];

% Layer 2
b2 = [0.34472170570897631148;0.51584194778790637415;-0.075116575842059940538;-1.3064608297701632011;0.074166544578805143617;-0.071494773841022873917;0.39687987765784404903;-0.062450712419338173798];
LW2_1 = [0.35665167550883508651 -0.26304423108439367596 0.086153013992133681276 0.3925126719481015769 -0.22546095065192084395 -0.25487187906233826906 0.22019724656132555474 -0.60259073933796114542 0.21906421954774421557 0.47237117844075920958 -0.83609556820341923711 -0.45098581209566618311 -0.20535403710508426389 0.25370039262342175546 -0.43296067534019200274 -0.44833295171319947903 -0.30223959085659307666 -0.31117747681337198928 0.74282777555511880774 -0.04267417196973932042;0.15341589819837925246 0.10635521235568003162 0.25904779019874324408 -0.22441987514403932691 0.21238697165797706945 0.24397450065914763617 0.25982458622151483052 0.1516812264994679138 -0.037199051023286550111 -0.033142589241590421356 0.73840377629480824506 0.25441988766089979057 0.22699684614831658336 -0.069132468793506735016 -0.08211156507771194546 -0.11337947920120187983 -0.14087855579683022933 0.061232401594281352097 -0.2935330293144816638 -0.34880697103267899184;0.078627384919276996356 -0.48786024338916195164 0.57214185442132792225 0.1478343861173851137 -0.60216431885925625345 0.35878890841215393959 -0.35516966201048100205 -0.030185716501873446904 -0.13656274571122023476 -0.27844544683484306891 0.098648853660129667831 -0.3021502273944667305 -0.079759575277618649514 -0.36112538102938857021 -0.26149729721845976771 0.36268462984003607685 0.44229490023056394765 0.038353799306805956559 -0.38079525052448454092 -0.014466029115695238152;-0.9684644112439503294 -0.46008715436450808856 -0.21540327575108042524 -1.2692305906830647633 0.063018088689937371005 -0.51403068590535339055 1.3134374471065504153 -0.032268506920555342643 0.48947179816726349433 -1.1334514223080016659 0.49792396737765626247 -1.4775192382147757097 -0.72662698255828117588 -0.74309932825313573801 -1.0431311028990131184 -1.7814209114564607539 -1.2997094722387196875 -0.77122381627999303522 1.819970980030167107 0.4007224982851467221;-0.028365569331372263162 0.56036870403826877229 0.25187892429131814032 0.42155879191630024616 -0.16871092994931718989 0.21215351832919390751 0.0069074540358337209109 -0.20724412945903039618 0.18667024028553838577 -0.0500409165947900067 -0.49206828064483121299 -0.12787879674051311207 0.1648183516602821086 0.041417417838384935902 -0.0075695873986586451748 -0.40811644462845342307 0.023496824283621282198 -0.15724557120102219954 0.22840976901754633799 -0.156082918013881633;0.033730827016398387541 -0.24094796484981112483 -0.095676017834146295793 0.38053031675137405365 -0.18371711929751649572 0.26265627722466428073 -0.050203193549490293668 -0.1103077503436650092 0.15585933889133357644 0.36816490411616631384 -0.097825314015545755675 -0.056544303618680180623 -0.099803761096256909946 0.19168112796949893228 0.053696326203782743236 -0.34605805138393846976 0.025099412592133964889 -0.11183575202483593547 0.010359582904454999602 0.24102097975452407841;0.029455357898734907396 0.99743359747577020613 0.27704958854002292856 0.31420920893000442442 -0.69775127616820942222 -0.35071063548584008318 -0.70381126169997354491 -0.19111077762497613586 0.0078905388068014215702 0.3841314772192415683 -0.55901194425600675419 0.41609409132612867888 -0.022416650885674606342 0.94305290396628516092 0.090811898887130954039 1.3559884604614447223 0.75079354427303135466 -0.589520693604807966 -0.45716053930396549632 -0.022063667972010557461;-0.11991943830834854434 0.56036921035721087847 0.13008846652248215459 -0.0089605947593437845766 0.12684216151352625812 0.17456441218183924025 0.10742309421052734231 0.0035781472923385082736 0.02239438289975464666 0.0034033322518882292568 0.16013777453225319647 0.11459732873209407811 0.23350085434003220453 -0.16583860783001078132 -0.10250287590811671401 -0.062726864129263856795 -0.036807666636931475612 -0.0036762861734470140933 -0.085061954615209836583 -0.095588841787285064311];

% Layer 3
b3 = [-0.58391205979725357977;-0.65341829499811632243];
LW3_2 = [0.22848320946757799677 -0.51832434642893132626 -0.24936573758335200957 -1.1989367112093265444 -1.0606059920967094712 0.90918600109267255771 0.14583040422135140624 0.059229865050009121441;0.15454526614986371924 -0.14787334079120625918 -0.24918186984002474449 -1.2647051264511799396 -0.6674808013038227017 0.75971461802274575792 0.081484873578813843409 -0.49902419132658010215];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
