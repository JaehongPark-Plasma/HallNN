function [y1] = NN32(x1)
%NN32 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN32(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99945068544248;1.99881233439616;1.99892009883539;1.99913139478144;1.99870064641607;1.99862370973632;2;1.99894635134367;1.99925675424815;1.99810695854233;1.99806722911251;1.99973136253715;1.99973973066575];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.40018414187453732467;-0.28278823594224866689;0.58210747770822868219;0.017156226418626768782;-0.30107455880626327049;0.33576256132338450078;-1.0676043594858499741;0.23558537472424007087;-0.066375704144149477726;0.094357417829203427129;0.42626763390186961367;-0.68744840714373278701;-0.26745252331714136629;-0.10372214019738859592;-0.23175661651074055958;-0.60089240633082852128;-0.21278921344298007412;-0.36122186750759888163;0.025849720714162388591;0.083008583425932383482];
IW1_1 = [-1.7850378469377268242 -0.16075886329250035911 0.83631508011098565358 1.2870020336478411593 0.26639431775690458615 0.17378760578782642687 -0.2725886960661928482 0.34149249350693672289 0.094311527333339584267 0.032527366478291859508 -0.037071401154143833467 0.086524927309364604855 -0.044666356915281486828;0.40290989757469147792 0.25851573401300470545 -0.2786569919763964287 -0.0063627446611741666702 0.027202822297749375269 -0.073600205569487847646 -0.048534406657355463888 -0.14657330899550835568 -0.073591051893832512554 -0.0048631508327557403451 0.013762559299750535755 0.035777041952228944011 -0.010677282216934091963;0.24411099745332348609 0.068317038805448052075 -0.003379257402747708975 -0.27016403330576915787 0.062584663673018223196 -0.38052002861630618291 0.35033907649418472019 -0.55683909313327972779 0.18012515219246683085 -0.59949399148063819975 -0.094830079546690801418 0.047113317942169233299 0.065370373160870728912;-0.98368443223639290274 -0.39943804308833236183 0.89436395775424437637 -0.20981459610598954257 0.37502402378405391703 0.42307193151943223164 -0.27102376986653070601 -1.4440070702890368537 0.13760347895906790971 -0.087332831846243352825 -0.22559978007052500226 0.012938853402841732354 0.016325726602494497475;-0.17910529351120080266 -0.37464699731912060043 -0.0087601407536663129794 -0.07026244969341127744 0.42284132411563796206 0.19658245922710068654 -0.23582503513311972587 0.23738840436627361985 -0.069450407460552490702 0.31441201455311007518 -0.072331909662779914072 -0.14065690202755362637 -0.046154486301315571228;0.74434621477268048118 0.062271251903430982488 -0.47072539089457138273 0.70148298434372369226 0.58871815698621809965 0.47690688893503407897 0.23901721325384597816 -0.77568370971245259593 0.32218422862999102074 -0.07515283793192052697 0.3663428536356846954 0.067525669041539629345 0.056920998195286558186;-0.32246998278865912635 -1.0698827702089177549 0.37120616169609438328 -0.10730091203608653483 0.78653655540309486138 0.63250628184422919009 -1.3702752855890210082 0.62998531386829148548 -0.096812237380508037177 0.86181636186501464625 -0.021469695089700771562 0.029982282979937324718 0.10174072637583099488;0.61254777351682176967 -0.176347470046080812 -0.020177630638708452665 -0.23270431610264202815 0.073257386370523799868 0.035681609124698074331 -0.22667138484186136194 0.069165416362005696649 0.045921290528983194079 -0.10799125124829725419 -0.26910372221352912847 -0.049652056522672551042 0.054711746268560471074;0.0069033763408752960022 -0.018120487201811103645 0.14514647284632184454 0.14116133891444437864 -0.2454386119314296566 0.0026704120047509865427 0.31394264960815448928 0.13373282680674167255 0.095314835205684289576 0.15807020304249930209 0.10315779293232874014 -0.0040778138010052590937 0.0066890944776279506745;0.48685696463029981551 0.79332930278066271512 -0.52883016880378397317 0.057842579932225024475 -0.33485867529397567166 -0.161923054786377002 -0.23335279883280102275 -0.16581540237536823712 -0.19017305911637655269 0.59616532080595141529 0.59312024777871064085 0.11218532363624965364 -0.0096401789507543356184;1.2938066852029441733 0.24863118346306323225 0.84504838488592060042 -2.3923596666257922472 0.2517777570903261819 -0.020054459542321548954 -0.21712661027665494662 -0.042472721372262815798 0.00044091860043431890543 0.11919839555638198081 0.40531689874600168588 0.034665685287110961643 0.016338909722786287837;0.23122868138539878768 1.0310094811516083979 -0.38441831264694836801 0.22399588106792911457 -0.52744330857075460983 -0.69231608233105856876 1.3261663205991003345 1.2180512276176169717 0.15988731043547724231 -1.1108544781729032813 -0.094100430310513627497 -0.069108099161902580843 -0.019937388612053987685;-0.3743180820058888969 0.6177350519176265653 0.77673329038550908976 -0.39026556194842193515 -0.13055809756697708823 -0.35609151437441166621 0.01547840337659154436 0.52522426117830967041 0.0044513802857043789987 0.22291140560982589114 0.011888737265348685648 -0.094808738350413077067 -0.091247981577171774492;-0.1850681796545126101 -0.78956310094780102204 -0.90602200938045929224 0.43270690380818344067 0.31963407954000055966 0.65193692152490523295 -0.049012241981593124285 -0.65305943556207080025 0.28294311316144793444 -0.097186343927778376384 -0.49240025725203723228 -0.17748333700320562123 -0.1383477062171422356;0.017062776286788365609 -0.011492439267813917003 -0.23715049345911115575 -0.014563076017626899392 0.18174531052488460126 0.23947002531100194944 -0.090182358737480386446 0.061639082156997919426 0.021097045504181691222 0.42757595110770424407 -0.25974351258474026594 -0.13860489205263779033 0.0097623281943184821163;-0.46729592333968056339 -0.1706710868115355606 0.26060247899705379915 -0.4129394904442117431 -0.89668691247792586818 0.037593590945729657427 0.84431899058287784854 0.043705259294202561393 0.12819388112949803293 -0.061477459257132729964 0.058091551309277074389 0.0029228823525511132136 0.081178762085438380125;0.30344767080356266353 0.22828913962457836329 -0.055513009975910312943 -0.12854936287457019439 0.33848974762355443779 -0.15142680507019612435 0.044411803089891468965 -0.077505739520498467821 0.1364994935406250165 -0.42116449277563638987 0.065141725572848710457 0.030559931272723845491 0.038605663174871351906;0.29352767899784670824 -0.27375827406036601364 -0.33955873378629397585 -0.068067149736251400527 -0.22750943227356151821 0.36032591462572216567 0.73056693548375739589 -0.31725232513237072718 0.085471454299434229673 -0.1716350364076648094 -0.31108006587809933219 -0.077681372211645810522 -0.077194291678408549773;-0.19626602006699078729 0.076108573956072594902 0.16286662437826290861 0.12679505915041167086 0.30824454067237117005 0.24888873643607192787 0.44583674367230724522 0.54958109190484238926 0.28754228237085294184 -0.054894716450570382738 -0.046101387346925211397 -0.059716831623479009472 0.054751751142841434405;-0.04368368677143345119 0.20140801528712135027 -0.17771400288854397043 0.1824068584551454264 0.2772328733368598086 -0.3547016503050154923 0.0025566009049378096013 0.16997514880123795744 0.6014086384297682164 -0.37656629692588550196 -0.34220682058232249068 0.51425923257120187415 0.44883742882067872992];

% Layer 2
b2 = [-0.34404564499317324966;0.26231386821102675722;0.099951690267876577844;0.94235524020619387819;-0.49281291667253168676;-0.039686210734456189853;-0.3013207124554241334;-0.22664028042189118817];
LW2_1 = [0.29007229699149922331 0.38306762978433006595 0.18999457940819514112 0.20259933292171344865 -0.2086629462362704357 -0.18843582214714824086 0.10710910247149461882 0.25747729769277510892 -0.013519933263388171987 -0.31962685408433572087 0.48024102250806777192 -0.25522099548142235248 0.53796662741651690709 -0.39289263692687748097 -0.044163565577487164104 0.5704915988519734249 0.19948831429008351268 0.14336101834676376332 0.32330176130020765735 -0.24965468792277964449;-0.098346003074283872003 0.25287835756138121734 0.30363412975568915275 -0.17168487028767112634 -0.53575907523420540635 0.38852834327899521405 -0.35044602017153797524 -0.30598645162301341127 -0.57943583558984412818 -0.31885223934550305236 -0.28961456697109688729 -0.076129128363006837166 0.56428376829787996183 -0.036337780310888551094 -0.0052038627665990325882 0.27855509828763119762 -0.30394640557713864526 0.16870927652631759197 -0.22404997366379236778 -0.099909805058136957889;-0.044766914794260884158 -0.29554165119226621927 0.14216905019803108279 0.060975280657595366807 0.24206690192734375833 0.15442357785267243897 -0.17491662413981470814 -0.05976348539005640198 -0.26417860146179716896 0.12535814596397198972 0.16820638597281531434 -0.19639732086848876724 -0.076573214075068549156 -0.067262977913804367081 0.15244324128133668328 0.34673692878668449513 -0.042554532219095594914 -0.046718614716280075505 -0.15316773335294325831 0.085444015237202852742;-1.4530113679277683048 -0.54917984837318822855 -0.20889516981719064015 -2.011139196124127615 0.084370336722692534925 0.7472854843013810866 -2.1254878024584544782 0.83565335550433217371 -0.20452496231245706482 1.322338352382053106 -1.6547754995433350267 -1.3031381858802557616 -0.91252336777246800814 1.017647653192366608 -0.16628240008325828603 -1.1309477071215900956 0.046642292500495487195 0.030746939762902662091 -0.15404576734941308191 0.45968367023913164759;-0.31947800197533193778 0.32997533679276969121 -0.13452523790069614851 -0.30571764553685065735 0.26530040746654354189 0.37056144947665925482 -0.64266800166035165098 0.21749651176523096541 0.12025371124444279858 -0.1620692372545692872 -0.12888560153680300724 -0.28332879869001947881 -0.045490446331637533761 0.19847042648645937812 -0.26067068130208359555 -0.18801704382495590395 -0.26428425068321104163 -0.11467982146030564206 -0.42534293254209548651 0.20014090483828719802;-0.10094554304031588821 0.22725745496141100399 -0.21808966731958645546 -0.019604414227501410634 -0.089984581205882277488 0.097674672079956212367 -0.32355738018250651544 0.11168641164845015401 -0.095358986300379852685 -0.14941571567862912961 0.04931317526404632029 -0.23554178564288366649 0.11047134919350305726 -0.019607588442489595759 0.011627531503239441416 0.079941763561071493838 0.16483624101520463756 -0.083729446892041439754 -0.031478965667777435156 0.025977679561374259626;-0.17437993823554759354 0.34991722900713634337 -0.16842141178721284356 0.13722912056736613629 0.12561515646597662399 0.18050098805767395005 -0.10812616678300362993 0.16812943471288549491 0.42397197887728788057 0.19115565482340279857 -0.54707751769588885971 -0.30017456596150832171 -0.10040852597688285086 -0.008106081591934533731 0.086093771333422566827 -0.088458523639193140098 0.36304118382037708912 -0.16313814493142489437 -0.050471562073926064251 -0.0044476953683512086835;-0.20423141390770996328 -0.61100590628723028264 -0.34391746968349617974 -0.023646737919332222466 0.061112356202103701452 -0.098431162157116461331 -0.25014018862206155447 -0.004383070337052893603 -0.25368545600975173082 -0.16423759834345927344 0.051950601352287642531 -0.4888578379995579537 -0.024911754094297050566 0.19592170540946685087 0.0027341532108529466652 -0.25694569197038646946 0.15509646737392210336 -0.54669030709130095325 0.15358864642660974287 0.073914254288913142088];

% Layer 3
b3 = [-0.35737611963419113614;-0.2995210849088546512];
LW3_2 = [0.5043970419129265581 -0.71112715130520920415 -0.74705614052997848518 1.66694287346348613 0.65249898143625140179 0.51853411608379196274 0.54890578802360123767 -0.854406840898734532;0.68768270417109234049 -0.59852770758865891931 -0.62876219634791630231 1.7092252553607463206 0.90099711991517950072 -0.27426579191814831615 0.46459241495030229041 -0.72583764793567406848];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
