function [y1] = NN78(x1)
%NN78 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN78(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99903950958689;1.9990843259354;1.99829601983978;1.99822207512763;1.998545930709;1.99925043721871;1.9981007913552;1.99816751281121;1.99828556157061;1.9984257518095;1.99806922741608;1.99905412574427];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.1797490413502111084;-0.1461383491354911468;-0.50405937628468555634;-0.11206416459457582691;0.87379419049992157476;-0.60727208287973266643;0.17549263016472010923;-1.1307876404828729466;0.55471019068907789773;-0.25401840433954436804;1.4019456876521798616;-0.22524397527098458105;-0.3640056737014084054;-0.70622008687864290533;-0.52480831213835876792;-0.74026881838449631879;-0.4108968101139743867;-0.29290768557698509955;0.68503024416476754332;-0.59460133123615133144];
IW1_1 = [0.073035995007707910087 0.90539288758314129257 -0.23881615592495780698 0.035939225136860070142 -0.19698237737716930984 0.16592309278496150671 -0.24094346583462541989 -0.38714290776503357261 0.045756493049976920684 0.68055408778949222359 0.48641835912779984863 0.079704005296964045013 0.045590122401429990229;0.46463532343667063307 -0.14237931129014236298 -0.48630260018858034732 0.56960090989430200992 -0.43720992213524645376 0.068818877984907531054 0.55110460666754446102 0.14968128336928451794 0.13216656956944569656 0.085110562012477131155 0.014704967178795701546 0.0066805098275675763725 0.13750435893289961187;-0.52630115092563689583 -0.5170096602719989054 0.45533990067423529835 0.067554096621205664275 0.082658644057893707058 0.60717114125214977083 -0.18731578217120797847 -1.4352682742231059887 0.11753167673570009966 0.040103017018318448672 0.068819120413988590923 -0.11544269273474562498 0.17788909199456057197;1.4244976311228987331 -0.0018050190010640010385 -1.1056190160578560633 -0.022435231128693135932 0.12107529062756730576 0.69539643444139931372 0.70630988668893301963 -0.21034002587020214636 0.50775496618715032504 0.35294740500459292898 0.031354121759055122998 0.011342395828799678101 0.021421456037423049212;-0.44540376263871966911 -0.46328600896024263456 -0.18123655932525725709 0.22355824346712072082 0.22109258781174731534 0.49061898224722255701 0.38160084426998786 0.077708960852261144137 -0.010979094034785193829 -0.19600032480119808365 0.076024995509998194443 0.10860328281703714171 -0.10399628389731978284;0.20976572272851967682 0.58010824546125638879 -0.073556074569488344439 0.10679846985761859424 -0.46295278099300324337 -0.48799644047110862788 0.68133322742452140375 0.49939061980748333802 -0.017414646979373130109 -0.4720879357794105502 0.127796891752081615 0.044811146210867659756 -0.20309440725268435024;-0.085613511099477526689 -0.37493645100885458765 0.2105303904905004575 0.72229116708841634154 -0.060832780402260186459 -0.36731737263206154509 0.017062288721193849539 0.20173895627914720241 -0.22353467315082886646 -0.27207342429173470011 0.16005311679937284097 -0.093842532193004785102 -0.071592586777490113681;-0.68213885623952941195 -0.6363197077874197527 0.68729161530331572827 -0.050169526130775639328 0.47282145574588402281 0.3978986607043557 -0.37097230560652411091 0.83287577438356252824 -0.028690833137697963062 0.23175509986018300035 -0.013805653464061371991 0.23213355186811265862 0.00014668735008811621158;-0.31157718797184125181 1.0616915708230769688 -0.31502704472125436785 0.70577717179517229784 -0.85890783489431998809 -0.55645218535596319143 1.1899830117457228518 -0.47672679174847620853 0.10275397431205429699 -0.75360951665731690241 0.024413232551141989674 0.001562773026287212581 -0.22990013919979362944;-0.56261938867355820726 -0.18654485022731862043 1.0017611764176133082 -0.23334382437255979381 -0.36397820821077098152 0.065278650143455324573 0.12067401349861926751 -0.96620300440171891232 0.0092066837739313341776 0.39504109554446109609 0.6260186725085671311 -0.073344261090811449511 -0.22234647177957653219;0.50877532945407422105 0.52720114048926935979 -0.072615400669334889683 0.50921501071920527437 -0.3307111823459225608 -0.48931281588641711844 0.38134500065331461416 -0.070396537660880498244 -0.13775700718491246111 -0.27315197975301874767 -0.011897770342903787183 0.30582634703426198053 0.099749602664835929078;-0.55733162919267820179 -0.23006615803952729093 0.46819522509883226835 0.047489165339317448988 0.55669108592788485446 0.76861972837021841354 -0.77693231189577061091 0.35438985808388778764 0.044798663673957440923 0.54654001182630451705 -0.23026323396847772629 0.032326305340151607892 0.23438955803324906801;-1.4736035214822760242 -0.22780699100475948482 0.27172506020762360324 1.0883789248766850832 -0.15910778942491757282 0.059042235627358226335 0.19862066650356480224 0.17694437588529343675 0.041683595122351140005 0.071015256914787466824 0.45259060062455969131 -0.042565566788152112143 -0.0046527197314594013339;-0.50867116525010536154 -0.46705832606297292831 0.59865095215390473626 -0.91269677756708500471 0.35301123534272710325 0.10426196484377570073 0.23732227537369249282 1.0039054087754570865 0.16298066552725581912 0.52616967303481798623 -0.56311887255113046713 0.37342118544891683696 -0.37616202757549610514;0.54835922648169088678 0.52653103920037380714 0.50522395811502351926 -0.36159054531756357198 -0.3237741345245706559 0.04154861218800037781 0.25915856614549881431 0.74012111077346820487 -0.078463121254774462199 0.0090960807726505957249 0.078615281013721449721 -0.054470558411271269295 0.22833461664860310592;0.096062679983877172218 -0.083727578701101493253 -0.59834446321208256681 -0.60086326099369835596 -0.10664977831041227985 -0.10530906750264321103 -0.01734923207080735566 0.084721304802964553238 0.0056518920991341266291 0.10448704340597257667 -0.5708855601295586002 0.047025825443273869264 0.09618572330049399155;-0.37762233293198982365 0.052060115199192943947 -0.11855620341305181387 0.2557310613695785162 -0.23203271961713567428 -0.69491708905044091704 0.74122122502360121565 -0.15989107691381670984 0.15289670782079134437 -1.0240701328750347887 -0.13452328489304660186 -0.24038989093934273744 -0.057955093240955123102;0.1061602205572796942 0.12794912188246837514 -0.29291426209556636895 1.0371550552725163907 0.17043815876900089701 0.090933589074595755353 -0.16261785774693590656 -0.10572936658632194062 -0.021934743915468797593 0.081014278694400948533 0.024604399744119404003 -0.041835803160214936336 -0.14439525846684914123;0.38819154577005077211 -0.38437917471870708397 0.2401215259886077813 0.16184002256711413348 0.6878606677406764458 0.01134538047145832243 -1.1237791477270711038 0.40684580817172089073 0.13003317399269320731 0.1505363084832712639 0.3347129485635689794 0.52655779149772385939 0.065950300014552334926;-0.39560732443831447824 0.37438605544832326277 0.22651000840273730064 -0.12731229209551517267 -0.30887056034181226138 -0.18558593186486510573 -0.021019584826212720646 0.35590029277637164062 0.14278723831128817268 0.44856399396763968479 -0.049354662651732161827 -0.1873590866103607977 -0.071566710697222368776];

% Layer 2
b2 = [-0.075080132478475378188;-0.70509069302798599299;-0.090563660490763725486;0.2566337947135802211;0.043903283294440417772;-0.77270508652582936548;0.069093289570049246096;0.17533648220912229077];
LW2_1 = [0.16279390034058097148 0.32869021865874070709 -0.60401831039690045966 0.034961156827945531755 0.10788671380734873861 -0.45321623655405424147 -0.082628715712475361843 0.62508894455588803751 0.59458940172048790895 -0.45694895835441268206 0.29471850584957948183 -0.23076379694165946588 0.48080537787284460816 -0.36480157361313025888 0.12153088632580047457 0.45963303250185977289 0.28031127086278401217 -0.46300450318443342468 -0.73285990922908517131 0.096623788350874859066;-1.4868321574847860322 -1.2493468020005686903 1.3885899321735812872 -0.84615397155791260975 -0.5944522861584052853 0.8666237899644805287 -0.87329669762270856204 0.24718113474473904501 -1.1489926655035271885 1.1494097195478005791 0.2090305190880346331 1.2468523947344853919 1.5682026768748440482 0.9289116766906827527 1.6007989849728534448 -0.24936384348124263077 1.2319091817253504662 -0.76460325996286160333 0.23548621013587719975 0.93126470108433312411;-0.10737506793717400966 -0.1057469547593847814 0.061946125324596368333 0.19862137610229826934 -0.38390153812870608796 -0.42843006665544558498 -0.071837572455559037254 -0.35160513638961171656 0.56734035224799927999 0.61764142014178013973 0.78719942563744227382 0.081015545174476608081 -0.60532699185886440496 -0.5521370614746488048 -0.81605451956137253777 0.4744572879803689025 -0.38692942396708657204 -0.073151305764241003615 -0.30922351783880597242 -0.40663072232831554143;-0.074421087696084506358 -0.076413965362508218249 0.19393364343159760765 -0.06172897326542201718 0.015370709372250317137 -0.12258427522722151193 0.1291491619023585613 0.2904214361946420575 -0.091104545947418819063 0.0078238839073039301297 -0.22529443741420934755 -0.16226501768150333738 0.13320425276359984523 0.094491337316392587375 0.046821977168029028926 0.045265623786778869109 0.026978704424795142691 -0.067891248296534867368 0.20019366779121242073 0.16463099958020385727;0.079562807364861182213 0.28323096706005779222 -0.15923684489785777663 -0.16551258578294467116 -0.056780723634277538436 -0.28982185592987214084 -0.00827844327207672738 -0.11865125023434783258 -0.066943103641292661665 -0.14245865021654807725 -0.070815325582205476684 -0.15364802244780317864 -0.20709002924436589743 0.13225944643559320313 0.19169923045253459137 -0.34779886726723047152 0.097138385184022416063 0.26245230767560151497 0.17500490169605609214 0.10190662357457466736;-0.44419357055240527021 0.47461256464686008005 0.77606461229685286263 -1.1930459863784597108 -0.37373474365703301947 -0.47742527402959228366 0.062474541267803385125 1.1565209501149384952 -0.11995727145939794056 0.35647192604029015461 -0.87925667075977176346 0.30831339034895682838 0.64707871745471345903 0.40933566879571892105 0.16662584076276096279 0.13758657069631916037 0.5509362779759322537 0.30950412314938641201 -0.23610698111105890562 0.55705570945645899172;-0.15228856447347460801 0.17308616952713218318 -0.050323562430926609135 0.19071806425904880289 -0.16987084479462141728 0.64195945482964500428 -0.0916283305025872713 -0.12632824637173370452 -0.1194172193177392427 0.34901547740899407923 0.28900195059127348207 0.20581051323307208989 -0.2288547264508012935 -0.20744100758863348588 -0.26316772339849603402 0.17377714283159262365 -0.1125083948178260268 -0.018887207451079780773 -0.40341352559906085151 -0.29089015283500585518;-0.0050348126894343460391 -0.31967413822471063556 -0.27010709811684424642 -0.088474394361323510649 0.28510140057665905866 -0.051107287284403932204 -0.304207477948894911 -0.29177482641857682699 -0.17583131333956897313 0.26741001479688109033 -0.087214177710758983286 -0.11827150512211520583 0.058743140187808011443 0.12531525641203758448 0.045929833284551482842 0.025080768966448951929 0.027059103364291070548 -0.44795831452757034485 0.020275061804131921245 0.18492579044119983323];

% Layer 3
b3 = [-0.075809052508723911989;-0.078294377427961206473];
LW3_2 = [-0.17954107933358837146 -1.4106818254079365182 -0.12891467842321391313 -0.24737634181849987858 0.77235036814427560081 1.133591557866374 0.53450066646723348729 -0.31879495801515789211;-0.10285944056943081837 -1.3487189951103726315 -0.077037878789938812885 0.14431676632405027183 0.84989076697065069066 0.9746501721292329945 0.67342928198829521413 -0.25792678048316891593];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
