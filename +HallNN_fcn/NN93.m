function [y1] = NN93(x1)
%NN93 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN93(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99968400459471;1.99941745012083;2;1.99827874901684;1.99966191958648;1.99942937806068;1.99873186365967;1.99820180783443;1.99847589948824;1.99853941890674;1.99894951484684;1.99880574929301];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.61203012880237828153;0.25338711747030756571;0.49664198741833842643;-0.34889046882075164246;-0.1761912713666420327;0.03711363435340482575;0.63524645848996486031;0.8080582082438679814;-0.86260291568195934797;-0.32941078320269906454;-0.65200821926363417003;-0.098521529597180981797;-0.34020785299917738476;0.94698762610668218986;-0.33788969907578714214;0.66376331606339256108;1.1416700270152673191;-0.0974981589384346925;-0.50916706344682316487;-0.54504767002022169731];
IW1_1 = [-0.5610038873641334245 1.0624779022365760106 0.13467119256665280314 0.067944587982704737761 -1.1293071948114783432 -0.69636919446456202465 0.74808449211360283915 0.368594089946130965 -0.14620948589799351303 -0.32676599512318366125 0.013346473239827117557 -0.29941405438256213367 -0.28682222593875800198;-0.41641350679357597153 0.06835643038953050088 -0.1093209159394178398 0.11221494057436588732 -0.26113282955684163911 0.071979310263209708709 0.44657145912285139966 0.20679688392550432674 -0.012968388628744423677 -0.1737128429455410128 0.09232996542367678805 -0.0093833665348150314262 -0.019440773805469362817;0.12137570534091296492 -0.66692437781367630567 -0.33508322843839366545 -0.02385407082194191189 0.29270210258515055868 0.393793694045457221 0.48889290424079645536 -0.4818015683963418061 0.069748664500494578222 -0.19135157091367349658 0.056134742239442120271 0.21842587239670305244 0.16894149241088640689;-0.31597254010795372547 1.1799873000229470499 -0.13006118927354695658 0.89866943265437537747 -0.21016391144399024227 -0.36650852547999046571 -0.30108488546063583158 0.29900181210300186274 -0.023550893271541577245 0.29756158484337807968 -0.26312546736130121294 -0.09490530811688852042 0.0052338711960449885857;-0.18050017176217478254 -1.2050280576591738679 0.40092521023184135576 -0.39894080019947558702 0.50794762681084892897 0.11618832160742073589 -0.010172766924009190095 0.76740824681880381863 0.036588207925119520247 -0.21893765022142383514 0.79893599002876380943 -0.12546907986296682025 -0.015441532887953756531;-0.94792032524234970392 -0.61001022538157367858 0.7638275579310749297 -0.01381657889643018132 0.50810569908579605869 0.46058378010511674683 -1.1550824528778254052 -0.87519746462217951066 -0.24639448086981399766 0.70758702221224223372 -0.18795598364439547456 -0.15029875356409821974 -0.041566915417368295593;0.13619192225476270397 -0.72072283244044343942 0.1332317044049001753 -0.29088858168557496509 0.19291148832320006989 0.49490407478451403644 -0.7638190358434715499 -1.5620629084499781936 -0.01838018938816229908 0.74268635637761737378 0.67929848814639670618 0.079777983099614355189 0.06728809840534505371;0.042523925658308120434 -0.5898082947407246035 0.38524038896016987721 -0.19924374753697651763 -0.040864541938899122397 -0.065478760117169784727 0.83226836406126092349 -0.11603595830158881796 0.059795707009167094192 -1.0310186444030744468 -0.61321572510836075409 0.061065112217912886905 -0.021341026184232933516;0.17341589084127279063 0.56601831411734460087 0.47969582284984146892 0.24970336436841839012 -0.38433088201440046561 -0.29531449967420236868 0.29113280183881912189 0.88208669183320265184 0.0025668331689980275132 0.091632344764120493563 0.43964722974383552145 0.010510815715467690043 0.13843194880733822316;0.24072893510199544487 -0.27316755107436274663 -0.33496544945817818828 -0.64349832965402364859 0.5663525101593069877 0.33526703537218438544 -0.44905678393325954012 -0.041735227991688668425 0.18754508765658101099 0.48240333405148688728 -0.19871842970141920248 0.74651825245861525016 -0.032824263740468422046;-0.22614614073013689088 -0.23982056176333352293 0.17896732454324301709 0.15362924611644282469 0.27812565602905509055 0.37263428620252997403 0.16878679970280005551 -0.016913802263206031973 0.069490451820348908551 -0.0055582905567851149942 1.0330794652168395764 -0.091508874966561390418 0.0020329495180803074279;0.7098916525302505498 -0.31936481152578111153 0.047494790744710538299 -0.18427128846387394456 -0.054523641704224648508 0.16031143019695573426 0.15926653560399381404 0.084820623523788926668 0.020112081184583449622 0.014031860627918790047 0.19026031915423910479 0.0067329556054551171346 0.013437646275154587622;-1.0835443594758751296 -0.42572446815411402188 1.4703575454024084834 0.0081571510119276581519 0.38267843835810794184 0.31020381635591431913 -0.39686922809949481961 -1.028579095097415852 0.069988066107364216295 -0.10578073366646988107 0.11163851732840192332 0.055662652668173565051 0.082955841392534354628;1.8478134350107950912 -0.019537474262732220515 -0.83072756828809302121 0.28012761076939290961 -0.097692551232600927102 0.081481366574228802913 0.32533944444673090768 -0.90504856729158822404 0.024360336252429875409 -0.11326821310184388703 0.92506488921365626066 0.064323365332364448865 0.099773821059974579506;-0.66544985573628556708 0.087873382249552378642 -0.014701674005265598366 -0.20207270296410501098 0.10558129396711370129 0.068485843492246623043 0.10643248383429862458 0.35992693489054916611 0.23629545294151246826 0.64914854881761174799 -0.2828719793052526521 -0.037368940202337407042 -0.11025591794816477775;0.61019692297478078657 0.21042966253157485701 0.50665003488310811353 -2.0880125196215759686 -0.13103254683330453623 -0.20853427134522362074 0.079433825982091241236 0.39250336107401478936 -0.11104489290099694987 0.13538137941317210378 -0.14843190687877308442 -0.12024530756343695947 -0.025271030560828765255;-0.083123036811942566104 0.81348151669020363208 -0.47322709049396577408 0.490910606566700769 -0.69277720594452318892 -0.48041356743725383005 1.5369502031705415401 -0.911464013642557358 0.029636850733431439886 -0.8317278588348190338 0.070750247822632145178 0.01611320964434080627 -0.08495267913292312012;0.6038193204380251089 -0.018354988732972591509 -0.59446242073860666721 0.34612763855076378317 0.68582497263923614117 0.11906414492285004314 -0.66715893871501319445 0.24480748962747836406 0.015315585091213517258 0.085075825739963209515 -0.10785007002674214249 0.0091707249006508922973 0.0045689165686125729482;-0.46445857454917727214 -0.5174370205932223854 0.11899666948441381398 -0.059992228849645286293 0.73949962788404333125 0.24027959907380494475 -0.89917127510885086483 0.36834269631725452543 0.0025282826051970237573 0.22134724542728645424 -0.12379551167065561135 0.009395571388252709627 -0.0036438385262060747453;-0.11316738858536300183 -1.1042916177257744437 0.18177114776237721094 0.094644125409553470085 -0.029761678887744762861 0.16813221901585240214 0.39358035435393262658 0.36569848661777576426 -0.16073372173782601857 0.15648573564990031493 0.53501732803788126791 -0.072576674872746702039 -0.031606157388658309704];

% Layer 2
b2 = [-0.081825624854703196687;-0.72478337557256744539;-0.10256621585536784824;-0.21335856079063822421;0.29692217118467900683;0.15338032469808460245;0.060817766890158921067;-0.33303037624360043445];
LW2_1 = [0.23466351902818546882 -0.39642058412055003469 0.11221806073039124196 0.19226378247192918436 -0.28262462340294253194 -0.48401119138181569745 0.22501737502008725689 0.051396121621440117588 -0.53219870610392105981 -0.14583134358404797881 -0.26467207247786495028 0.24276807558622545691 0.10517687448930927718 0.43589472806264151217 -0.0068055662545528170654 -0.23617019231498712073 0.17973730385079692007 0.00055695808182748465093 -0.1413512311101022545 0.15090927304520321273;0.1361168454513241588 0.26324086583283673457 0.31720948236513690777 0.13471778019638652735 0.0086167990408705652516 -0.088105852517310942473 0.044767965841071968858 -0.094975238287273569537 -0.19656924538436548744 -0.084568963677919536948 0.0076811543335770920971 -0.15810789044700546135 0.092516109641381877315 -0.19884776746983631734 0.026730820092522165898 0.05107940029187231501 -0.034426700809891158661 -0.450602088045916227 0.74086167314614459478 -0.068681111352086363087;-0.46568252722638414642 0.24771180294758426976 -0.37679406700051459866 -0.46398551862502218635 0.296552563904439348 0.50376924011487544952 -0.16567967335297104081 -0.21268206255066501864 0.44402325217020705006 0.093725907111586709286 0.0062279018376869537538 -0.23918201268613292765 -0.15099779706212917985 -0.28317774825732144883 0.02321650625475915608 0.024738127223859929238 -0.070901798485002193173 0.38728774275303101682 0.21549255395316041506 0.025168942466509296174;0.39574609518522785301 -0.41202926019118352174 0.33029651868148274252 0.25408129194639578197 -0.14493601424117716348 -0.029041088650472900862 -0.24781149570562630013 -0.057829893852079247707 -0.011820218159943406133 0.051197707608146854341 -0.010251748138099845559 0.54819458083983407803 0.1177352245340688025 0.091304110285071890529 -0.070608330633628299533 -0.037511909843384122487 -0.0082430886076353664799 -0.064215985676092268708 -0.24064098650732695939 0.025340279991850574171;0.45762028230732076928 -0.18790282843266853385 -0.31271418665248995605 -0.28630030657106525505 1.0609562554847842275 -0.77589358360583537966 0.36256738970914353937 -0.70784073435919125927 -0.78956479315188876633 0.22612742640867838917 0.21308608055360425682 -0.070763082342391120383 0.092927753893512654582 1.7732810399622573883 -0.29621988268492710494 0.68735937680814152007 0.64829182917836714051 0.88606044903510761124 -0.65655611029731519857 -0.67601220776602344298;-0.74752402720638333466 0.46418041563677253647 -1.0370184971192313306 -0.62744143508781102803 -1.7118924061380644819 0.96497570208996352736 -1.1634657989020102953 1.3244113152415746271 1.5355744301258080764 0.3243876967790463306 0.75041169828633080829 -0.62514419634389883917 1.7326635039159616891 -1.4763034029263366609 0.54411530820370157535 1.340753748863070971 -1.2705280797507398916 -0.9454110017121538645 -0.22798282113983450725 0.85454234520374050543;-0.046592384171946457649 0.1118149995750510467 -0.081970826898682472295 -0.023126392951032918172 -0.096499575662691891575 -0.12551341678765517984 0.14007645707997726237 -0.0020658974629022457473 -0.16440587690115879282 -0.033018843178178103326 -0.017855345998499069782 0.003420471720711812727 0.059108086903569515003 -0.017516063435378186747 -0.018117414358150972509 -0.041387442975562495351 -0.0069178769853574430954 0.39810222444763493366 -0.40626321278741261978 0.032420667956743441651;-0.038009875750779471837 -0.36907152158272954479 -0.013875779577411460203 0.13538280519597439833 -0.23709023345061902566 0.068949478685580684045 0.13152412094455068203 0.51991370804380276915 0.083122601828123338086 -0.037783722481153116102 0.26363271666184884268 0.83515787942998165327 -0.29074300079344772563 -1.0812381150489589476 0.093543234072706940574 0.23347525118047340875 -0.17008191650621326541 -0.086629289802531941889 -0.38622251435866439273 -0.078676190088841149728];

% Layer 3
b3 = [0.13543136280323969656;0.31665808654801808064];
LW3_2 = [0.068878324930322698538 -0.62030581822752883792 0.42542889534277883445 0.7239696665785192442 -1.2096908469990645951 -1.4601174298048416045 0.75376645049384527475 0.52334192423121406179;0.3983638344840553791 -0.63895507668335227436 0.52157193966382497941 0.56663329192472844387 -1.2045983944598350757 -1.4968269146666992597 0.076765631532325351305 0.63840665116142958357];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
