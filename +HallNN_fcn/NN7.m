function [y1] = NN7(x1)
%NN7 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:26.
% 
% [y1] = NN7(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99940362818216;1.99880119334432;1.99814882268755;1.99835634830113;1.99948354473454;2;1.99835255657767;1.99860739361422;1.99818773041156;1.99842863645827;1.99867461688204;1.99985046315895];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.48817583011636084267;0.5005794177306537307;0.060599956193929570281;-0.12583255758244965561;0.3624673205623427652;-0.5124536830917342245;-0.0015983780682571604656;-0.0095474974685873566921;-0.2667602052562136894;-0.22190102824972110507;-0.10429379030718848032;-0.70349962950338273959;-0.86923332458128166333;-0.87389537563255259567;0.10015256619086787548;-0.075662331942852933953;0.62018485201945239282;-0.22709967240592571214;0.23331197250262741827;0.44368350369095971297];
IW1_1 = [-1.2615041672360007841 -0.40564046154789984433 0.46886377350189561986 0.7046671219255957741 -0.047371129036202136442 0.10336595015681149246 0.013718017145147365365 0.38120623933322422827 -0.023045829325312364166 0.10302088869098259549 0.26059798095037334242 0.052148690304168993093 -0.029821425054730506948;0.20035237344115486291 -0.52793923083769744853 0.098865361219029626594 -0.38519333848917719498 0.60689689422862802548 0.21338577829440927291 -0.54075621175051247214 0.054756885966313263714 -0.08257654019656403277 0.21432465394759986355 -0.10869075970522798502 -0.010559896990338379918 -0.0012712093825726794062;0.35596816031430628113 -0.8974941797497367757 -0.2165410142089018164 -0.24338919830017813339 0.59820349003557482526 0.25221746852581333753 -0.56893574327457618889 0.070538253319973751032 -0.13130079880773393164 0.28718538945117888517 0.14276840559492676164 -0.0064017770579960931593 0.0018067934484599520138;1.1525139758458913253 1.5277350624618482033 -0.57525270727648747382 0.17885801786259666879 -0.5753892491418294286 -0.013469637911595225971 -0.099333494977653730151 -0.81672598074338798035 -0.059595517784364088199 0.40452290764157211589 -0.84231710929790049036 0.11798113311098686051 0.0089296347386029727156;-0.535141158171228426 -0.36801624815209860175 1.07625515531969973 -0.25165035457212048264 0.27263026608201235135 0.18733321328777005621 -0.41005992971424382043 -0.77242532607101144215 0.031480520303759487732 -0.013042297635203104963 -0.64951173090456226777 0.02327474708889712765 -0.078335116243488336907;-1.1057985932226848114 -0.58444589375819033794 0.42802572350553463876 0.19487512704194251412 0.19529557985837026068 0.081793438377831470532 -1.0157152016364336955 -0.054477612980213127591 -0.38110808769307136235 0.94650031013003166347 -0.29915245967368608859 -0.16143850217896896226 -0.056889525516734165689;0.14080494151928354962 0.22024747870022823304 -0.15013237699144682535 0.29567845642277534868 0.1532604163505820738 0.1699625403617964492 0.33304048564391858234 0.78696390255106396516 -0.15491526908879774127 -0.34379301915065441086 0.50403406879301881904 0.034998285243327237337 0.099401313750500416844;-0.051270235681174121389 -0.24042256374090290039 0.035801605518062669387 0.031333323919572754479 0.026750843267026008787 -0.16751402022010425386 0.25314013801439094742 0.50623075428879660276 0.11148353513589527586 -0.025994108434053822543 -0.011474323484423636435 -0.16352490193502253191 -0.15166432594115536459;-0.19691256986068539359 -0.19302044558071190794 -0.17108271225073248822 1.6105621839320569677 0.3069779443638646077 0.29823616448588780026 -0.39335570535642999657 -0.51113874815734428037 0.11113129003357302693 0.067698459014158274272 -0.25515233049844132651 -0.064873008446385146963 -0.11478368041386134701;0.50329371469583350507 0.21758679022254212576 -0.16260710442267090059 -0.63914539118048441235 -0.16929083318669946312 -0.71574289342856256546 -0.43288324119018406488 -0.026283685342343182656 -0.18018855677251868763 -0.062418321631530562787 -0.39552169097265621467 0.043237545440919990247 -0.050484758364822635013;0.68975841357183842462 -0.31100722297632027447 0.16316935857990072511 0.35194626560234382184 -0.0032784984164445883648 0.10704610429298745677 -0.095837989037569695783 0.18460934364021938658 0.24794340404548770307 0.55225866278206992011 0.16056612016066834636 -0.083078344454142902253 0.25425198819322519794;0.016378911359641951107 -1.2309475039794870455 0.47637010937417179068 -0.19050349306350766732 1.0402613734762111708 0.86826297765142423923 -1.2064997095730916055 0.72224447412509662492 0.30754934692509605654 0.68429929851873494417 -0.33270142014892728488 0.045614709293006629187 0.43936389729886426991;-0.99927981258258491426 0.33892437418541332406 1.0657321132508561501 -0.61011994727707130615 -0.31850644771720504345 0.017349828943229693434 0.47978351946443725806 -0.16733958002046839253 0.13563579667404332407 0.054294897857633285521 1.1858538772287057217 -0.10923070930056742733 -0.032313332601280025935;-0.063037542818314848403 0.68688940309586354882 0.53683415463998662709 -0.48421614441951010832 -0.31653641174071106557 -0.88036760128726820884 0.35544978514319591767 1.7354118741911619406 -0.18214340710365134468 -0.24317335150837576796 -0.50110372919324908114 0.080204333265931126995 -0.14872673429999902495;0.31451699725057546964 0.15700616758193766676 0.21559551620053510335 -0.22790968120595858637 0.61561611941996219333 0.11607081183320444584 -0.41845217499442938225 0.17782211618556748034 0.031774372858497837435 -0.26321181341913535423 0.28182744882549415344 0.13208013291408157719 0.096023704004024823533;-0.50491094952937587426 -0.37867234327754650813 -0.6219231073849119662 -0.39378275039759491616 0.024341830268573536739 0.097801171660373484307 0.027372094773047521421 -0.60692071651017542866 0.069417243143540752204 -0.29393579184473023203 0.15295047853778373503 -0.23208925503442889848 -0.27083681744897614152;0.42162109553027882214 -0.40735744719912198031 0.62866037576788558194 -0.52532276999470783885 0.35901500791951035385 -0.066588629476027672016 0.31251912045764784764 0.12755609810653079084 0.28347345264260781494 -0.96402890731207802055 -0.53473377156213919292 -0.026208396647229778575 0.12439958109922985563;-0.26411709055650200995 0.70881749933839932609 -0.00049434392819096544675 1.4220566056153238765 0.074991701640619481961 -0.77566798270456860376 0.23791818224173311158 0.011945331932530943095 -0.047385278849820550162 -0.084609298761663190303 0.47682922056721793735 0.37733178284605911612 0.33459591203451843899;0.20766646587964143755 -0.026890750194230310377 0.10925575770426909639 0.092478975438216245997 -0.055405544686929861231 0.019965654302143965443 0.084369067647085502215 -0.019566051892769921461 -0.010849267415176354346 0.042768791500661942906 0.037471391149055337244 0.0010946100189341940404 -0.023892550568018682683;-0.14744122993530150989 -0.25398365782421350456 -0.23174905116276356409 0.12770348539404843824 0.15371017391825764209 -0.045671150050015721367 -0.061634576256042995779 0.29482127979701139298 0.083118615519582911277 0.073303863422728765542 1.4761966456539901138 -0.016126429498373846816 0.022693786226096288039];

% Layer 2
b2 = [-0.28811170656337581342;-0.022771960408554094146;0.12442520048320659942;-0.18405504223101121219;0.48927075437509526257;0.25099770839245932885;0.043685246925007956142;-0.032428775358535333329];
LW2_1 = [1.5055093776288244189 0.23765173165659603249 -0.048674254717562176475 1.4128392976554808858 1.5317232292403437643 1.32589770620997216 -0.65745741191739837106 -0.18559795027058748063 -1.5375248560385337271 -0.65285675315068181224 -0.91551672777833614791 1.26598973338064269 1.9814077492577046868 1.5423782600601751991 0.0078434842172044900305 -1.0973826002843680705 1.3621052476708337409 -0.84525483966206205189 0.28230439844689270146 -1.0268985028545656313;0.028162269163571992947 -0.2802362889858600048 0.32784884974506056654 -0.028147961634020120247 -0.010293249904865322403 0.12737421487495834138 -0.10952501687179641565 0.160578626138987407 -0.027006514542013946439 0.077714644979099217759 -0.052833342987576130401 0.13363422988667195135 0.060973981294509746465 0.10791956986239736871 0.2814652620650436865 -0.12773562887443815073 -0.060748705367202768257 0.0029557212668388497569 0.15812544874090703195 -0.13353146312552582886;-0.2943248863424083317 0.26267289820014333435 0.22680655338891922423 -0.080866567913155912306 -0.11842160483722005693 0.51445295029362025918 -0.20302448366505221333 0.1881803765283141805 0.24484570418467199726 -0.38779303607158804867 -0.28949735105029655857 0.45465840511416144576 0.085898942866460506473 0.35007047223684462089 0.59315364327155628565 -0.11413597946035068664 -0.21372100595106191534 -0.015709711510311277077 0.10458406330722760935 -0.0017216474644785283166;-0.046725108322527922344 -0.0034815382135927356796 0.50034796781429380363 0.32268423105309351762 -0.49662802517527543378 0.039101756616577533487 0.074675037907172669982 0.439651000566586736 0.3051617873404908754 0.21874314507269182473 0.30276611167980266304 -0.084651129121684237644 -0.13923098599744498927 0.16528858860916789686 -0.037994724862949746935 -0.2374439085197723176 0.20652895495912287904 -0.085177512262340535076 -0.051461555296447553109 0.02278739852599332566;-0.1852573067837134102 -0.74903953762654995607 -0.26413770041463779936 -0.030408305302824359395 -0.093826298743674693692 0.19275265269599892171 0.17499082054527442809 0.32831956834705244841 -0.054459733693145072342 0.025939757748857990294 -0.11600953850199502426 0.19653352801559068053 -0.10378680598535384993 -0.030331764788850107406 0.16802399774401494126 -0.068087454808954769869 -0.010163666672500659346 -0.054647613534786726452 0.56715657642971439856 -0.35661197643393266477;-0.28025227360790083697 -0.026524849603203372317 -0.57645885390511464319 0.024346549711511854958 0.24975633076417586009 0.18686656738995263694 0.14325349369539966404 0.32815100654987555684 -0.27523465289438581172 0.094912554309701871458 0.034619434054707166892 0.31446111030283280252 0.058530540028234018246 0.36088533215524104536 0.23610020423575822646 -0.045492075654238010862 -0.0099167903154894244955 -0.26085869967204200481 0.085710460251936307352 0.47457381805616027926;-0.092108001189554880583 0.15981127614589241137 0.41291021773419667173 -0.055666681226718153774 0.1087247906080966442 -0.32052737783555379503 -0.37138935288340457763 -0.50192332940299233535 -0.10600433472491131714 0.16203137963285860201 0.27102799547227507393 -0.26409602380138419431 0.22384039884646309004 0.15985559600216833753 0.49124079434040784919 0.11187221622758948547 -0.1308841941833537581 -0.068647499737425149435 0.71909606510791113099 -0.65282294288457165532;-0.032066370670089536232 -0.063262480958367742212 0.22657074404053764716 0.20841340736467509065 -0.20460778323753356367 -0.020958400193100291259 0.059766392363496498308 0.081539003242781599168 0.147723812208029881 -0.036639840903610818024 0.093066127187423505762 -0.094768985917462064683 -0.15326611193324696236 -0.024067381312451972819 -0.49376327733350061644 0.03541156021805064863 0.29457818073237868051 0.0087199009723523054904 0.26557504277713223084 -0.13618350778618365515];

% Layer 3
b3 = [-0.21787919806624655994;-0.039112898437155638187];
LW3_2 = [-0.81910236656308244019 0.059943849811169548636 0.41893651637538292798 -0.028837341686934882951 1.2838636818754702862 -0.45322029609285263696 0.74614577802638881732 0.74864464134526187422;-0.81098416710791743078 0.51427086359471674282 0.26727287796812454479 -0.17655635195779806335 1.0271262743323072986 -0.32151012885358698501 0.64670116816032208185 0.98751622643490777342];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
