function [y1] = NN57(x1)
%NN57 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN57(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99830035367622;1.99914942741336;1.99957860586345;1.99935405927564;1.99818940875155;1.99931039504146;2;1.99872999175595;1.99805716007321;1.99943488076784;1.99811328403653;1.99823125428027;1.99934908028201];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.027236211592637168261;0.14573313183602776277;-0.41291309966244676977;-0.45294226970096007623;-0.12811606540977554802;0.33414097386644248111;0.12902038979456961765;-0.079438299619348298752;0.76277655403757671504;1.1163324296148602333;-0.104002534406204869;0.13774916135307038734;0.16822788042936676067;0.25404629750544877043;-0.11977519008962880798;-1.2055668816145457267;-0.56302692856489466866;0.26767521498000457214;0.22915480435883253674;-0.46137875737170164214];
IW1_1 = [-0.5985733831709524333 -0.0044111118273967072495 0.16736338071628215074 0.14561382079004125956 -0.33896519519202605863 -0.053442416527402974991 0.31577339741632676207 0.048108361741152398661 0.034246814120312711605 -0.0087921506559783257906 0.024678473532225946724 0.00038999982960355558843 -0.00097781288402737278481;-0.26860547421773095511 -0.12558284528464311314 0.033288264548439416846 -0.018691976974019509916 -0.059836629602953696205 -0.028702550084478951897 0.29110096648632760585 0.22817023829830088144 -0.034673902719515002635 -0.25844807776213452044 0.082194104076290325223 -0.11333199816231667723 0.021662740237812366795;-0.050144229207675888871 -0.66966386491366325373 0.015037678474769382297 -0.44600676673117434223 0.51245354541857790487 0.69944216258931080077 -1.0738841249332502503 -0.90306692414363520793 -0.034398158312136828396 1.2006825491953754259 -0.26970873452624649635 -0.11136068591443162856 0.024651476707328284776;-0.32191838459806482176 0.59164346782521359813 -0.22532465689215824822 0.22406517435342668265 -0.26329312279038630251 0.042779562585558220111 -0.37708663642000816996 -0.1552082933784990626 -0.15676823372605036555 0.80350532588209933049 0.22689010455865821214 0.11687393756796961297 0.043837544853990335902;0.031846113633403123899 0.33401403236815724318 -0.044706423515389351331 0.1683880588651382737 -0.57362960225406078862 -0.090667536257205333383 0.69059749118704649717 -0.023442676060859878734 0.098675620618115134075 -0.085681105864933423955 0.13332430839218958885 0.046723574957966161614 0.040643823907934216455;-0.21448189313617804785 -0.042626380670640465209 -0.13298374496224671382 -0.0042567283065071803011 0.39378209901149358041 0.10141011090187740384 -0.638990739494772364 -0.044162096803662606592 0.0092752438513959249711 0.24232363657106459343 -0.037425522107142464301 0.073850249378465473993 -0.020930158858976845304;0.27420631834276826266 0.12917345101537025531 0.2091354485948273001 0.12543650483602819534 0.071172585698099755103 -0.27961181537028390043 0.01387277476390898559 0.29171183668720951365 -0.5320696243650085977 -0.42158914085583976128 0.19182079513932576154 0.32036167349559252493 -0.15917108957099379563;-0.83637482168316334974 -0.3264989174919347148 0.67438227774551751104 0.17133034158968710181 -0.18600986293690696671 0.65285601612385735226 0.12114076817583696588 0.26200059650069190686 -0.17373084264926907938 0.2176182579381656379 -0.29860788556973349994 -0.56816878117692715122 -0.43319413958454444646;-0.58688824060264777049 0.5872986282885442888 1.3569009918005612292 -1.4787222264769184221 -0.33108902950075652649 -0.3586063161118769882 0.72995535751892881571 -0.2522013340020921035 0.02821625208593722331 -0.24460231357359596416 0.43707933892655947972 0.040118714202979771644 -0.018599154881874788159;1.431821076234264023 0.5617413586461653674 -1.2381495309938319593 0.33300154772369433553 0.13021037499004942117 -0.20107318905122428809 0.53504050761229160482 -1.1542831656161152143 0.15794266157215400281 -0.56842182149409081759 0.6676910881314853663 0.015439331650784414787 0.0065824433347525012142;-0.1557477307063907801 -0.34882563127809768089 -0.85476788379821799779 1.2751760031415275698 0.036967894032890136202 0.12191077365452568371 0.17827371181211690288 -0.52131493507560922041 -0.044520607187515798264 0.15588308907788067659 -0.20726790705731157338 -0.029657208671065474898 -7.2280752020237429333e-05;0.42181431977733735428 0.67271821768766426608 -0.69914709819766285293 0.37100226260453722515 -0.11257458726586548614 -0.38414930623921877961 0.22378939721489851666 1.9022334242527123571 -0.0095461433537761333779 -0.037046976001488741981 0.12445089425753592949 0.032325934164688943651 -0.034905624395277209948;0.1771941166673256518 0.76735407633892460666 0.70064278687746628371 -0.33660963935222243393 -0.28835234218759053793 -1.0275109619746451983 -0.42700063122698195262 0.44775124417651723796 -0.17433003679198624813 -0.30505737878663707896 0.49721398831262325624 0.038871479334965278185 0.19748922460576742721;-0.26592421448484721003 0.23142734083103938536 0.65295699148820429691 -0.012397065502450005728 -0.088084208126132323979 -0.42225068410313187917 0.32224268339305639497 0.69243214863778568269 0.059806570896513734648 -0.83386521494250531727 0.28245275886343135241 0.043938223522454557257 -0.011173021412941751968;-1.4167475452339233222 0.3399883180382727299 0.32015834643083823652 1.8118305558043563686 -0.032915101063769290624 -0.17020497978718412968 0.2273313815409425398 0.4982633233513004134 0.076514773959022633343 -0.22540976675298968201 0.63083882825428849728 0.14265975153823068355 0.0032919941059716736204;-0.31467586766215954741 -0.44500638445030088475 0.68248152688350127715 -0.60608893761445603587 0.75034354558013538483 0.39932605314719110678 -0.70545352884619938472 1.2399277801188568482 0.26121540478137850183 0.50682056020740495761 0.15877445717054614049 0.05408484119537427387 0.10819526708837970408;-0.52318765774548281478 0.39785420379761848864 0.18040446182168373701 -0.29799375884209511334 -0.20994034290227872597 0.13503964917698557668 -0.182933186695554445 -0.42904015330659628358 0.036227981036627776579 0.24585861444416554078 -0.71016273047795419604 0.13232619688520674828 -0.021974720123086127765;0.36811613982472146667 -0.56432259889748759285 -0.45730797879839624187 -0.064638072812384775312 0.30905145120425220329 0.061138416390646904697 -0.2428087839325199504 0.021610945021299503288 -0.28566532754721346565 0.17687758959586269425 -0.43496241684958097951 -0.087192593111413863038 0.0041937534999657239201;0.13291618875450278425 -0.0081802124311819279096 0.041207450314673828295 -0.5911032247432268516 0.17866403419781312634 0.16822948907235935057 0.093848192192876433992 -0.33242335466629469032 -0.043050780736599958409 0.14724120859805581163 0.13300432611906462532 0.072420953732059811792 0.091349217332633028676;-0.50049302429610709186 -0.19964313622579815677 0.046999475975224441759 -0.21573497206775904544 0.64126107490637396236 -0.049103997687852361798 0.13683647338489521306 -0.69452499567145598025 0.10063073222558117925 -0.66412845260610020581 -0.060206022460189849432 -0.046216314891132669052 0.078615203011157416824];

% Layer 2
b2 = [-0.3617047010726317513;-0.19353071800542284708;0.017630331154817178996;-0.11088723233922093137;-0.17898603203630833458;0.022932444506308116705;1.2005257080945805903;0.095462156087534208448];
LW2_1 = [0.15878206254393956165 -0.43503867640553611773 -1.3450864306737577714 -0.080531662692294170292 0.53339693165826373988 -0.22142711218660005024 -0.26553310120733120137 0.2413227123055024792 0.62101944531470754107 -0.17463722127502651071 0.13385347162800145804 -0.0056117778945832669235 -0.051809170991717563848 -0.1268229751187774923 -0.55454075738647246041 -0.65103495627573870763 0.52815028978368161461 -0.67994170211870308407 0.19810453674213757136 -0.020433717758652075736;0.14624130085397088474 -0.30357158839456699351 -0.12072369737164824477 0.13083514345426017211 0.040205914741112833144 0.029140284841823363426 -0.0051214646177682654135 -0.24530896353522596565 -0.56838688442310547622 0.6721062911291134645 -0.055607549238882350573 -0.020276985604556665987 -0.14016179695099001412 -0.19240833724971689866 -0.24176723089399895783 -0.36092068568459578781 -0.44629960618715386333 0.2625966748758095104 -0.27216937815208847029 -0.10675895248857535103;-0.37094073418259693176 -0.50212462213175057535 -0.10457189499849905978 -0.067009873422889970618 0.26951510926672772595 -0.42007384316060408791 -0.06320748389351296681 0.084372585118306864249 0.53762429412588719213 -0.23523474191003701517 -0.15144907103558438721 -0.11553302599736642309 -0.13554704353785537729 0.40751717831371397915 -0.23316263416645197082 -0.089672085425646724799 0.40054969336971812943 -0.03168289613484755185 0.078815575650342986624 0.014111894019964779656;-0.33497766116310301321 0.17242220010188755164 -0.033954542436728664401 -0.36864487973417842115 0.061619630768141954447 -0.17865651191153134048 -0.051496162982009291431 0.090316394083142292892 0.14388155313058542673 -0.21427418880693993586 0.087562947746650396375 -0.17002896769046696446 0.10549251301236245437 -0.030186556366595250489 0.082516565450109560786 0.37260501840170789922 0.0082961522943327536961 0.1025957400024495314 0.02205874557255374166 -0.06643693710601303315;0.20669681331230893573 0.11961197902315770514 -0.20741206575418646985 -0.20045443729430059698 -0.063715770585333258991 0.12877680170060434861 -0.022887581546715506792 -0.12738866755285727095 0.27406003570714770889 0.37354690495576869935 0.056934835625882238008 -0.22298975374925472659 -0.083993490794165764912 -0.091932319099944523333 0.081288314853636911561 0.08247734294329799043 0.10369781355832355385 0.028534418132147482822 0.084064415234870862315 -0.031898371726763422029;0.48152576148449710569 -0.14314508296091665862 0.013526447654364110243 -0.095501645234632739911 -0.37286293314308427416 -0.20631337690670831231 -0.020199625426443844345 0.060637904875866288634 0.17698847399704747962 -0.24860236620072115321 -0.10832380095007475285 0.0036943621604256828006 0.035446852675320363046 0.0062774904573512022021 0.092119874981908392297 0.10508080052698663687 0.089049742095348258242 -0.035815827088213555984 0.15367370181198466983 0.027415782290718598152;-0.23907757742539614831 0.40996002511961671111 -0.29698816202032252143 1.1325057986792550491 0.011291889456203497988 0.92105887203730096857 -0.28960881930797105488 -0.54604479663399496658 -1.8254772087453075002 1.8085301825765200956 1.3321960310492717561 2.1532584049134770865 -0.67283692623688740042 0.79721459814287765067 -1.3667732798143452655 -1.5169104954085466108 -0.61404034626808734476 -0.17642587199917400542 -0.35754610523601237926 -0.87251836977170915688;-0.28590518216451210609 -0.1372099070491308026 0.086287707596465729187 0.050917221450421185081 0.36831952855917199363 -0.072219962714137594939 0.12997129297016984939 -0.0017396089277462271905 0.34007103923803522205 0.051982715488928341041 0.39162315825797572311 0.06141528392507619033 0.11704520440237103918 -0.021744178464469160472 0.28394867114224692228 0.25153293177321139895 -0.16948816276210834642 -0.11820457007570563113 -0.21998888210410627586 0.06366969814610369538];

% Layer 3
b3 = [-0.59908799634583642657;-0.55510572323158047237];
LW3_2 = [-0.17403280156109171561 0.18141221473642157869 0.71931386651990869563 0.57114143684620821695 -0.61148966222375067403 -1.1518232918560853406 1.0370438433970439185 0.57083094057305860947;-0.14262280481533876064 0.60016144272995253228 0.72435082078909707182 0.65000522691909701223 -0.60093505989904816289 -0.15813368378408412807 1.1113177250067747259 0.63987568176704112677];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
