function [y1] = NN66(x1)
%NN66 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN66(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99871341679792;1.99851539928559;1.99979849184395;1.99800217256818;1.99835789880392;1.99923639328763;2;1.9986659142095;1.99836178830608;1.99800656377271;1.99835348235796;1.99944874455051;1.99861737982662];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.28604089738795618336;-0.62680374522794690684;1.1179391528753177543;0.11551212703534155524;0.13985681513309516921;-0.020881096667152734131;0.945161293920193879;-0.82004795830167109827;0.29873613871968590638;0.20897157347985423348;-0.037494642518802821785;-0.18496461905864922115;-0.48984658259010210868;-0.073264276094992225596;1.4163973207022999556;0.73734759646059644389;0.32722464167025405724;-0.67957017866170321696;-0.0088061950888361929107;-0.66234939862619224282];
IW1_1 = [0.18027806677844399053 -0.056538955912002579474 -0.03453072129130340534 0.085762205679793812596 -0.16354909762394043149 0.36449472912873198682 -0.304431065834433634 -0.4137408366955669381 0.22083958980998513733 0.81653117078739323453 -0.13541080556819015679 -0.075800224361783005711 0.13084868026900853266;-0.18706534278596026466 -0.26617798447568569165 -0.41187239120011176485 -0.47823431687458523021 0.06145518250187587822 -0.11544930471817016482 0.39464191626004396785 -0.62164591020032122781 0.15084517116286100258 -0.58307972133929741876 -0.28296646288232563116 -0.16178991597014757975 -0.12649017256806013854;1.6856049661110561466 0.39122518421354357532 -2.3899404138859892122 1.1156139824751558631 -0.15690376828669788667 -0.29325408667342034441 0.40365096584501847232 -0.63965516854649318024 0.0013112148336166433785 -0.40390683691328554961 0.29408070670373770428 0.1050722186990498408 0.06077146412184192964;0.34301020252360830964 0.72540517623631350919 0.23409291747533766959 -0.75511599470384216382 -0.69421870892899106842 -0.28117531507653553691 1.045464135195160793 -0.67322507556029953513 0.12486701137021462282 -0.59105051006881903497 0.1942592809427371725 -0.0069488175438474335949 -0.090686650829231066351;0.14553105900085697155 0.018617746364822117949 0.19885454964220539154 -0.37148681569080255205 -0.46689498993626160628 0.061258822104585435031 0.70582250025199599897 0.075502501951733733132 -0.0018120955340532273175 -0.18235291255184724046 -0.016351148235203769032 0.0027537367664040492826 0.0013156560380261808456;-0.81863485237470090539 0.24614007564614026613 0.83806916348325799504 -0.35169384642548556785 -0.088372161374944580015 -0.059884848461529395502 0.22606282892034793019 -0.017643937154822188218 -0.0099704191098848593544 -0.076038601246540993284 -0.11640643698886196655 0.037363540207441411911 -0.011631888776418585624;0.60419967194191126492 1.1758678780342350922 -1.0183960766429251965 0.79936495349573111202 -0.99137085186532669656 -0.69890777970880502146 1.4855669343950719252 -0.69596646209034351838 0.16001721899257947967 -1.1636839285130946564 0.012354216793040091391 0.025311157282383280748 -0.10206495340721732923;-0.47308913448819744918 -1.0007671847908046203 -0.12457115002965093997 0.26511917255793904236 0.46540686381682483397 0.39659400222536783653 -0.35901426146723414146 0.16730038700678859231 -0.072903971684178794921 0.53545882793113752651 -0.042936807029286989945 0.29565630774270629244 0.031646097427375688427;-0.00089840459156323524553 0.058205562456178985831 -0.30189939435682633384 -0.3859364788607154706 0.12820527347436808108 -0.091006485887019220038 0.40327731797060839547 -0.47354088563375834608 -0.068203618428058207512 0.28093443378814142442 0.14591028862619156992 0.2096203644465589877 -0.11055242996398459421;-0.068834602762393448661 0.17686949846461225144 0.16846649333108240643 -0.00022515382409490219962 -0.05739263162940311247 -0.42091126190968575216 0.081527860067944657452 1.4991925797365823758 -0.11913212584750350331 0.15557809596438090805 0.11858285927022747808 -0.0065955000872829089992 -0.17404916727142041855;1.2457217599028056476 -0.1371674298346156895 -0.17584255027778822322 -1.5391983989514261832 -0.0593578896387901081 0.15175097927030778422 -0.130303804369871018 -0.24597166529162001192 -0.082339213554385656813 0.38256926646292094274 -0.62564552573195464369 -0.17086075079698806456 0.052108895580237860057;0.25223027640895107071 0.20932486844711600815 0.32300534369873962204 -0.45606060710856677343 -0.25666013007707466631 -0.0510509070624587738 0.35744234784676026662 -0.034904432242873449643 -0.0018694866861542949049 -0.084159166786894640255 0.0054423572228304460327 0.019444784716453677315 -0.0090150118118614754742;0.80238553105059562398 -0.44258445496671838804 -0.54573517982341090971 0.19786043729485033871 0.65545016759475283052 0.71629913243466036832 -0.16905203636859345018 0.24069111165777082317 0.3070404797251121698 0.14743404840363083519 -0.2460032321450711934 0.065945280152761409642 0.11659371089967475454;-0.44420943431829124082 -0.3524770293798158427 -0.141834308310621382 0.40880992587889597445 -0.34637158322630823282 -0.58607844600153990999 0.27833947694885624591 0.060007391331265237666 -0.044596508612247703907 -0.26591050860884068996 -0.02718913176067620785 -0.027703871955157798046 -0.093250057859642507263;0.15471092964252811108 0.1835048094486046999 0.11130945068345322879 0.33427510573167740215 -0.14859379264496064277 -0.017637001688607635563 0.541010279961641527 -0.36690182162314866066 0.12341162182938124336 -0.33074753291078007322 -0.16286290686527432614 0.063860579007238599258 -0.024437151763491680306;0.45022783481519351723 -0.16279943915467812166 -0.83116376403789515859 0.50406450498711175001 0.18546849702243736746 0.064555438516422078421 -0.37756441642161164829 -1.7594763846599652535 0.063310508054048073023 0.35695701745275820738 0.085305680463844721362 -0.021446831685411425067 0.0025583278853904892203;0.38745943155884376985 0.046097851092762001657 0.62781435142402119975 -1.3231088130169423867 0.16683044420601972346 -0.031340068877841811834 -0.31642267200719836895 0.046807579578193342362 0.027765430708530748627 0.064382500593994820837 0.20975882355432273751 0.021380622817526551832 0.02518868399371839914;1.071785185103360627 0.60342339248915832783 -1.0583403206311552402 -0.19102916453622259541 -0.5559807763288477922 0.053213793023648023328 0.13052983521704789038 -0.2033169169129143139 0.0062554588745869204452 0.6452211765970365942 -0.2928132609519209506 -0.050212676540919577717 -0.0030511944945347969221;-0.6040361530244013899 -0.69670963780013905886 0.23839798437989914714 -0.096410092948079409436 0.42528892232293830089 0.3186113926641239158 -0.25076795286152808728 -0.61255058124809991238 -0.051757014665248103624 0.24732525204390462537 -0.054604156777814973067 0.13330650385101378008 -0.061709628171822523968;-0.12715817135191767595 -1.0576352909996746821 0.64677539066967715264 -0.58661305525800877536 0.31810824246745483812 -0.042387100398423319114 -0.064628408694745759222 1.0138337113910336207 0.057408371102148643417 -0.24967101932274426979 -0.47779355658015498776 -0.091216217900867022084 0.017687995629215469418];

% Layer 2
b2 = [0.87568198653647510987;-0.24998214662264789387;0.0085855505751462231345;0.26678641583891915534;0.36035661189596795984;0.25536114674868853891;0.27814995036320550037;-0.22123064899958286289];
LW2_1 = [-0.50824455497143294913 -0.73385540156774686782 1.2986208877246681048 -0.36482400728018049563 0.27481318294541406955 -0.53133205244746539719 0.98537549911707678074 0.16833341529880438414 0.2213969154020458685 0.27950640411863225676 0.20207111098519975334 -0.13490136477097386392 0.59839005709495884933 -0.13177724642691054924 0.26200775917750207533 0.86326029171762697079 0.19272161306670182457 -0.091292110295019296418 -0.75953023167583522124 -0.40082431794485762211;-0.28319008893854008546 0.014407540680018636817 -0.036173293117971697108 0.11703585611421495061 0.036529891542800105309 0.26404878851320562339 0.046077367457720917743 -0.14104153225496907087 -0.026588741897618270449 0.28970906982395555618 -0.16490426970647298344 0.41567116729634279171 0.23108760078990742137 0.43314536659583580125 -0.038815529797280187707 -0.47254146954203979369 0.12523146984936492365 0.16536672458801252028 0.11258314642210726086 0.09965601183400984997;0.18738626415346529286 -0.088822206869812306285 -0.56453842146183241812 0.13350687068445821204 -0.55006065903210166201 -0.053581442378319583952 0.16692284399226334224 0.42167241502980973289 -0.12069908596833295311 0.28495612665517155992 -0.1413004809314565291 0.46615032514346338433 -0.25424285328667495243 -0.26438831244116778318 -0.20320630754594481981 -0.017920677178974844801 -0.10576433335010362868 0.16060270000289705861 -0.26642637446289502146 0.22650006239765604898;0.36943186504481057009 -0.93010481702810121618 2.1605537762647082367 1.4423057918439998737 -0.71476983331741705818 -0.85060856928409400712 0.11890294470170326147 -0.55453747929097074731 -0.22193184797957563048 1.4056476673848317116 1.3823505364878727608 -0.31301256965660478881 0.81074708762673886042 0.70615703350385639059 0.46803891109262169001 -0.77421737459176720453 -0.96812976622367763468 -1.0319990952750071056 1.1832749473864090373 -1.2153488769644591461;-0.1226361954223966072 -0.083964438709681829542 -0.13164676889295448547 -0.27263988641408037905 -0.3597271707573757582 -0.3656549611530277577 0.76847322405181106575 -0.14086959797289952401 -0.0084567647288737637229 0.087478118803661950031 -0.29337697618911467989 0.4985709722565195845 0.1916195885386747233 -0.36365154319796005877 -0.79966531267884877199 0.012817243748557026126 0.10186086997013882316 0.10082649806363999656 0.36680202543536771786 0.39525752598498564705;-0.26749334346639408455 0.0057561397535521819854 -0.285896709808981353 -0.092201738253937459699 0.11464177414152404433 0.13738230494544673155 0.34828862088732670532 -0.068891012012527619301 -0.14407331135276993384 -0.076592544344514401633 -0.28798123295312927361 -0.70353358906720486754 0.13946820272924939643 -0.16006510560739548032 -0.65643682993867913389 0.27439751886728586117 0.51405233754742429841 0.14112408504062776138 0.29297352257817854682 0.27867230525134156771;0.014749814476596304069 0.061167473752639554829 -0.15121210885537694768 0.375943627848077222 -0.13910140772528206687 0.62036152265538890838 -0.41325530100800433875 0.041976314344600182404 -0.080446947263247622906 -0.10565978004264951762 -0.043571906385398907757 -0.7144911705616253661 -0.15315658101416634862 -0.006209368171437312095 0.12721077284233603399 -0.33540096333465385658 0.11086766258250393968 0.17542375033350032787 -0.047999478115647566112 -0.15357348506169218871;0.15923781328356681475 -0.077503036869455907421 -0.16719244619211520719 -0.22164911267860454291 0.27857112352857726911 0.03830901222878886625 0.96052664755383398987 0.063750675001513879003 0.17332586337469146898 0.40899528473916174631 -0.10916812202844231039 -0.69106542170825224769 0.062428951160393528208 -0.16815461005218207413 -0.56308942689818741734 -0.26523443460604634314 0.23169799521450201718 0.078287470512232226749 0.056707011434856201271 0.26297984036080623849];

% Layer 3
b3 = [0.19922150572190538975;0.31607602918565286254];
LW3_2 = [-1.2392481606374610159 0.29868079233561339869 0.44214109640553989067 1.6166396168076675455 1.078655911516750443 -0.95526629576033750268 -0.27923181633696836368 -0.86775244151318087216;-1.1757871073599654999 0.36771308618190567952 0.56089097862504389003 1.6120695763606709416 0.6683247521848252326 -0.66025957498434884041 -0.53162120556751568667 -0.75374952533530414911];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
