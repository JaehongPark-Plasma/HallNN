function [y1] = NN8(x1)
%NN8 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN8(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99822400304759;1.99888716645288;1.99987145810518;1.99801672027681;2;1.99869138332079;1.99828396759434;1.99817429899772;1.99845402572596;1.99819545665925;1.99817786065957;1.99885760825665];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.021234021445090497937;0.71933348187749412972;-0.70400179001404750156;-0.52439971930550255408;0.34717326022170025279;-0.23036791593747460438;-0.042494923983533793022;0.34235278204423269521;0.056236828987785827949;-0.72818569759194318181;0.065973992605053821681;-2.079017346145257239;-0.081618756933977576473;-0.30880156716973428122;0.35276886173254917711;0.59882159391408107396;0.5055605814945837162;0.51832878352752553841;0.073436854427800998812;-0.28034521103369192119];
IW1_1 = [0.36764634370325965929 -0.061008073667959517028 -0.18610962663851982057 -0.43878161073455118624 0.56814383030526349749 0.33727213486555640554 -0.46665495201054635332 -0.20734448034805683103 -0.049339055775268800264 0.18410280745803553337 0.073863746203573846238 0.016941901962278287097 0.05006811758458250966;-0.75903485852146934665 0.46170446209422932871 0.6169063448757294843 -0.61662324536499146799 -0.38740534656286990112 0.10180175933208261696 0.90135538401763115601 0.34818447336219365829 0.27433047146570183061 -0.26687679231516059364 -0.19792927004576491012 -0.018088260173970908962 0.11844535612634919663;-0.095909936181965901869 -1.0641050815253696449 -0.6855484884914901933 -0.049153904054080516106 0.38603812006422388858 0.66901092104235437841 -0.60135636222630528547 -0.37857252590344653287 0.081177012201641099431 0.27045116581429207159 -0.54463975260878483287 -0.16973206429305398579 -0.19382460491863498508;-0.29940984826125155438 -0.063161871537551428357 -0.23868074444931300371 -0.18379431596684592254 0.40929833813261345954 0.57592794310937744928 0.19385319275792681215 -0.61021667319371686311 0.11132351982672941682 -0.1672146891988110784 -0.22962627611681063478 -0.051679387487009918745 0.14208981540641607566;0.26155051007340052172 -0.2492601797158804644 -0.026281588888015253169 0.20359569621760387204 0.079353341467191293446 0.12515700460411077755 0.25518921000872962779 0.24630583823464941018 0.019534007564023455478 0.19332585722248260551 0.058698905057994757439 -0.08372764986145986299 0.002517838229870274832;-0.17771371027317706126 -0.16883491901549282921 0.10369429778324852631 -0.37033356001305883787 0.011438993776818534576 -0.45708392610547116108 0.67579741362533929383 -0.67505299284303599272 0.20579049815572833526 -0.83003945087302488659 0.18020384569417211007 -0.20490396244473024767 0.062671487979147469383;0.0029817116726161656259 0.088878404470234539936 -0.24514257137795633645 -0.19936387848473116624 -0.044757219027760954122 -0.25658659781032505665 0.15940741523303253446 -0.077367755485774972191 -0.027650544697629265978 0.12161364839687334449 -0.17084858526577106907 0.0046377946481375737636 -0.068330326191948856374;0.26898233259480502921 0.74696875162572473617 -1.0684731693362028437 0.62982517211467892171 -0.65261165188205538801 -0.62673232543047352472 1.3731706144337139097 -0.42767016732270007884 0.005211670136334470467 -0.78748743364327455918 0.36503559871585783414 -0.13752630816306737893 -0.11681240572229317776;-0.5737969685660669894 -0.099430257871915575518 0.32942294399955351913 0.0027023834193746062646 0.09885100948328671977 0.10603456434742637715 -0.18576594098135040811 0.67642499713172132836 0.032754378851555493446 -0.023867009571978285709 -0.19120758637309151484 0.0022868209400863192919 0.023513225271162646601;-0.57067872272305097958 -0.49387604041695382096 0.5728142413856266435 -0.37904647077844555447 -0.58569913728598432812 0.1590984094413027683 -0.06606101052214993774 0.53363137922335546204 -0.27662978368040436195 0.34872856462162138413 -0.22501869414154171412 -0.08101121139715240782 -0.1902320158439135267;-0.3980138385191328565 -0.1004574266692111334 0.042516356172174071815 0.043999847256457870481 -0.15875940475234290306 0.0062698308628670084211 0.16073971200357867195 -0.073969550319668411764 0.00045756341347688805985 0.099445751759134420888 0.19235355758664773873 -0.03665598815857808862 0.0033989531648656616178;-0.017711698137677398673 0.91560820828214251055 0.32905771879704109883 -0.3956884573213380607 -0.50563527384671980158 -0.62407943826094280926 1.1619365674450639059 2.3599465463798781073 0.014442064776823193561 -0.67936551054076577127 -0.12774962651178720097 -0.051461090517686818024 -0.010987229154978253587;1.7401405339223388058 0.36631768085263388679 -0.24618730280948616929 -1.8245972193253066074 0.036996107491250790344 -0.1145130936283440537 0.27580603888724536388 -0.22337940414833357128 0.0087168239842649319904 -0.28855714820331662684 0.10805162152016242749 0.017410221490885596091 0.023178166030881033888;-0.59188348767207665801 -0.19811109099471760353 0.19660713615521285824 0.10437953935031966946 0.044780058230323188662 0.39169815541538960391 0.17030288586702202469 0.21773077188308603835 0.071013306059715869401 0.67974642555820830037 -0.057638030290701081082 -0.28363180852885411243 -0.013611446913768544473;0.36390293083044139566 -0.25946867467632539483 -0.42968812321604560323 0.024729169923070688092 0.30573738323940014006 -0.27999382226357227843 0.68321552574348898279 0.030315565569054160611 0.15422502073717650473 -0.90524841392336030665 0.39331954453324274867 -0.039031669010157553357 0.10998206307608250631;-0.10708371172778136104 0.89453471173243126469 -0.14014469537256235565 0.61161417603261336584 -1.0797274386671915636 -0.53755531547024026917 1.1578065578765361909 -0.41764392048857412743 0.045343213494342171632 -0.67226847745685947011 -0.04265521390611390351 -0.01550228805942373278 -0.13640176190446967608;0.078375961898504792336 0.28117546260625897458 0.16762246943199365923 -0.8207426462349987073 -0.45789384840313562819 -0.54455723651604059921 -0.31190367934122359417 -0.03921161149425670539 -0.041963673907495190052 -0.15104560077110718019 0.083793551129774712649 0.010384663476732934953 0.0017065973888770406136;-0.15706881602204972315 0.19213249365225212872 -0.37839077186583647272 0.32909682509735954659 -0.47246558650621528486 0.037597777507120830331 0.080075126247225333898 0.10796187518489566703 0.015469249833926742785 0.41082472729632074637 0.34438214479801626533 -0.10280523956488113457 -0.018851829496437020467;-0.62241953639714386881 -0.029124545477861196741 0.27699618744874471288 -0.83701658572823589566 0.39813330607549574092 -0.21623314538119453587 -0.47206741485860947982 0.098529385228640173344 -0.17024185386851675705 0.29290473806571676318 -0.35735130938802966982 -0.23127771146499237487 0.64369986123050337845;-0.42914131176082997987 -0.31575006142058026359 1.621384850786216747 -0.65649966719409913463 0.048259916080404523242 0.15198830682179709228 0.047783434161766599746 -0.31966135173863396979 0.10505458725119477814 -0.09690885575179689071 0.40550781160555876559 0.088916558217007043985 -0.3753178360954180226];

% Layer 2
b2 = [-0.098053679133830382031;-0.050908577734055479591;-1.0081063226873085981;-0.1835483710757767617;0.052869413142403967609;-0.19988763972731937724;-0.19500180859482837969;-0.013275119257358986707];
LW2_1 = [-0.18707242779565885771 0.0074808442092817494309 -0.31397062127815039689 0.26635247987997817676 0.1987021607012407487 0.0038019968727425017263 -0.10927641381555038003 0.18514599961563851793 -0.3323714718749776198 0.1062970299655724149 0.025935511503913787068 0.2960200835450781387 0.051842601285150655133 -0.17789788595463926213 -0.21517169202134378558 0.03150775671452475668 0.0043643066890276509956 0.23946469083801394384 -0.11238919509097654303 -0.073824408111196532234;-0.210827391662311181 0.18828369353729632052 0.27831424894878231679 -0.10555253875936232433 -0.077324700793179670932 -0.23223229700155348376 -0.14656018349538721401 -0.18239951866913178824 -0.27849694529724727809 -0.037966342570560092373 -0.68521004999168266814 -0.16054401678441401757 0.078271639353975464015 -0.16879255830162781526 0.07291311072456772846 -0.39812739743323638519 -0.05459770087916986786 0.21622016852385586572 -0.050390166447814660478 -0.10223024148060698424;0.68366580103160701221 0.9192945932583431734 -0.88107004990131432276 1.0450579199100360483 -0.57150394635188417336 1.4229828981601757576 0.34112714803025162569 -1.9894463405416293877 -0.36338985925110223185 1.2563898019708814591 -0.08028021952170469322 1.8991894494292278495 -1.7054958298927855864 0.59068307975784350994 0.14306607861162681794 -0.60735723681468656299 0.80000084396424642197 -0.75131204653081828937 0.77999427721332947883 1.8118543132140436658;0.19179054276048634886 -0.12650464690164719972 0.13528275715122770051 -0.096698142141340093225 0.075305108185024727252 0.15923399961046505457 0.13162817407897692279 0.048074639383531007908 -0.14813047747223084816 -0.14121548718342138984 -0.15438527038749685905 0.020705940673681484665 -0.056532895108368862169 -0.013201365578255051109 0.14851569884884566197 0.26416480229248912037 -0.10417980922150679723 -0.083118160970891558081 0.041443817332640062179 -0.018177848761273061873;-0.20796449039022968375 -0.21785558888552195023 0.15558592652752653573 -0.098451052127377078338 0.22087466701681507386 -0.3256540277882645773 -0.014305225720545025961 0.54980460828381394478 0.38827941821897493657 -0.19882890306320871732 -0.36722031741429528306 -0.58928968230540224038 0.23051696416729425265 0.14039199545879160747 0.12931574794019992658 0.28390522632160758443 0.030998192908384007704 0.12158738527352450087 -0.062655007361821710155 -0.20049173465396338822;-0.1508381694580211152 -0.096839659353620446969 -0.13358473540038853788 0.069545714620077941914 0.23601494812613307839 0.087867996671590578583 -0.03462262949285646596 -0.30637096234983035581 -0.12077849868973231096 0.2789636050494866959 -0.081748113056928792264 -0.021583851549298489758 0.087325892141823652226 0.25665492948956386554 0.28125462773479270595 0.21017550293045056398 -0.27252253539089660306 -0.21657787691597654711 -0.094347656614085867455 -0.16115586440344109587;-0.065713415531816143922 0.054038877158789667965 -0.13059935927761989749 -0.20983435898145985643 -0.014513417538165620385 0.17910586574660267156 -0.3175514585929929412 0.091595588146621498282 0.076425367665232529779 -0.12364561527691941833 -0.46049764781026830684 0.17001728777144559102 -0.17637939681702977102 0.26200099408263166634 -0.45078705291774717745 -0.51472737319074102214 0.2778226330623392859 0.0049731018738890398617 0.32732139382449670917 0.49725631660412217272;0.23267804601611605242 0.11807999209889041836 -0.18022834300661713658 0.05112816071131050244 -0.18964915681711391748 -0.0084327222295594063406 -0.067894583121651724822 -0.18018635874817617859 0.30893301145479601377 0.12121059570761563706 0.32299363921339624417 0.095743007277221667262 -0.073780261421451928672 0.15817008584384192882 -0.13012615735123980731 -0.097078142859034252665 0.032436346117254405419 -0.022777263886797530223 0.05022917013137929293 0.13353695961076378351];

% Layer 3
b3 = [-0.7351535982204783215;-0.68512090712373330259];
LW3_2 = [0.97447964169828171777 0.8808805512217262601 -1.2287395888275940425 0.52815652383737665687 0.52143488528100601087 0.60838522323839405725 0.59758797419702402998 -0.14682938327365405162;0.62004694080286049118 0.57084467229181934389 -1.2797833327166705519 -0.14499337574572959686 0.16500903234627489757 0.67790723549924791769 0.55968933863299463738 -0.75940368293185755988];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
