function [y1] = NN84(x1)
%NN84 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN84(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.9989344411589;1.99975625661867;1.99988464284636;1.99800332678752;1.99929287234799;2;1.99824515101827;1.99887755005869;1.99800710095599;1.99821357469349;1.99941217025706;1.99914349615163];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.28237495711938864762;0.11070164147608332894;0.083464954721348336153;-0.60556023591767227376;0.17400939430390960361;0.64457580837793981843;-0.32242331831132864384;0.27194729615850199433;0.2615056748043629864;-0.67039561499195587935;0.20362611620590184702;0.35920913314478203349;-0.44722791005587464452;-0.0033168188935040806425;-0.23048958051220955201;0.70847878158884780575;0.9247211279576891263;-0.21406515966111613891;-0.07977696661433805736;0.020302984601022401601];
IW1_1 = [0.26011770141258278022 0.50878304096039650428 -0.47226516386966915784 0.27888192777339310124 -0.24792025709335815953 -0.42469979943143926215 0.31658017381946113034 1.7394568215035102199 -0.055228973937314643217 -0.30043521711119514084 0.25496516079627296048 -0.00032015298703756011776 -0.10311713213046455606;-0.37390216953769678243 0.11529006127184003583 0.13700777382157131035 -0.12857210045601771831 -0.43185607292537558921 -0.060997350357463099579 0.6143348826087987602 -0.19340491543004817432 -0.10350741964101350945 -0.034101735361964549686 0.19904747302880557158 -0.017014310905820281133 -0.019283627392619143159;0.17876841029272724781 0.17414157936544416572 0.21452770459701930861 -0.20732899865951584517 -0.11844994637012067062 0.078211612247749265348 0.23117920089418947382 -0.2016875674693797138 0.02748713506813970503 0.072409477822848733464 0.32344995949237598243 0.038340700862954872619 0.02580357396662839517;-0.097778778539204497244 -0.59299625992446081124 0.81097451680595267209 -0.57292332666358247728 0.46348215176252394176 -0.13475933786665142411 0.35061134561075368854 0.38724154742738625679 0.11966710172278420543 -0.679993152402445733 -0.098571217485288020743 0.00015367555183821730164 0.0423989050451709093;0.22321600617896575347 -0.12716490215198947289 -0.33032739901314811526 0.37580738394735913044 -0.096822112283637684627 -0.041563112421205437863 0.24871067052864057056 -0.31284954282372956502 0.093404740443229022917 0.013659656495017085537 0.12656378360031328434 0.04589021937499528081 0.039651938375757291022;-0.14580675640576237773 1.4337050339988701708 -0.2434788931869710793 0.43060900431551901724 -0.62580058652615877524 -0.10189835608869038386 0.077611993105585197483 -0.88947369405224041561 -0.093415352900623138677 0.46691294056447957272 0.0051677542448697339622 0.020484414208873206326 -0.0076168064826651251525;0.18197327093869697379 -0.04592355926549812617 0.031371613092809218226 -0.086143859799644825759 -0.052338760025869054959 0.1588788393459462378 0.3206553006129100325 0.0031047075877628131993 0.010512233157859280502 -0.11487875530730957963 -0.069071743285173514693 -0.019102294959701737048 -0.010896793585268264512;-0.028926102068799124795 -0.0033077824891512988895 0.48117754904093190671 0.079544978013255024374 0.76593551668851100889 1.0312634398756139742 0.5155740245000642874 0.10351768155527453497 0.69829287323571820334 0.18577776352551869654 0.49951610977339738762 -0.069997998709718914356 0.028555796700572112085;-0.50131826414583191553 0.36646972119882886831 0.21610266735227837143 -0.51670152438257255234 0.10845355932394536158 -0.42560143978300246648 0.19619638733311314804 -0.42160391583776751778 -0.12329527990070865417 0.023360667930497132361 0.19533499907444598631 0.15133008250792862048 -0.32879598314948249582;0.12671324126547695021 0.56102676416530672387 0.41471342591398446809 -0.30640416182554353064 -0.14558777078279591666 -0.033583252622545849142 -0.21317123603653800878 0.11235635764850310236 -0.15071329194847638 0.37691069942863997255 0.10493938617978872119 0.022689833602318458528 0.030884251661828690527;2.1272673988756887198 0.26958496118719005308 -0.74580741448270992944 -1.5755837357014590427 -0.036490262385625013564 -0.15417263211078627294 0.27065021145225875987 -0.42012251451267385027 -0.0087519177957683467334 -0.12507955289458666526 0.12684350110207534557 -0.059045789406304553804 0.044783985324534140993;0.40281889973810236505 0.38444067406590781699 -0.49016011140476978269 0.40864808617651526834 -0.31296552285713791219 -0.10172783180682128112 0.15258314980565973462 0.97550569954455035315 -0.081774624959224273546 0.46682797617527360678 0.010415283123973145124 -0.026319267344428794869 0.020073294999421464196;-0.027887691487501690968 -1.0643381000411284987 -0.58404018624274522953 0.0052347241853863760164 0.4943746788927052549 0.58265319851182817423 -0.20785585026490630001 -0.55237240941292520269 0.15234063284113044667 0.083264735763999273011 -0.13861742888349462555 0.00059117314229905747885 -0.04022145434444834855;0.35135637400029623434 -0.60683266288848425329 0.28147590898380786539 -0.15946030176382902654 0.71194103450292034463 0.2743983614667870885 -0.97880064501631569573 0.44446231830945437391 0.012758177732212961156 0.19478377441952349214 0.40952905882575624252 0.27751146934472237238 0.22798594108221539867;0.061933451602207423292 0.44844350811173333549 0.60535339742611549152 -0.9728316940313124217 -0.36077567743490612795 -0.0384567302389421245 0.17840006813510067563 0.37277754649549965649 0.22848121309972571624 -0.047487549092499206638 0.18970045882369235279 -0.075755764705782421831 -0.016580816336867754135;-0.12075775787356587965 0.73369769264367845629 -0.23019355482863951279 0.46882899470838934608 -0.89314521640084365561 -0.55131589248076928733 1.2962499976269694635 -0.54397970179517074474 0.088981705816150724608 -0.98317241056964499446 0.1297091744326324958 0.11650701528697336717 -0.18166805726565410373;0.34577489484471407577 0.36222995397410778784 -0.42039426532148432836 0.72290667010815878868 0.41136178590366062613 -0.19767471265414912618 0.17438841815502123533 -1.046096201162232342 0.17489204636122707148 -0.30669306954985481317 0.39284208942837778311 0.16906058151684813518 0.024784885914522401806;-0.293455071495063613 -0.011934541870229567126 0.15224677016138785102 -0.073269959105138823818 -0.091600607837358835606 -0.094962431366381439002 0.13457919221842251645 0.20535713381166975644 0.091565801630736423644 -0.045972435874702691216 0.16177415904982855865 0.15135027481714383168 0.13944944547978860294;-0.14413806363851616732 -0.23699858852637931128 0.18449369622945807623 -0.038378747628508479151 -0.07647187819417111676 -0.16220090582704199678 -0.17615429430076845474 -0.24974602107438165222 -0.069345987181138962763 -0.079878480668407553233 0.014368191120757784623 -0.069695024062944144205 -0.044187016022917947888;-0.12590527980335888825 -0.30940615253081421576 0.16561628959571075836 -0.11682682172302180645 0.50358476303931731799 0.36492141178286247039 -0.62145499320926855802 -0.36244443346196469902 0.011769527182977666119 0.43904728779410223671 0.058373987794634034365 -0.026244429072725446866 0.056564931759596974448];

% Layer 2
b2 = [-0.98633111858470534639;-0.32888579947354862343;0.16642326040622718031;0.31863707214688080649;0.21462707417949739019;-0.35994605739824536705;-0.1908968492858728605;0.063557594805309342023];
LW2_1 = [-2.0970369367563295171 0.76945253331123952822 0.63137847098233790266 1.6216258155057037271 -0.67943463933496450746 -1.1641860828911307912 -0.027125599510692932625 0.31142863371139412054 1.0013651202261375506 1.2854865962365333854 -1.854599286620966847 -1.1423456669552973786 -1.4439356125311986201 0.3618327606324943102 1.4333505720748316303 -1.2352910031650183864 -1.2907447145184194337 0.41854248872036642348 -0.0051641194123652686687 -0.14461032663857614766;0.0256831714112907665 -0.29982729113258160814 0.16871500382001844431 -0.31343329330431429769 0.10443715008414078405 0.060837953238339494144 0.25379809067824815605 -0.092810690439602785973 -0.073109324498984828988 -0.055775177628957298137 0.32403761342003739587 0.22189750943974020925 0.31825967323814086107 -0.040858165222888959134 -0.12163783371870595662 0.091555322152610238429 0.31476191645195983337 -0.0067059270670826601549 0.17563392297604848991 -0.40820008083615977323;0.073767886710700794617 -0.011993041421751206299 -0.24779421170097939986 0.012511326522192778299 -0.45497876731919334459 0.17920073328284871761 -0.0066325579869534762728 -0.048312155361567188372 0.15197105312114972397 -0.2540447651558714881 0.21398347462619290993 -0.091451740901136419071 0.17649489360478545774 0.29991935321195739572 0.023452909891556308897 0.10353298991373333093 0.15864701623199878311 0.022359187684840339805 -0.016739606014544192863 0.37463099048200892982;0.086049371403406543779 -0.57372844847448256633 0.25245820482886965896 0.31307053058224676434 0.039674060245228744137 0.13726742805761718569 0.32399515073807699794 0.13924385223213420204 0.17127212289511220544 0.064588041305785243162 -0.074340024364439927229 -0.061976555818727088742 -0.27857679305033095085 0.28180278919990991993 -0.10644391707713787842 -0.075283350856354847025 -0.21241208396226510247 -0.25928438625349015112 0.37019468550216616531 -0.13071435272182296838;0.20620064972081608712 -0.079617154382809834923 0.40656324170290519815 -0.11730008550727802352 0.21927725788481985947 -0.3000546124460591324 0.21608925144461044177 -0.25977905583745686258 -0.025077068436812049307 0.070680851452842197169 -0.18281131775920425597 0.28806094924421693504 0.14533402253405047766 0.13599575891162626884 -0.23396244521576578523 -0.083242358184361098239 -0.4454335907529469174 0.12615829084867469234 -0.14094819630016747203 0.18137121638543554636;-0.20378232365331733211 -0.1685639497860528524 0.32595921448565173817 0.012426488547865462489 -0.0599020725364906928 -0.012979612021759935614 -0.13016376151727940269 -0.10009365746555516641 -0.033463788764097959771 0.11518910092240058907 0.18416006028299886088 0.029717297517438526211 0.078239106415735185096 -0.025905464656944255514 0.046780007603051163012 0.19730807149281878732 0.16810906609066361694 -0.20935304516243030681 -0.38327121938486119479 -0.23819782864803365485;-0.17154024366714593075 0.081011375720810394063 -0.0615920395372790766 0.27205042080151381478 -0.034798962891169321621 -0.12080118259426590732 0.21469748217605519325 0.011643278265039136432 0.15654747160797188865 0.23097494478402108564 -0.18236566281834926118 -0.060141777899420233167 -0.20421295227107491566 0.076921810491039965818 0.17625606980457847461 -0.018743115285645130241 -0.1958223447589665378 0.069435239678982144107 -0.0069903589730886464548 0.27272133514935831267;-0.46290684578056640053 -0.044562920599655102272 0.31671967326478678295 -0.00967346545899246818 -0.17861056630181831872 0.026359586249808324154 0.16610876177715325208 0.086507871323654381146 0.39185671497069979319 -0.094494931865473308363 -0.082719473661474779425 0.010828767975168582596 0.15792785874611053876 0.60214721238593771346 0.115827105598933916 -0.95696545121489218211 0.17591830952162290647 -0.44585431033904471265 0.24151865580562467684 -0.048264618014992870243];

% Layer 3
b3 = [-0.9580029204993751879;-0.5145946877057506752];
LW3_2 = [-1.2781298992610481413 0.18106403185848754522 -0.75265038812747220298 0.68100482301913634053 0.22364903571227828794 0.92905120461291368361 -0.48293001770845761511 0.23646958728802860983;-1.3787629481778296281 0.93103189400750807625 -0.78886794040014196483 0.59294151981035714272 0.11234071260309930196 0.19139510605899942575 0.49171604629491566518 0.18345294666019934526];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
