function [y1] = NN23(x1)
%NN23 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN23(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99970979218549;1.99895105666061;1.9993849610249;1.99954417095475;1.99815267682734;1.99851807817469;1.99909390718352;1.99853265614256;2;1.99997839439117;1.99849570362504;1.99982972028881;1.99925141820747];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.050933169061178396042;-0.32124108259593936454;0.89269032406881276831;-0.5605300814546879673;0.39832396172173251125;0.19845969653955428114;0.11718986612742374187;0.35856169249086133899;0.24220355862540213221;-0.08478330832723665611;-0.35526571097626929996;0.83659105477932238504;-0.37161274403748695283;0.93326270111489662007;0.31735947934731473241;-0.49993777497505947904;0.17306128305795159816;-0.15516777264707781736;-0.077669987893546330038;0.54748863221721910666];
IW1_1 = [-0.93836668081284746457 0.64012280635597995637 0.5282263573982840521 -0.020177866342599621446 -0.23266640605183552815 -0.34568902420626423933 0.28824353545052522341 -0.84110708350977625436 -0.077110116096755054738 -0.41304841882307241629 1.3209984300944401792 -0.023110945772582026925 -0.25113739571530657724;-0.9268150690271741432 -1.0058404504242195454 0.58010019278512625629 -0.09523621431938592008 0.56533204591287244956 0.010461582474384265029 -0.32999001855049009402 0.37699456966245131762 0.10731218997268845983 -0.073284521366621294125 -0.90026474047419369207 -0.11821979383799272045 0.014941479231021811622;0.10429901224820364858 -0.12463525362837624133 -0.37801194645652697046 0.27149088296954954069 0.022605692716838030054 0.27026542434626216194 -0.25503865906702827271 -1.3047164108278788142 -0.01227292103531751194 0.20206970739156338013 0.36457215039461343675 0.041377003606896438359 -0.0071550658315920733638;-0.1969301753202219174 0.19656900268083407624 0.095994285883483285171 -0.57465749038699520668 0.26254587963968600839 0.15170748378728032835 -0.30348368089821275984 -0.13369451680347613221 -0.37983782410405164676 -0.35196105783044767668 0.58196493941177107612 -0.011263370405611348307 -0.054784508374118578988;0.639148248219407078 0.12539560646799055577 -0.60488099553519447671 0.43481818763417595664 0.65278554709848146675 -0.050851087047301173072 -0.59485869043335715123 -0.17430898631517488528 -0.13841265115252845974 0.020358254087374065555 -0.018851765847846986557 0.041357670850145016039 0.0325737646760803079;-0.36980589081862658141 -0.5148110517580806178 0.61060846380861244498 -0.25663119360239400324 0.23109025010489947505 -0.017228596452644646259 0.19476002245917847788 -0.70969111945153251497 0.13768720485677329868 -0.4707416382766719809 -0.35671225005636608696 -0.041440852727501219233 0.050176887119983186458;-0.38483030873991247445 -0.036316278431643159164 -0.16312053017153985146 -0.40781129195444731916 -0.063845413949091253669 -0.45758103322341969754 -0.67294738262230402448 -0.092316456926027468111 -0.530029088530921344 0.15081764530935121149 0.175823295769285598 -0.30069614854822795946 -0.1437787885511125352;-0.40787414318232279031 0.41477754488913631814 0.2587690788557335253 0.051001002619149103656 0.042051105320916173924 -0.3593249529188999869 -0.73875955486501976299 0.32317836399008981196 -0.16734567985450740646 0.39997851443938947646 0.21279801023441427543 0.052807035251974727974 -0.073464939856972125143;-0.59930474651342169334 -0.014289941129621926488 0.0044811673177543760727 -0.18738932174724373669 -0.14364528497753678571 -0.036543289632455386307 -0.14423604108814483404 0.37561444954203926372 0.072984679731098872635 0.039711453337910165851 1.7072861126308731539 -0.042666044033237815469 -0.063194450759392742367;0.86414790766031668312 0.59338469787190484261 0.72680429529102230646 -0.3335607298694249212 -0.38153255572958472142 -0.081007762463384688778 0.44455816338309406266 0.74288081722096710457 0.03524503174541205458 0.18881405546710497423 0.20142294330932500324 0.18371160586255763647 0.054462431218844718772;1.0439717777634018869 1.0193236531106848464 -0.44768198918151613785 -0.17696254868914329528 -0.47165122594078895402 -0.41621991513325645728 0.73080094213655111268 0.36453541726161942105 -0.083772779500614902304 -0.47468685043087505138 -0.16686965529758662763 0.0033736230040670011493 -0.079945243219720407701;-0.07725114667830058901 0.74767745603580193503 -0.42477588627657258957 0.070634576692487863192 -0.78005328936777096338 -0.58184955117515879675 1.1110731630609407272 0.28226018839977168318 0.10858376229494365317 -0.74143287304101657131 -0.29367594781618483468 -0.12822126143526452191 -0.19240105810341134873;-0.055269172767089341791 -0.0053813453019092849505 -0.22925780118214836301 0.50129546896778010012 -0.23031585126001319352 -0.28402615725791230394 -0.42224960465361799367 0.22690706282911987657 -0.29875307909595594236 -0.45071994466925846545 -0.15345800814050342131 0.1097021387224372535 -0.1977446983833202887;1.0716123712771736809 0.83331720628457894851 -1.9325069372705290238 1.4112295591335271006 -0.39403170796399467068 -0.55044453795745784674 0.90833346281266269528 -0.87606036945015841599 0.037298149767788037201 -0.68324377828060667284 0.81216049853084903987 0.11718287847671852997 -0.031424883634621508799;0.44928642650110567347 -0.19281754176229198849 0.14740608259279613934 -0.94632356987842425333 0.052826519511920369543 -0.16456123535546390846 -0.37087516807940357211 0.24102853908601479249 0.067073857151665333687 0.16026250104316130951 -0.078817195960326227877 0.30329444688720880174 0.18365667267971122478;0.27243369045363824421 0.17425220767273452704 -0.11281956859599441556 0.061551662568020089339 -0.0078698484220984330634 -0.054986587096554857823 0.0055070650400100961547 0.27407438195216848875 0.11214693601496615594 -0.06831395776834209288 0.072465217669714782067 -0.0043455078608707412013 0.0054354919985427421758;0.12946851748639257029 -0.12420875664562071317 0.049704886985944676803 0.2600262419660780977 -0.29643936412191551621 0.04241458974460791953 0.29177950629918553149 -0.14777656571231262417 -0.064648051162782008139 -0.019933050527455278139 0.043090462095074999471 -0.0048558203670618369299 0.011067355604030970281;-0.30618126969425113471 -1.1147243400407103042 0.098853034212813994941 -0.0094064527014803087784 0.37559062137811227711 0.91743593593819527943 -0.3643824186255818498 -0.85917571760949651427 0.08886688106356499528 0.51426719290381472938 -0.21965131504286497521 -0.030220948066331361492 0.18822062515257159676;-0.30839364603411012489 0.13818221881625827874 0.32646673997931069389 -0.013622468169877532604 -0.079075303425066037488 -0.41453190099582548633 -0.013505248767925118539 0.56458198495642053505 -0.085054760881228305691 -0.05865471437159094914 0.18911808994033105225 0.061713283007006097813 -0.13983491236670442248;-1.4336583300105780747 -0.36792012330790807573 0.0049658175259353794229 1.8053723087962914029 -0.029058131723272984104 0.14619039261939162366 -0.090883244608270061238 0.10945873024746466395 0.035979717552657643209 0.26198213330421160627 -0.44098600774932206203 0.04379808958232331989 0.020699082608163981573];

% Layer 2
b2 = [-0.41050683989958280939;-0.37493213313112172536;-0.044613546400165730865;-0.10883783384931329519;0.45814456269704179059;0.071242207751850847308;0.33016542707165080772;-0.51971972586668535588];
LW2_1 = [-0.095633156651742587395 0.19640770345536825991 -0.027145547092420771462 0.015367885027536942744 0.66181215329386133828 -0.19860375158463688949 -0.02510908708058621 0.30824732205372318283 0.12466578999090704993 0.044589786988690920111 -0.44915301640246729775 0.035049856917382493648 0.04939158549090157807 0.10282829524026207424 -0.10481287661025277813 0.55956573078036930813 0.055474083526929986177 0.63341960367302774237 0.3182688880110788876 -0.27637447567065720477;0.071432960665643807641 -0.21610266070446595976 -0.47441030661694327808 -0.010706229738880777141 -0.038260002553132436975 -0.085757327841106192889 0.062588421425471565951 0.18654130984077144095 -0.01507922631684969518 0.046546269992516889347 -0.29384409263851923866 0.21158819808304382692 -0.092357802242026040829 0.12587700942529567172 0.088701381231157033769 -0.3038376332859924478 -0.095519830954643461518 0.27823636824367942166 0.012967832668761895137 0.041798623715908533871;0.18913555113838090294 -0.34268407588608756908 0.36305678573793748187 -0.22061841678708332681 -0.15782691155533215555 -0.20422234655095608535 -0.021047791989843047528 0.1085546819818752895 -0.34088568765032406516 0.17334622715419401029 0.26033041260470823897 -0.15916891249732281755 -0.004745769459290965879 -0.080227414124568185994 -0.024242231541667040584 -0.2400900384445439073 0.15879073792769621276 0.24443823606365430723 -0.090888848853967432739 0.026483860840090120425;0.035453795346445597658 -0.17810453766506578743 -0.22901773733146818524 0.17920222333515334334 0.12219846500520561983 -0.016234759367499990157 -0.062552910092463040459 0.21789823444468550684 0.25068124900552113399 0.050540961673464702975 -0.19617426939592003121 0.046749262649574893635 -0.064654445118966674677 -0.024185872325818730255 0.0033589867971178261757 -0.036721253090621748527 -0.28945932639764493377 0.1635344239880096584 -0.020144787284147078199 0.02735741602247551002;0.29886664547162156147 -0.6557110382161016604 0.39836854701759294439 -0.15620366800253129846 0.37910821905768787854 -0.078101333352628685147 0.051894110713577405736 -0.13412419120351790069 -0.76990132972554781166 0.085046780458611553888 0.35590393842482748177 0.56610657903884453734 -0.063954304329944700047 -0.027758920290802568953 0.32258981440476097724 -0.15668305542247473738 0.36162756429860876128 -0.29703616392277443214 -0.53920257159900109034 0.087274073446422725797;-0.40385034509357131682 -0.055949978502303092387 0.5712140195111894414 -0.39266098699168472397 0.063258335752416794406 -0.06251048021720835568 0.26969200457529129977 -0.040551843775624416 0.0038319904818700286503 -0.25223192095188862183 0.078812146914619560234 0.34522088387155652756 0.047178755072778515156 0.82627850498696053805 -0.14548920127356054777 0.14158993021921936761 0.029141705818201576322 0.055927660259104748641 -0.16618730901475325945 -0.03205416592994616426;-1.4136626605564936998 -0.7192478898734065984 -0.041291676973272802009 -0.75354662540895267497 0.85845765198331625001 -1.9410260772169074528 -0.68244140494527294472 0.34427470528201975508 1.5003706564611649643 -1.4022338246304446585 -1.014199573854650982 0.46331838357608168266 0.83512364695361240852 2.2686524906957901138 -1.2135398756384998542 -0.15509495203143316977 0.50461336406035539603 0.51386239957128265754 0.35542855228796360612 -1.9345307755185254805;-0.1049924134714189522 -0.35695596152063707729 1.1241793106657427259 -0.57960353737987413414 0.073385007113355549269 0.15421594775571006997 0.10238083052738120027 0.0022723570723601725641 0.36731278506627329516 -0.19692373554149331105 0.27696559539777049208 -0.17701660659104045958 0.37637313277724271376 0.61632630635585505807 -0.19078304110719068731 -0.49023253519975290571 -0.41874729155010065318 -0.027925796226581103832 -0.54273978212507023589 -0.1574775009553756322];

% Layer 3
b3 = [-0.44657846650282850831;-0.13647041517120969689];
LW3_2 = [0.80043463606679554623 -0.93672768286339636035 0.44705080333566771245 -0.90516315456053864086 0.58124520194079354329 0.38980136617871247173 0.74846317497497827365 -0.66123863445460417942;0.81278572367552015532 -0.50879348982872973917 0.29111411191149672018 -1.4832990470073061928 0.54342664165879839278 0.12327140262474675647 0.80760175325386174272 -0.48450641338587113749];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
