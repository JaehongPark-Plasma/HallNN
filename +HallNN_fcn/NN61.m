function [y1] = NN61(x1)
%NN61 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN61(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.9993137734904;1.99921607519415;1.99807537135176;1.99843373214842;1.99863373197474;1.99935768934826;1.99864750432322;1.99888195714985;1.99813526390404;1.99816605761015;1.99872271341613;1.99847504026576];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.48307641090748959511;-0.058391383996268524104;-0.97149423719799854471;-0.60299402990973405281;-0.39566121215171001779;-0.32346464497897925439;0.17527328023102917154;0.12316339559846135876;-0.17921100890411567619;-0.050801479944235942987;0.060634929983863453118;-0.52209655867172954924;-0.29570681920234753726;-0.25621129113479157446;0.22019701159227381138;-0.0031262614106627299206;0.60457537986695375487;-0.35116073249391516198;0.67717536859289362283;-1.8095335018851403941];
IW1_1 = [-0.29775263784051975158 0.56373692385923412917 -0.053269597576289615115 1.2041636211493129682 -0.16444860457968754619 -0.064337191289593240184 0.53146283278237660408 -0.54204408662798331253 0.20095963843977654451 -0.53278465927491369669 0.17111978240289352216 0.1947697382166243274 -0.14230729686671061973;0.29382667280170093882 0.11121379665361555422 -0.60050090712475268084 -0.3429585685814846574 -0.72495341163775817162 -0.36144116800286102409 0.13580502190172066834 -0.22112199813495472811 -0.3445228730971111597 0.26785291986180892465 -0.19660343446063829886 0.25419325571716050449 0.078010338990913474788;-0.21597682503454290748 -0.93434713985492245936 -0.078907948498875557508 0.4486768385698581274 0.8987160548451487152 0.6047431597263108749 -1.3728505180720007584 0.76230517557755483882 -0.028518144648502514321 0.75602103163261147323 0.11807309171792056135 0.11622772707793288527 0.12416986555652553825;-1.0693078812202641004 -0.89817671299860057932 0.22294749562498936135 0.62126413664377921897 0.4148965697820809484 0.37319429832732053942 -0.57584372068322442484 0.21863170581946958504 -0.035708341052765907309 0.36322524347493817531 0.084864896547298895868 -0.026012695798511922124 0.023168680789345721255;-0.029542823384204029008 -0.34055866662294742575 0.042271562583201152674 -0.25294752713754198314 0.69531577213390660663 -0.13686488170137312004 -0.090244985178687966987 -0.049457316294505788978 0.25025670661730853306 -0.64687041944220124989 -0.20039208427358642939 -0.070793314362531584161 -0.13194034088964143314;0.05837006996966827288 -1.2862655778765879067 -0.76547907291053052248 0.023890339857181110833 0.4677489961941607155 0.61437215180574922258 -0.22396316622703432708 -0.52591692573113746345 0.1005942689998835099 -0.012276997578983480514 -0.49170145281292176875 0.025871063617455187372 -0.11699884889850098446;0.082965833967379151725 -0.0055878546121585180584 -0.81198856343297975968 1.1503053227771229405 0.073612673048151888722 -0.13496821594551791645 -0.25615785291987880345 0.028479873470883126929 -0.10486447073952957776 -0.11698863383527743909 -0.24438922143060629044 -0.030233750030546957532 0.003440163585378600182;-0.70639343458850190061 -0.38867019356287318965 0.99587885617193872001 -0.3040731639951111398 -0.012258095621150669197 0.065533247340769582023 0.48322604725420231775 -0.6658030606226249537 0.19743506165028387733 -0.58420133780019634084 -0.26456058371003166041 -0.053321469828074660735 0.042263688004359013795;-0.39753954588775453072 -0.23188496691399795857 0.78085386723441163603 -0.26170178051924042339 0.16219039869696985634 0.53799980664467195179 -0.38339906866110123884 -0.66339454418774335132 0.001328631587569887966 0.37425737353176224964 -0.096900831859001071433 0.20995705925232499567 0.038586435458204039473;-0.18080838765497431186 0.057175190168955655756 0.34738344310627555789 0.067448635585609123533 0.25587066172421507604 -0.2678509102396596786 -0.072339622802547395852 1.0778263953192241953 -0.2908292996975678224 -0.54208763648514890487 0.1905742275717632328 0.24772172164929254223 -0.070766379845545471228;-0.098449859305875922488 0.15798597300215558303 -0.44356048545906784364 0.27853506273729433662 0.15644931777602874567 -0.076854083735765910124 -0.1999021828356834507 0.032643901675617661984 -0.079031143143789034378 -0.058512475697333587998 -0.070131110101165794468 0.0283711674757389197 0.0073610814856512919724;-0.00024626299095448830195 -0.27099014745730637399 0.24944854793430606965 0.37038652113219516782 -0.044197383013430041609 0.49058613144222951163 -0.18523954383672672219 0.31345895275288215842 0.31125463831858612984 0.20426904725951255948 -0.073156232126829562334 -0.17495879386882004503 0.14859037858503501561;-0.25727951689706685112 0.70727594117180991873 -0.061133713160467208214 0.17884733761753923709 -0.30992922848301196481 0.10714668190562921801 -0.052483966141876919886 -0.44506628538092923852 -0.11307485050315273234 0.56636198164627593599 0.089742570625519921257 0.05118440574015407224 -0.00076188782440690270767;1.9045630044308747841 0.23765462395104250404 -0.2350590757062127889 -1.6383963126783291919 0.26467969300007604394 -0.043802750610471979931 -0.17771660527412552755 -0.13987634414869717925 0.0082235959563775017089 0.0055459239762181283817 0.043625419039886439987 -0.0066782535338752646234 0.029357074850616667744;0.37005166463493582851 1.3104390034584818547 -0.82196221377602018965 0.55551223328968546422 -1.4433933598275665577 -0.79909159766624537902 1.7058821721396015825 0.16867601733336148873 0.10212527888084538263 -1.0084273539329962066 -0.23731612944027730139 -0.019560579211499989211 -0.048326997863467800742;-0.23720978385563798452 0.11167993056038140465 0.56074350178277654333 -0.78360931652054677254 -0.24323183497765621386 -0.16646260152132347221 -0.15163663849345532242 0.35595429223161079157 0.013599656964506438156 0.093993846308641784693 -0.11845360684615112434 -0.085498448848306707326 0.0070144094782279972286;0.19077968101374420673 0.18730312720581498986 -0.31418569574568616654 0.65580300008555414415 0.10522822976975400311 -0.33557857507194993607 0.62049258078570435071 -0.5545086259431530884 0.57338226753423138238 -0.13895468344639033687 0.2545282769626131536 0.19332030723354831636 0.12465067477224370251;0.481373715255769552 0.093087077151402575215 -0.41579263692843687616 0.29732926268032761064 0.099171374819801150213 0.39605420110385641808 0.35538679178814364112 0.88848502176877230951 0.46417493694917327796 -0.50648896670248566565 -0.1685355585414332058 -0.64343987901873256341 0.12551022469431588613;-0.24270982739651728033 -1.4632581480657844697 0.17313844198215874726 -0.12735622723857098482 0.71615096956638302217 0.14469957709745256969 -0.12478319246465796599 0.86010026202272626961 0.064521367512816993339 -0.27898727851846855108 -0.077316595975985627498 -0.066030619299420501012 -0.011311239877016307509;0.014506657941415777857 0.76176968557845126107 0.95900548671267438205 -0.79918508550038880323 -0.41121397773490020455 -0.51181878119341583933 0.73292863823872045348 2.1916752676651896081 0.052778285873462615907 -0.37755804509583773543 -0.45306347007688513306 -0.10601572888695035002 -0.046388510608251484757];

% Layer 2
b2 = [0.060385330403848802572;0.34282490355946743099;-0.41098340087366874718;-0.40491793411052562357;0.20826823919395184848;-0.19200403695444265284;0.24491952774003714066;1.0500297854084892357];
LW2_1 = [-0.09832163899469471835 -0.12703007958658757426 -0.24078156238044101656 -0.076264085644207335601 0.094634739929999156516 0.18131756068081306132 -0.088865542258078550342 -0.094472804362191908911 0.13885281466405460793 0.061975191059583649433 0.57719013490053838744 -0.069426559743429705485 -0.12512063693801270259 -0.017107158199890736688 -0.51448611840234970138 0.22997705959728301228 -0.11735467473664576432 0.051561118517457801835 -0.28265027670084036382 0.068986615224168018612;-0.20703464421348977131 0.21387476311309461252 -0.14874807379418933384 -0.32249775428897714535 -0.062178845712927824363 -0.061864577831953940223 -0.22282773161125260519 0.11517438408443098075 -0.021294072092386942541 -0.20131247126780010825 0.019694119539018721532 0.037732646775427390595 -0.033871897160382698211 -0.64339330568112784725 -0.41185646113152657444 -0.25830670375969250196 -0.04885411554721486721 0.096462040337375598575 0.31101013998853205278 0.027174160102653222015;0.17944279193222426039 0.33884804794258865934 -0.059205842552504099607 -0.37870929316578161306 -0.30148328188782586023 0.26595022391093731118 0.18979704685357401406 0.21917353251979532214 -0.25562872389460117306 -0.15332685420810532317 -0.55129050347968278079 -0.24016059224006983119 -0.18866320004875483662 0.05367104466290123499 -0.11192216132829910236 -0.24280371431714578567 0.060925963459940876699 0.22766759188073992792 -0.14039003658279686215 -0.13522101721035434396;0.11319383702690900828 0.21293736880075228579 -0.034284077869194927446 -0.37713385811940808301 -0.21119535856325152845 0.13857824947737215626 0.058377697140817752519 0.19337941337906183747 -0.12616029731292727201 -0.15222277229109154595 -0.052511023195854801549 -0.050923265221693304883 0.0018848778754175293457 -0.02494674292942923241 -0.096755272644791737169 -0.28725909602520016684 -0.014272112283671397129 0.15586425310648882592 0.067388959382506705142 -0.059556962935560044115;0.18541394287161758192 0.19302461009023613725 0.10928345339147017834 0.59113188636123603636 -0.58766266473102590773 -0.0371767028283081849 -0.7259449740353891567 0.43731686574990780159 -0.22327537785562695527 0.079655254826807173063 0.016411404286616779885 -0.22095307595944974066 -0.48868096655925680194 0.11860154137612451131 0.74920451832094714373 -0.3246424233802074899 -0.01584112381654038948 0.19555315121135563583 -0.14868646520419026569 -0.11292477509365236865;0.1947179776495001069 0.16487476154729055478 -0.13890291015442382538 0.3529277431494798889 -0.16193495283577066801 -0.0094339638581793765909 0.12329091473006187352 0.3273474185734115971 0.30125869431559343381 -0.30473959390706167882 0.25231227845185216774 -0.23509150592458938345 -0.015406203478430332068 0.20699686518829576998 0.30104015811651690937 0.16121035633563957079 -0.070308878225472895562 0.15514857490929853667 0.35496479179262013792 -0.061577699976585340003;-0.18411655632291895612 -0.029200981749340184507 -0.093096824991292334572 0.087669219858614380603 -0.086313025671129875449 -0.12395299210292887171 0.25383725490869524233 0.14000221219035394182 0.39050358655685751819 -0.078638594385604734804 -0.54783242833943990302 -0.15975317706055844336 -0.27297639495472814097 -0.021524730396913500929 -0.050631689145319250245 -0.21240879802776546637 -0.2793463603562518216 0.097038163779157068922 0.15793707817850727304 0.23214377966117161201;0.94570534183745258439 0.77893798642260470011 -1.6415981250133420133 -0.69102876357144316088 -0.64887247003791559408 1.0821647214157592565 1.6818174346842240663 -1.7445656723508142782 -0.86377570216253996005 0.53695209911151364768 0.34351832918939806394 0.59165075222770679986 0.73606849989122202782 1.8735875139440512083 0.08049686223810707808 -1.0420843031702577974 0.66489967463329813224 0.65006032069014063612 1.2346032181780171033 -2.2910494485074974769];

% Layer 3
b3 = [-0.6366775314871168101;-0.71879432224747319413];
LW3_2 = [-0.57597328119184187933 -0.668504789752796591 0.17436895118822431927 0.69370774954708769311 -0.37210964099006310635 -0.73704043478058656191 0.61409511537890382193 1.2765082472181916717;-0.56207799505146993635 -0.46595538924906143574 0.63845708354319663513 -0.1125423112043793944 -0.35472856327306845348 -0.61632619964722457073 0.59107727335769633115 1.2475693096441629049];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
