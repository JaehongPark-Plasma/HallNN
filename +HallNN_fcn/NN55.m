function [y1] = NN55(x1)
%NN55 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN55(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99893807020038;1.99853177782792;1.99953502671966;1.99803363634348;1.99884728421506;2;1.99896410830113;1.99803365519684;1.99912022188202;1.99815307508074;2;1.99912222529201];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.45057195416018164247;-0.20243679848356521678;-0.81411154939378882478;-0.34554452477526348408;-0.26326532160060428511;-0.17032500387976851064;-0.27885797272974893746;-0.014946163014544943531;0.047863671867380115643;0.20575548636140980618;0.057875763846358362075;-0.64258979224161327792;1.3412553957704691499;0.60629225688620858037;0.042630120771336280083;0.33476661040671884528;-0.13370293338659380855;0.13989996710097912791;-0.33113399503735424512;0.29294116718741991523];
IW1_1 = [0.35593671374730567747 0.17500673557670007319 0.71646216399839890432 -1.4926885380571131012 0.032175639318934481925 -0.0091922025982454878823 0.0025818835647604780614 0.020293560629780250937 0.045110031752680253281 -0.10966937180286870368 0.27629544127118710328 0.12786423154874190788 0.014966303491644255066;-0.82850409619733100808 0.073249495800502814613 0.99174649411028303891 -0.20378128829929811894 0.052140662546456155446 0.31457122989847496886 0.32581195879369473367 -0.052355480281663202557 0.1862740052349922959 -0.025950921962862007197 0.10798016620152683931 -0.03742814424516255345 -0.14553598464462064177;-0.024826364228641872867 0.65872598563348028211 -0.18484184302070136297 -0.10751273388839766021 -0.25945651174115769155 -0.18537708954502662984 -0.24951968903052368365 -0.60189540660948681605 -0.11230447858466439948 0.17351808132305271415 -0.072896817421332804621 0.11722316333363905216 -0.050939211788135901893;0.20109867291055338878 0.45126324768769859874 0.66601348558452988513 -0.12368981124943244365 -0.50123033052639875962 -0.31872281751251435589 0.4200220576677153872 0.81186999265272385973 -0.10460262404188065688 0.33668777194855437074 -0.14343298648721250488 0.10670560894251261697 0.14462441816622981228;-1.359080811011406098 -0.23411475186399693937 0.13470538567078960135 1.1253597476517851472 0.10990185249701733827 0.093895361593472115302 -0.16906339607388717883 0.30642591215422004813 -0.0041773780743825511541 0.082319392940313471096 0.17602080331365840826 0.012652092152754677162 -0.012811672787494740935;-0.44623194728722570535 0.8823953328943466845 0.81856191612968431937 0.8311095365582545913 0.14993523836774780289 -0.85935813175359587746 0.048637769261832553003 0.22778626277814906231 0.0029716656204227826638 0.012865480773882073326 0.2531943023530432435 0.73679248353954651662 0.48620673289011590024;0.66381070829287858182 0.62689624383211051128 -0.38122120403221426699 -0.051575297556576985003 -0.091334091839621545095 -0.39381499446418960497 0.094891263405605122405 0.15786820943706300624 -0.087322628020939194182 -0.39539290958789491404 0.26372764271374471434 0.17398658961190913153 -0.075553103650636596611;-0.35872721207285579448 -0.37650757841947518623 0.15994673659518754416 0.11428352243422132406 -0.015540348678637256469 0.36845350497040452176 -0.047377829561729985219 -1.7642088930838950578 0.080021251022779113504 0.20974573687320283155 0.12069684194717603121 -0.0044573888378479130726 0.092148728938415427892;0.11862016138164130363 1.2510731452649290762 -0.098696946349024664014 -0.032944443252884210438 -0.82074159380311595413 -0.83639541819991924942 1.3825620014158557236 0.46615111154609756294 0.21615675207385012802 -1.3603567042603570414 -0.14947309327720201266 -0.07205521280533508377 -0.024299557658777462543;0.26067126581108607253 0.06172152434400286769 -0.47689004573345472604 -0.022603102780012304662 -0.080432527854012503266 0.11614333234674550921 0.54021581098165971646 0.29958118576489778384 0.040914102858023992937 -0.34792462352880965115 -0.047566864498064388711 0.044936600908135435062 -0.092075462252252188167;0.37200705872953560016 0.1122524656584776015 -0.073377826901738343879 0.35797704138800068296 0.88612092475961090621 0.87442403440772298318 0.56709391577442291865 -0.57159812375902352422 0.54862912233098770631 0.20617066773569359128 0.23369090736663564178 -0.0058083623924087314505 0.079035215863168015171;-1.1562216468638391031 0.51403425033216099127 1.0149706731319039221 -0.33850256768489428438 0.14209633873403360038 -0.38645198610014075413 -0.20806769050552875733 0.60872136984033320406 -0.040736523770736068895 -0.12553071162716564202 0.062492391678774517061 0.053609698394333313298 -0.076773138226174236776;0.33678703354830225036 1.2958123275554753739 -0.27240960857883145252 -0.12245528692943978555 -0.68705378922118098828 -0.68987184211339069861 1.0307185773674716334 -0.66340919582556978629 0.002402893846982384965 -0.8566858259209537696 -0.35252261258635841923 -0.026409554310521179965 -0.21421978677876871155;0.35769172427339213094 0.16345290842108162188 0.185110794406142809 -1.1596735084254652381 0.18929334514744286522 -0.19412832696483453554 -0.37351149250120818657 -0.16710584085434099233 -0.012417339726975657951 0.048194958853209776684 0.073375659224740402697 -0.039746678309900841664 0.055986259007712375901;-0.28053680841383160649 -0.38546660747627459198 -0.039340067872430571627 0.16246292634160269808 -0.21298610645318913348 0.20333893487917512055 0.066985231550090423847 -0.23996022458271107358 -0.12391927267428530512 0.32681090621789077311 0.16048820612688077802 0.07524128668837641587 0.034542526192939099206;-0.077721395284975638984 -0.15346134003638803311 0.033401676619512148114 0.63592324695061708262 -0.080199207563466393123 0.067116532317990154621 0.22642806281939070745 0.22774082999581837794 0.014804090604522026839 -0.041587737947013675432 0.20509185085783340763 0.022474088598848328269 -0.01585907567508885313;-0.62346957848351602927 -0.70078220214282538336 0.65442646752442257263 -0.06157562917154654758 0.2165854872183370361 0.11998097385834817497 0.30194552946176261843 0.057908587824611716666 0.16157004509113873092 -0.65926371394216454203 -0.29013686703611146767 -0.15884004624104211545 0.046694340691925032005;0.13313596157183998914 -0.063397635602014945633 -0.075638500865743557577 -0.15131700663735470069 -0.22716380315111409094 -0.35601211023939099976 0.14206185803443521776 -0.53504013116882498391 0.059259501296515297575 -0.1090764833271830464 -0.2935904428197085303 -0.10290497463688656754 -0.06865530551704342177;0.69743687877958493448 -0.37484027260018260019 0.045867041474240755061 -0.80167985410430531168 0.45873660666687104959 0.27298901772318689973 -0.84916022323026718599 0.29518855769585000681 -0.29978885650089537318 0.74638189250221442794 -0.11730824258025519813 0.12043261512902510291 -0.048651818143662553529;-0.23771871560579160843 0.25080933125360660441 -0.056817626473591405223 -0.16261087304381829921 -0.074558560470524407049 -0.22648214883847472834 -0.14768754546209211798 0.31454177837220709257 0.27089773176121084708 0.53258378022026453547 1.0075240674894181403 -0.27330843564178519678 -0.15941575697956181235];

% Layer 2
b2 = [-0.090751392326361882135;0.18602152679445838057;1.0053452739596737686;0.32821421058745497978;0.11920458795020080767;-0.031102316344868534415;-0.24598865622933263619;-0.033970671069573840639];
LW2_1 = [-0.25164892802097516 -0.54511490159925413135 0.044297170296159892044 -0.15075245038271525844 0.018823303487905097831 0.022705783696527735011 0.35060568223758581397 0.23946876147271706214 -0.059102826257806148624 0.14882633802124350941 0.21066437919788402744 -0.31141005163394475108 0.21956028048233250383 -0.49342000813639425028 -0.1105477087461829433 0.34934521477514918208 0.014495368087985099903 0.13257154953376301676 0.09497877670802692962 0.083132175785303102922;0.020528312150809288616 0.11943355314585779592 -0.45976357344317125841 0.17333251103952262984 -0.44452306449010214884 0.26676300175559602978 -0.14677570903950140635 0.248795317277565875 0.12425793094359682822 -0.45374970634008610082 0.015508894555247348598 0.35937273097453409365 0.50132149823046523451 0.14827493795960458578 0.55138850416056106596 0.21922592208777272327 0.56580964118668042317 -0.169853430006023709 0.40011254992835193489 0.28649999999178255017;-1.2744693397889654829 -1.5650208102396678811 -0.75607743666298776741 -1.7321977601048537121 -1.5641088824387145984 0.44726691255849226891 0.43999756253701099995 -1.4711422112667837947 -0.78272811749585569085 -0.0025900169042334707584 0.53051982830151755977 -1.359431357170057364 1.452190495931015457 -1.089922190939643265 0.30780599487913706813 -0.25300937093297176661 -1.4809898575770643614 -0.30757205867241244057 -1.1079005924177753872 0.61397935966786088002;0.060521691154884899033 0.095315500024614280283 -0.231558052685291893 -0.0042002046144921801468 0.23626413578278621097 -0.10866820615143736595 0.64071456903262080651 0.34932272004880110527 -0.22167604272220867156 -0.17771198795270401471 0.10331021140734270025 0.33147725543745265586 0.024056800385928531899 -0.19892214369154267994 0.1049497876432205351 -0.23173384967399607293 0.25133099221068322393 0.014199207936570467162 -0.26903219375730108576 -0.361800341415061677;0.45699903282922804681 -0.74044079634003667767 0.55318224825454609395 -0.14022244193496644082 0.20231490940672386403 -0.1862990385059567211 -0.55827096373278550789 -0.18913059494480166656 -0.015814153284830576723 -0.37900542124328362448 0.77499087069981376086 -0.026490316618645384783 0.0013776035375342781872 -0.15091992830098410749 -0.21053230492679336772 -0.71777306762069548185 -0.19899522909476616284 -0.31838038248024413956 -0.35554254547396235697 0.14353061424903365562;-0.25234851343439351767 -0.22895736146432019154 -0.16124885491028362328 -0.24131154893755069057 0.18352950082457439307 0.12030379764066045922 -0.081330625572191006523 -0.081652601786928319383 -0.48168452142435802532 0.1959421381567445497 0.046863599826161367323 -0.18205818979129687052 0.43121566785727605264 0.41806619304513142898 -0.13756588066802299952 -0.2470639378159313615 -0.042109161955432676538 -0.11617036842253244955 -0.015754249869104421794 0.090187658846110199673;-0.079762096685563832477 0.31110467258993557138 0.028391791286841265574 -0.059666666839828318147 -0.45331751653381385792 -0.10668575303111994812 0.051899057955221997163 -0.23017809293656588121 -0.839007056395594919 -0.49306320883328291771 -0.027375769178228502587 0.31547767282047828319 -0.068557526874304039466 0.43743516899754369964 -0.83062828225453766429 0.58055176596174851156 0.034073594945523519306 -0.17625510623425852397 -0.29314314702761001818 -0.24713847460626556241;-0.086743723218927482055 -0.12392065707751434567 0.087916430716795224143 0.072576084808174651242 0.024539093813233620739 -0.015023111166866640748 0.12137267035856438846 0.15660997759635730819 0.14217861156129146805 0.016575258157772356643 0.084895484581048230588 -0.12619770531270529945 0.034299164225979866805 -0.20606632028589466632 -0.044682740255407284169 -0.078968129972355402546 -0.022940131142956173699 -0.19053290645761636335 0.029280501135203067936 0.020902633310665379163];

% Layer 3
b3 = [-0.44082795924496726014;-0.42351862026207098832];
LW3_2 = [0.52795205549447987714 0.10328664877248658338 1.0907057609023647071 -0.46702133410608215325 -0.14657017871942706888 -0.58017697839760562495 0.55587901049991206293 0.93017499194938224605;0.71815371456846077702 0.14567323449847599526 1.0572730605512603574 -0.45204493784951677027 -0.10523797488951412704 -0.76583192294013480161 0.43980933595778087808 0.073738101755574658736];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
