function [y1] = NN34(x1)
%NN34 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN34(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99902443194782;1.9992340109038;1.99960515329636;1.99929108152051;1.99803298553481;1.99873336985451;1.99968014566126;1.99847554107301;1.99831823866436;1.99872805439773;1.99825310102421;1.99842405298683;1.99986168781699];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.029859423287493198906;-0.2631089878853067332;0.51634365340215038209;-0.17298816727539839677;-0.47982938242691497432;0.53158128575125795923;-0.1240024102046412835;-0.44958738382249729959;0.73847630675912712128;-0.69193781444298463335;0.086981323821406400509;1.0558984327343523546;0.18812800319519587533;-1.1025712095875124241;0.26354160006256555082;1.3275188923723966195;0.23231398233360711636;0.13964054944902443145;1.4916979173319651064;-0.82014533442775661154];
IW1_1 = [0.087676973842193722808 -0.24292767572425738587 -0.21392269972009311796 0.36533466305394640683 -0.12865337635311496767 0.020651387838314019113 0.17605981882757162915 0.028294012750145872831 0.042023964560422587267 0.19237418237160344714 -0.027209274672423337804 0.0030461340622749818671 0.054953508273122834982;-0.1952976466642011022 0.32867636450595161257 0.11897939816504769783 -0.011435519375384860241 -0.49752763390396104182 0.085634963085932130911 0.24737933143108131739 -0.13240804509324063942 -0.12835216428562384872 0.73079681813736319107 0.074229442901076927996 0.12530089377575448495 0.055122159758330846469;0.71300699365749864445 -0.025393278902929895813 -0.085409122716091800953 -0.77517648860600218974 0.19979226081768031165 0.79927356121760295693 0.66118587378489146467 0.26999484589791261646 0.39638712581756668785 -0.015207615372006346582 0.20602523206910053344 -0.11458656255110008515 -0.085037126516982738944;0.32608828551972207643 -0.027339909469812535142 -0.34433105780971162702 0.38918959073980113894 0.35936168569816689944 -0.03614609808432843463 -0.29853008744273584751 0.092042996187058453983 0.21963631218493684383 0.06144431588614322759 0.066244216507461636811 0.030270914533914776434 0.23829308970926815769;-0.17983808860848762845 0.46065695053056260333 0.094337330205902431013 0.1435866816203408558 -0.60906103567240954533 -0.17956285706422669968 0.58546027430847646933 0.27657541188126461007 0.023941391206744336295 -0.12747523267212798603 -0.057267808345805124026 -0.013308256585454149648 -0.01027274456484508075;-0.10344145056011619377 0.32450842266651741541 0.31745331643798208043 -0.11074709604481118574 -0.10036219026341886007 -0.51879648337924344492 -0.61409293152504906832 -0.17058632699223688634 -0.071903053531190475045 0.57710864751833745867 0.29788636327651951685 0.045278012651502663743 0.11651642965439362731;0.69005676613477584525 0.18222391148841662889 0.11041161113014913431 -0.51325337890262534568 0.31235073209524144566 -0.0066336650942384715879 -0.38944622640484388709 -0.13154762347734039185 -0.012715633697781484127 -0.046655265269877954637 -0.10899321735243291953 0.010841874842537844656 -0.042571298356149950282;-0.70962210151037596884 -0.27580089269949598085 -0.69095411728724231981 2.1414013287716149314 0.19994498209960445689 0.26501440968923650754 -0.19577823019738818666 -0.47974022867319154884 0.032480420492721401304 0.14663655878561285273 -0.22897987961620097641 0.036606479776119277281 -0.019719580753802756767;-0.11304307407195836321 -1.3741244688922116257 -0.18300946215922303528 -0.036461875981727516483 0.44933608012345588323 0.10660898826538944828 0.17214378603445179561 1.0830294745835920001 0.072753502667770780787 -0.52723460353483253549 -0.037002520562448376618 -0.263457337319511542 -0.06969786294213414779;-0.49913467749156509301 -0.33030727698112727353 0.25930723842727809725 0.42125414251837567381 0.053194739659681709865 0.082903178594852161565 -0.16958444559334798218 -0.057513282541600790898 0.051419373065373259746 0.25697942785857885717 0.37246627144937494158 0.064690975312415743836 0.089768650907665628602;-1.0603729448459069395 -0.36191713874577036147 1.5273932813134722952 0.47134860782873683194 0.5872905496136776593 0.27510626296580714678 -0.17580163101147083804 0.15364832143111023521 0.13243528276587424042 -0.92708805546727346414 0.65276564043461116071 -0.014949614918955762138 -0.3975875721759454251;0.22102341608312323085 1.0819124730329299222 -0.49786706935087338133 0.45370209754390622425 -1.3528621827439155645 -0.72868012899648404446 1.7215512905633150176 -0.54002026004582670549 -0.080463639423491481462 -0.95975844157308332072 -0.037791632458097045022 -0.041275463883445842606 -0.20227819507535510501;0.24422624064212578032 0.036531476139299703942 0.0074866217155408008171 0.061034130286241751462 -0.12553080280697848092 -0.27604714339582492322 0.17427088949829239173 0.17441810330562895759 -0.073695520061676719759 -0.34155561912236165334 0.36579503708076105406 -0.0045645461252125773405 -0.037420102696682160104;0.42464041296139848347 -1.0518456481787448187 -0.94739556181325790263 0.11475848315644723852 0.063871786673293476366 0.45636681978362764189 -0.14631331694185098491 -0.12702114039222214825 -0.059765811797358917024 0.28014266952358068963 -0.1209850969261402065 -0.11532236819688294893 -0.042373126701837016128;0.30533325435925079416 -0.20758184045970443088 -0.11181033031710178871 0.1055205455810002968 0.12790679118598405339 0.15748479926093134074 -0.18540438996906691282 -0.39851692033099794799 -0.10014728345119286446 0.015651869157876023564 0.30150998690682939696 0.009956606657915841388 -0.05750905500798641351;0.20174259716781037244 -0.73765352827410612946 -0.60592960037462095801 0.28259694018937264737 0.38917584282983475052 0.61852204300178892371 -0.83847549959879208448 -1.7972600820929118814 -0.076993933565110611594 0.83494282014470366793 0.3297433526732262421 0.027901759003125577857 -0.032207771814982716352;-0.67956374759355242521 -0.59662977979571252263 0.82492626021013137905 -0.040902750973853208016 0.28372811151687538089 0.27036451137786177146 -0.18862306376355114645 -1.3913682975654022567 0.11108668724509325465 -0.097796306516843220513 -0.29032267648640402991 0.020868377724362705689 0.069113852094519603875;-0.13739002496350502525 -0.54507014246762242049 -0.31921899294868827379 -0.1711468486901212005 0.40468910041684613699 0.63645417713321117414 -0.21570584338512879818 -0.42028670551758007257 0.17408042719688779365 -0.18053113590047015213 -0.21492822414981349599 -0.10149668484464129115 -0.027995910549554647168;1.8095644941108597337 0.20939630018495725139 -0.75346591269462370732 0.20762224867572878773 0.12141160083501957578 0.014098827768827804779 0.28213837034788291636 -0.72665834712079413471 0.11825931028028412173 -0.476764157575426617 0.16733005356021357635 0.068981659516647725328 -0.12359012574717305466;-0.086258912622356687105 -0.88598679070248498313 0.79225733840643397521 -0.80599335747239930772 0.13040447807364916044 0.2724809200821517452 -0.71231304191599331688 0.57294004131545261949 -0.22127560573821702938 0.65064565049897227222 -0.26756250725960767367 -0.14605966708609843807 -0.11833532893501783057];

% Layer 2
b2 = [0.21353836595916375618;0.70492051173772307671;-0.21378688048096641805;-0.69983439106678368979;-0.20247575182425778251;-0.18197083509807018831;-0.23996416367598072394;0.77691418084104801878];
LW2_1 = [-0.14985179969378062403 -0.0043702076404015834099 0.021946620183249603009 -0.20444960871776077238 -0.30187111332759147819 -0.13963305439622289428 -0.1187675950401170244 -0.048937200698993384151 -0.15549588106808057142 0.29564476282778784366 0.2651967509858024763 -0.24570565884680614643 -0.015314330147052947206 -0.039004039583609532993 -0.3977188287190781546 -0.1440979083151982254 0.20954790397502176535 -0.0064160358042652755259 -0.2345058199327468007 0.21789902198813387857;0.016202536142022043453 0.36971519445908329615 0.11161303448066325905 0.31144682685809088607 -0.0089453461721637310411 -0.15273854522566612801 0.29178226666977774562 0.2109475696440830661 -0.12722619842717666772 -0.12307849014011229549 0.35122193532879514288 -0.047491274572957771494 0.0036850392635269565295 -0.27885160673757836136 0.10670753737932987815 -0.2160535104610656898 0.082257459614616154631 0.093533412566829537971 -0.27160521734811921002 0.44383416723204627274;0.072713735308612290065 -0.26848299486188109686 -0.42922901297807170007 -0.091043985957686285326 -0.11204364714271114467 -0.26357073235052247417 -0.067440445695134382253 -0.10362795114477843517 0.32038171853600333483 0.30547210182154554969 0.50709521852373318218 -0.28394039891397315767 -0.44878365438039269364 0.72057833380823776981 -0.2149497729324442441 0.17375745533991293623 -0.098407939681943584764 0.073941240751074832627 -0.41897791098130765519 -0.19187943217706940335;0.11585915602602257779 -0.34341407622538622224 0.67990328549531431346 -0.60592246566819452092 0.21296220726162809478 -0.51209195126131601405 -1.0164338754744610682 -1.6311165903621718254 -1.1420691161563891747 0.78516667738034418011 0.77767424310202970528 -0.97700224407184488307 -0.53572312401633759293 -0.92404933515713383319 0.043542282471087684348 -1.3999158430354734506 1.8705223849875789455 -0.79794142419075564376 -1.5419426337136277194 1.1389184480751168849;0.1182217696125992118 0.22571994978762924267 0.043385961269879549929 0.61183347988303204978 0.021670248246234924405 0.04762032224801838326 0.43524953459900533881 -0.0019731680410404678697 0.095016927973014711495 0.81098345946025662823 0.3067808096624409786 1.3972562347452075482 -0.39950195546211786368 0.044707836563782840655 -0.3425808592501298766 0.3254143354043866343 -0.52732308047818643448 0.48398232950596403734 -0.38293630319991883715 0.47212911174329896813;0.69058912189141619109 -0.17485595585184995904 -0.040963333823344605378 0.022938860463281553898 0.26427028287370435411 -0.076962347227078065082 0.42480538805428302851 -0.017441377420121771669 -0.0017755942161384293335 0.051943634089566169398 -0.072816234352734668378 0.17354432342651454624 0.15766625795760919049 -0.0048716457869594029934 0.20688914555196807887 0.075371289971069441171 -0.03165767714799049698 0.049728515271682184606 0.024660110715995192665 -0.043828375970138992723;-0.35975767486411969198 -0.42291639551953613685 0.21309150713012492417 0.028538633110754770689 -0.22469402996834261788 -0.28407041035939450957 -0.0099628987733147138933 0.26879356945310822757 -0.1599008166364231931 0.48714015416573325234 -0.0056627787200509427379 0.28221802893193281836 0.0098626621120751142846 -0.77108771843822987435 0.21454061965443915749 -0.043418497292842320179 0.35907903816185304802 0.30064587250086449721 -0.42517135679868783837 -0.022106266346211787821;-0.048799627063116940429 0.16506079529112438475 -0.32759156252276439014 -0.19518653246697398318 -0.60944704910914559992 -0.022968813386007008726 -0.27616195435619211862 -0.021705508182122017213 0.24901880859323252682 -0.11595155052476681379 -0.83031977410514390403 0.20920897560666271153 -0.25755470878571390392 -0.3234790526710857872 0.52487813041233333244 0.042456620902792660543 -0.2283272869812555117 0.24908876862355833204 1.4567711099391043028 -0.33896893434305735981];

% Layer 3
b3 = [-0.21473938260579650272;0.055684095649406246953];
LW3_2 = [-0.68654040698285168087 0.88570647468537155866 0.012932096492968343793 -1.1104161004760453313 -0.30372627178646582902 1.0518118280945352172 -0.16030024914216320364 -1.0213000352606456111;-0.13861568350284333984 0.55792764935245275915 -0.1190586800226785813 -1.1318204166971084224 -0.25700063979148451976 1.3212500510124063346 -0.21001612414840625798 -1.0248697194667604204];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
