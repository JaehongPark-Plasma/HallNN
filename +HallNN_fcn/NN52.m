function [y1] = NN52(x1)
%NN52 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN52(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99811979138794;1.99900734257985;1.99997202087922;1.99839381363747;1.99811595529276;1.99896475041031;1.99905016700506;1.99858689371014;2;1.99828934560548;1.99849330954308;1.99808470397911;1.9992809751728];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.16118800165294999704;-0.20482282426882433835;-0.53696876035117913073;0.27653311861572471564;-0.46796590183589714673;0.27060157187324290762;0.18151368811877427456;1.0343579078830889006;-0.11477137955017707727;0.37617136743663243115;0.049575641215932698957;0.47972121921999660854;-0.15902235158760433253;0.0067424898180717170865;0.62356233082215972718;0.18528209838354259276;0.28549355319241903617;0.30143517988442009026;0.63695712250077063388;-0.58873495504453965399];
IW1_1 = [0.21375698698775350004 0.061876332049612625674 0.23803076142662904502 -0.23501120350628307287 -0.053109443795987539005 0.045106495566175089373 0.15887606459865624697 -0.32209270163660896902 0.0039619978885514590614 -0.0076220213082320133549 0.034663792236269613811 0.048610870860828575557 0.0058326290066756337691;0.19583702614682615972 -0.72301564624631731171 0.10560697570019310365 -0.33408361572096539893 0.35569951896502283173 -0.005631191755767567253 -0.14083932403722052018 -0.046878761279902640691 0.07174476067488695652 -0.19118136176138092464 -0.026209209661382838058 -0.13564202040451339704 0.0087455984900049396624;-0.16571501164759244729 -0.81925729543348779771 0.22304016968984533009 -0.3588032600747797507 0.7065817072181421743 0.56599740567706491312 -0.7259146413085266758 0.68888628514307381767 -0.080366958860733722636 0.64739315984401790693 0.26629130797240890827 0.036894955411202100259 0.077969037561223544786;0.28826367899370752834 0.15948152887705038805 -0.34800075188769585832 0.22636075612947875735 -0.08872468924447843297 -0.15256174023939744755 -0.040564421151535808019 -0.044376015453898784435 0.018677201469662160771 -0.17948672572200996544 -0.17756500771669228578 -0.1171961293876140342 -0.0016919949066384310475;-0.023927080671830368991 0.47966251044577745688 0.24608888848103119273 0.055521834034123855595 -0.50608887447806727433 -0.29032336861214430579 0.01649595810830820769 0.10678129971543652565 -0.090544072037644113271 0.24013662615947059531 -0.11843879592285869173 0.11145178763078009143 -0.032031958086991309254;0.10020428692512337032 -0.099040131024855218578 -0.15527245716362933492 0.0097072622183854498368 -0.28082060297442817953 -0.093428383016666227689 0.53894465492675813767 -0.55980843096109678125 0.091823646397814887021 -0.3471453475327899163 -0.13434587987329715819 -0.030076599349470684031 -0.0047505146414640302827;0.92740227181761336617 0.17271501646130593688 -0.06059852498802208165 -0.048656823337177385058 0.080060890534095763282 -0.318684494631222337 0.11512927928316524229 0.16101491346308893782 -0.1352600242469330083 -0.72792890334231941107 -0.65987407254243268806 0.1176905982887865576 -0.074916513460803357827;0.98338511385152127531 1.133623152802187839 -0.58721657459321785488 -0.19377022452345549208 -0.7679875303463825631 -0.66287380303922005531 1.1935898508370574866 -0.5176144873626887799 0.10331666057982609452 -0.82483038632854488448 0.27658192744403942154 -0.007393994170031240043 -0.11130710815138930569;-1.1881545366365382499 -0.33932999449407152959 2.2750890026849064363 -0.43049860281006324669 0.3160641991715143484 0.28451242209638349934 -0.10004059378818219717 -0.54364331543550270531 0.042621160006991475055 -0.038987487622968636236 -0.20529089791044444202 0.062116984105639164171 0.033411906187472729945;0.05183533047781373887 0.51215954951075248758 -0.24628243543245800784 0.35378508431216865171 0.0047298057729796743123 -0.68350741033285700166 0.29293206038279168135 0.52551708228086713159 -0.27450057856787135613 -0.70647252846454444697 -0.13378687044566028863 -0.81868574852561593058 -0.16660330083038271676;0.69642898144576581565 -0.14985573540553739913 -0.36458292581400203458 0.88133851635944693292 0.019103452072533971817 -0.040554528438654764699 -0.051453158930968696805 -0.24022577383592072509 -0.25634337457125122572 -0.51456973802610717073 0.18522343496534690588 0.16110283485117130042 -0.21206921434655492953;0.73641741117254033711 -0.31733393433348477952 -0.28106882349125938969 0.60532894407772130929 -0.024329189546602392885 -0.24598695920900867651 0.069335546006842982414 -0.023529158835885879281 0.036744523180040698784 0.10676245403752837593 0.23617339178954885326 0.0033041022706903088769 -0.027664906134861062814;0.51780654770167000578 -0.05673714167385078555 0.19851169362717191458 0.79252692483975084592 0.94520092770161334705 0.96689877321385853115 0.36612824634437729499 -0.45493233589851861387 0.37924564873005073284 0.016358729411653512298 0.38062479762235984504 0.13573043817068783379 0.070935007161315094537;-0.15099729237039222207 -0.38534133741137244211 0.267511641555452373 -0.18041642080593886521 0.42648537428292998541 -0.31859753234081705786 -0.13428494439405114225 -0.21252605559989234951 0.092911343522742190215 -0.7117414926359431071 -0.23706702508463267653 -0.23215748801167318538 -0.0068788706002841796053;0.20225979104630936733 0.52570982398441679084 0.12710821162034766085 -0.21441566400375516865 -0.063803391872603157364 -0.41936572150013551319 -0.28779930192750768914 -0.29094843821198845824 0.05184134897981877016 -0.14403641623565729968 0.28420718642123832254 -0.062137971313068855739 -0.066709723310055563106;0.026726814521814187126 -0.085882108886337904519 -0.074975845321236966878 -0.088147189724116919995 0.28771333581324481932 0.27342541470760300948 -0.36520285090171644704 -0.46389962789335631443 -0.026108209368315100918 0.2049650768777165899 0.02316908743915695873 -0.049796618341357720694 0.077535936700198565541;0.87425927393022884182 0.19122635385326808288 0.24711531806976455572 -2.1130760273561968177 -0.067360565959531784608 -0.050774146560475533208 0.031124533551515232155 0.31447631643713086502 -0.079069033444910508113 0.042716881577557451466 0.36528963909886114081 -0.019318753620050501535 -0.020855673685529780431;1.688461688012024009 -0.032600515200877269728 -0.5611218055540589944 -0.8639924418738700318 0.4202119004586309936 -0.11752983434235617088 -0.59824308451204488701 0.40649039507678302874 0.0018296147934816705833 -0.065532615866277621475 -0.88613206392946330947 0.027265808271589406231 0.15632475238995377498;0.40351595841384907404 0.67034586292882625269 -0.10832122897324153454 0.35583071565063856267 0.12107428314282858706 -0.56342669627531805077 0.062433705869111656706 -0.77375539362563894308 -0.01267017450707882617 -0.32849419265991997019 0.18117609688841485038 0.13226256973089911551 0.18253621561457769595;0.57271478029635058959 0.73937383082079011221 -0.0068471715842730917004 -0.13005564126898269683 -0.20814101710032037462 -0.60751134484952307169 0.37264241594419256209 1.4938013336077244908 -0.070314694482993045366 -0.373618088383104896 -0.18197621906192723573 -0.1345770743581791995 -0.037689448589630636377];

% Layer 2
b2 = [-0.040748068746309054622;0.22786895148802677191;-1.0938413116483494125;-0.13032092964593608442;-0.11609978765985365379;0.12066510232208563225;-0.22370049109616024774;0.19130851429190481872];
LW2_1 = [0.59584261135243588026 -0.18488629319462657197 -0.063630615341092086612 0.14906740773259521959 -0.036942742365988337494 -0.79953866615189050915 -0.4018201764715284563 0.095060335599406561857 0.084446201154640757047 0.10297846374572526551 0.14490544524503046198 -0.096182242384598465312 0.27347038806905393793 0.51621441412282920158 0.19372782044492384279 -0.30903668401735001625 -0.072767944432196779436 0.55864448416656797836 -0.19862489413839107266 -0.076515447986516452183;-0.071796095146346022853 -0.29356997722928229733 0.07327443208653813822 -0.051166863986870800285 -0.006104443222443390292 0.093518524651730911001 -0.00842696945546817823 -0.19258163805295586135 0.028534335716433819469 -0.0599546111340960447 -0.010320958334391474448 0.17563692863419111401 -0.085535911830899910568 -0.20725478534432814626 0.11632100248061928716 0.1415729211858964276 -0.060209215528359269487 0.036903787061189248508 -0.079661240312539988162 0.26630286141285502977;0.97127500832403579345 0.40428945209075400902 -0.16901364265805737808 -0.10849237150966389853 0.51285341413237905961 0.079638669652918533948 0.52891848490554327356 -1.9867145980721065968 2.2358067166164241613 -0.70466527934623346408 -0.89199838036310252765 -0.63118786356862954801 -0.61206247430287896716 1.2261788436757903309 0.41120468669334353518 0.054056837815475287934 1.6165833092300565532 -1.5315335881111962202 -0.7646120750492753082 2.125507964258803284;0.27801445352623094243 -0.28115113291903348625 -0.43444312956562330941 0.10073018530996903641 0.18494708515832330997 0.12322606800511824721 0.099849227001319526553 0.064673811970958658413 -0.010030609310438252588 0.017203431604246418457 -0.011871755580739039651 0.0078915646498049444452 -0.091202907306430686107 -0.32393813553816791506 -0.2059378420486580874 -0.1485640017304453997 -0.01825937130467400818 0.28454022070280854395 -0.061477640904691613355 0.11896606102240686598;-0.57412454502124332656 0.15123315058643543862 0.19991612733404515168 -0.20629456515684710394 0.57578859302207496818 0.41301498803544739458 0.19537399555577802945 0.36131188008887721308 -0.17649573796357356792 0.12348177311077640494 -0.10365762652423411716 0.0056356071661153011448 0.21818174874381204842 0.069288806544029538093 0.46763972558740407592 0.35227161629405884247 -0.13017628853178728199 0.080770504599990203265 0.085949591297644928334 -0.51506006648747837406;-0.70570002253075114762 0.025599559653176142543 -0.24992180385580842206 -0.66180502065417501356 0.1429937716274670978 -0.30570267879195101024 0.15317576878498759263 -0.25710866772089957522 0.21546280561292632805 0.12629599395374113691 -0.10741310965918349218 -0.18433158272538904821 0.028441756355504894949 0.4302616347876659364 0.028728573180694896849 -0.082637842652027643231 0.2247616597246034631 0.16917345179462864313 -0.15889997248365272942 -0.23595502253380651325;-0.31394219428475678146 -0.58875287651804197875 0.013707853892056458961 -0.32667098770800717666 -0.42126978089939476346 -0.27099619701683164141 0.00019465637341186704801 -0.27413110215163577488 0.084871452953440090772 -0.077897901010349879236 -0.044938264984759501708 0.11371486944531553065 -0.11181277373184944635 -0.00502334211329122024 0.086831028420181505245 0.26693179855655224664 -0.037979522456059289226 -0.016118896645074334839 -0.14324254769200159276 0.29221465874664298568;-0.69802322844154163217 -0.041237166090862129031 -0.62122978570377551666 -0.22166433494784026914 -0.35561550149429504986 0.79246385064997204584 -0.75202596711290448095 0.27982899326493254621 0.22947884051005726369 -0.10245225121856901818 0.45325918373567353203 -0.17854978189343267969 0.019407393722606393338 -0.090776607219407487448 -0.41340254382149049794 -0.24568499846053715174 0.25696762343847956434 0.19694147994949642855 0.12212007956691074695 0.58166258931478831418];

% Layer 3
b3 = [-0.25743894688900692547;-0.43364109166179853894];
LW3_2 = [0.54279580687961659358 -0.62265653108568641549 -1.0663380159526743007 0.33356053249951539419 -0.86106764489119314021 -0.96904021020579811374 -0.64799515642592209197 -0.70313239699203711197;0.42494957205686939572 -0.0081289351424986954625 -1.0721047882848551147 0.13113803428328391076 -0.82993453748244006007 -0.71281650761815962269 -1.0025616889134914 -0.58780509567311567398];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
