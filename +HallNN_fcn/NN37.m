function [y1] = NN37(x1)
%NN37 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN37(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.9982906480082;1.99868740985018;2;1.9981249683144;1.99843432601525;2;1.99817661175635;1.99866136875588;1.99862371978475;1.99827729744084;1.99921911316613;1.99957344583386];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.59394624213364877185;-0.52998261741533680969;0.040384563877853343894;-0.25276010335722454148;-0.28691791548872808137;-0.58708268191191281815;0.071605935493425615368;0.012809631113441827255;-0.47771623249488115448;0.31007551116572534822;-0.20285455060557788798;0.36015733005770717012;0.4583024827804871304;0.53419279065288849395;1.044532312716329292;-0.20519554213909252383;0.013267863696374374363;-0.39509028741740487289;-0.088254104578673567283;0.099821573365848126347];
IW1_1 = [-1.9357672427823862105 -0.23234570477298377433 1.9601625403315148244 -0.69679174391052833837 -0.023238769316901899953 -0.12150950733015739025 -0.53920303210256059767 0.48102366081311270785 -0.0029043786769601047208 0.33581220455084059839 -0.64577243164850728352 -0.04249289928888153739 -0.0010027288960328122232;0.070094571310513276163 -1.1692139038440649834 -0.089235293569212129072 -0.087126308424394657837 0.29776976790103582005 0.073159817230119536524 0.41017874510902579965 1.2787008068910488134 -0.00139589371396533048 0.049900261590454977889 -0.71551390904652656388 -0.072566566633869830638 0.037961611996081112697;-0.23529936471842310963 -0.17467429875010312412 -0.21822827668964958625 0.39676809105640536979 0.29943100764310415229 0.045176236509930557672 -0.37424075469206691258 0.10114557241447136304 -0.040934946573306187079 0.092621459249844537154 -0.10219648775683769226 0.025971384086817726755 0.0094965511630788097819;0.21108254369088594316 0.12134955899723608164 0.36407138899029978241 0.15895036614154017807 0.26936991350670425049 -0.03051705852262548424 -0.36861586930292161712 0.063645957910539466273 -0.27565670727568042375 -0.12515018914912431902 -0.20188266813888375295 0.16494000653891030539 0.00057981739991825546193;0.12486240647636538681 0.1342821250744004602 0.030580353624293767079 0.15086241600714792033 0.18185712509212559329 -0.31739384066434728204 0.048723146957451245187 -0.035570335520548737596 -0.27812293648161429127 -0.18220642871420511533 0.30048404714046517139 0.15416984362897007133 -0.14537589773882753086;-0.31130919193362138753 0.18041761084894300526 0.20475874818689465684 -0.25262996489389305532 0.082338027919333950377 0.01302470942850175728 -0.6078092445280958156 0.3910799284200575654 -0.12884044585814541373 -0.14075183911529251524 0.18435268971723195452 -0.11537996008634145151 -0.00089013530004054819411;0.7605139138681047406 -0.46266084622337511068 0.27707262575569935326 -1.7707476185364232624 0.25734341374099067856 0.15390384780086011074 -0.55530522469652010553 0.25845193001378585773 -0.19387176033641340123 0.28578595664677858279 0.021942397030640586192 -0.02908742541082039515 0.043272100310384885302;-0.22505359592313908812 -0.17037584682171408312 0.13216496426048940371 -0.54678651692203128487 -0.029621471920824905821 0.02258429996340337656 0.13632462589134039521 0.12318573035864313625 0.23813825375278646623 0.093178069156721984867 0.31928165471950420429 -0.11360683090584626498 -0.0056476793310090344855;-0.095554205667510966338 -0.61301824596082865604 0.3292822019477321116 -0.033928407950670355642 0.64018602194202967048 1.3437311602668788879 0.07666792550278364593 0.41499603537055890223 -0.080937777072106850684 0.6819970677396974823 0.083585921544189908938 0.035793984758404187585 0.35422864759103828147;0.076236767301620156356 0.88662349507639548474 -0.27488012731797034638 -0.30560573454788170222 -0.80605877336076614537 -0.42391022224497287851 1.1460211766293131319 -0.74960778992765697559 0.05419355259881970116 -0.44150915503863852329 -0.078706433046732637848 -0.17145273494046681106 -0.068468477354106591082;-0.23499426906519099711 -0.22503733193224983999 0.35501480889208869574 -0.039136632810720710374 -0.19691681688884740686 0.076559713767341719404 0.56591036068880051779 0.1737923424026214525 0.020663608726411486494 -0.73733246955930209499 0.34934710983531702677 -0.0045902993044977004333 -0.17740160778769803462;-0.31466063789400661177 -0.79430317709035480611 0.44325151449708483087 -0.0086315836461431563048 0.1119955424538982558 0.36758065598970179888 0.036143292140911394139 -1.3401741939133493542 0.14257000987962431537 0.25772801809656326055 -0.5086467176772321297 -0.029548984904756270264 0.073672002224655988578;0.19489418452624315825 -0.47847179118030469525 -0.77074061596376131078 0.16849604682768778985 0.040134733427597359123 -0.12620653188431285585 0.20549850144418718711 -0.97928900778062899501 -0.052112056043176438469 0.014046019101938962345 0.13688789768403772373 -0.46548167345981367182 -0.061686347379739860097;-0.37639953349005789152 -0.035605265080234330122 0.19416424479473495812 0.10642048712931562182 0.16199826320568927462 0.18516845173630139265 -0.24551291713403994299 -1.3522034815424879284 0.16594935701775964665 -0.3030746499382012682 -0.65406419191593234697 0.034663509665433814289 0.081425687685314315778;1.0527998675176084564 0.15263243440741744439 -0.53000404954418633974 0.16433569457152766291 0.035767421056920545297 -0.099101778907333945567 -0.038552777336223711946 0.023509630970883030332 0.24741271864608960218 -0.29037929480430735296 -0.70081674873233712475 0.336982629891652119 0.14330856591398163924;-1.123277152697018666 -0.87309734219231838193 -0.099617000179986162078 0.13579277478627116427 0.25702426977267706087 0.53012299018169473097 -0.34258159827097817152 -0.37835185177751196051 -0.019036035135349523018 0.4679157908454609216 -0.83190403909062093923 -0.10706381218794282228 -0.068668951319443449766;-0.64383832875551894048 -0.32245582131662592351 0.096438153817213934094 -0.086268198088583505911 -2.2055465243416699783e-05 0.68244355757156227593 -0.68647590385333434604 -0.4371381256710850649 -0.33025532088415976428 0.48656340341251314019 0.54145327520609065619 0.081022692446489200102 0.019530067389669589911;0.6846976589830522375 1.0045555607599427894 -0.33213299559528702831 0.30805983269378867107 -0.5929991945383198404 0.0092029834878842118467 0.14324161168208132677 -0.41113222859818121524 0.069689882258700222573 0.58226967666361795217 -0.21476469237631312659 0.15587461816235609335 -0.014975054167927936977;0.39161413041112458355 -0.0066179232039256493184 -0.44814159805160580508 0.50147009395054997771 0.42124220399468831344 0.01097576327645565647 -0.51200477851728953826 0.13970538817289590572 -0.026239318536693541362 0.0097834039404309618149 -0.061314443085019265656 0.016842925811407696152 0.004777261101218832455;0.88849217738472230366 -0.34564985351891103216 -0.27057008054137188235 -0.41170213422436119366 -0.19860514730435974151 0.13077481533969836924 -0.17243324686819661018 -0.023219771158855553872 -0.0034706301085735751996 0.087683015488720705832 -0.15032933859843025659 -0.037587916158784172305 0.12684934340277334575];

% Layer 2
b2 = [-0.11505783057377126644;0.031674228942980602042;0.13655201719729004317;-0.22564805512316205016;-0.025848439831591830951;-0.26307599670139131254;-0.037893519380398268948;-0.89741840486074264671];
LW2_1 = [0.25161679880116366581 -0.14695986855211345956 0.44668381094853237823 -0.0051306900830981327921 0.088320549173271867271 -0.10262373227626125916 0.16744515432497381058 0.083271984425017223086 0.1163326793900778533 -0.13465492890066665943 0.1051022884569827176 0.046665916170964133469 0.087456461077476330135 -0.37864781873371960996 0.10033587179178199422 -0.11291208727486061469 -0.022458887735117793322 -0.11735308494481934416 -0.2840488393462726191 0.032952361007133480764;-1.6319286579974912055 -0.95178649449879371147 -0.43264800887683368957 -0.13767594059542731522 0.27103243607773280788 -0.78517798387828618978 -1.3555535156514932904 -0.42721342930428746199 -0.40472787645573404802 0.88677408028878623725 -0.58208091053404520387 -1.3397632068881382139 0.88229245589286464657 -1.3569271408951688596 1.2798640109495798001 0.72120099126410863732 1.0613360788245518318 -1.1705944519396553893 0.38516822845920567486 0.7416097500457187186;0.055371247492294273229 -0.073167148398564252343 -0.62467640737785290472 -0.51330442769604300857 0.58054880623624716129 0.25717872369521665998 -0.051974980352403513106 0.069539229064839280792 0.099746717619618716077 -0.4712923599454922341 -0.44146801751862202456 0.078778928360614272619 0.027018534764796840741 -0.047322793263335591329 0.12478426289679156458 0.64137238602963142498 -0.0033678590180425040795 -0.17847988902233580255 0.50433783701450307646 0.07412906928779437743;-0.47143480226963113688 -0.2062164716429916167 0.53895518918916718309 0.009065156171427911358 0.10166342372084097301 0.3128610243785632794 -0.11402316945952414851 0.26648005862217144513 -0.019438982469593968361 -0.19619237827093202742 -0.42586970700295445624 -0.01529091236206680908 0.17517610404475048025 0.097223870698523548461 0.35578109527063028761 0.32960453388143839959 0.036333450759094061688 -0.12100549839951481312 -0.41969630386853612469 -0.14192895047518450102;-0.2208517389980007295 -0.097522198796793121978 -0.1086735279049332592 0.33187674241105030726 0.062516635542387954949 -0.13839439401036690569 0.078117617551848261837 -0.050505056055642691404 0.02876919134819490298 0.40630944513713240784 0.094247294151547561514 0.21926757763781437593 -0.36909948891537186499 0.31417146385197780578 0.067981385284587733664 -0.41361297831485288601 -0.19805058074552625569 -0.2571766894868141029 -0.054389417615193474953 0.46125642341617845155;-0.20455920827663337525 -0.16225037337612180366 -0.32968427496836305579 -0.28690734236856202388 -0.25868199527612356636 -0.10781035680727771298 0.039438080478224599168 -0.5103375499139988225 -0.011943457370901919626 -0.055549039312948952918 -0.0095942115590645082879 -0.0064107496060371998992 0.21542537898521427198 -0.30336496962855902249 0.19652580042491973877 -0.26725588862857990735 0.063477406016518592158 0.053394645696986778316 0.2819041348416312931 -0.17567547658811336064;0.51007935097064283081 -0.15033238183331293358 -0.43830785203447714116 -0.31835616740512745482 0.2607294551684009587 -0.069050033701207227943 0.34962388347030615154 0.039094532710546463228 0.33092847036188816068 -0.23644145080378431434 0.069646367868495040465 -0.09575947616374964888 -0.25884246034933111602 -0.37488345736031536415 -0.25148695881064209168 -0.079249399974353776366 0.010939641869820895814 -0.28043326228009413104 0.22564409625669668014 -0.24732057655274680696;1.2742345433787898301 0.55319154410273696509 0.36850736508405057545 0.10822131933256794178 -0.1121849732252679227 0.18280558173592437177 -0.44772579568698051 -0.42555276280759096741 0.41857074159334139996 -0.74895165386104589622 0.23998781458400694766 0.085638214284795344255 -0.089135033995880616486 0.49731225658639321985 -0.26352723066914429673 0.97961417316069343553 -0.45734843427298099705 0.47025865552949219772 0.50295245199262339497 0.33785515024335810441];

% Layer 3
b3 = [0.25734941820612183827;0.28565995320319509387];
LW3_2 = [-0.63929348378195394176 1.0957499719473222655 0.90772928865903890205 -0.97597021898249658456 0.23006099172311003653 0.89281628451523964429 -0.020262379184339956995 1.0767886528043382199;-0.17495072730662247773 1.114682617123996522 0.85092449245425505477 -1.0148994180047663516 0.18840394140146504709 0.74551890305872658971 -0.26612721135570932551 1.0442597699612399254];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
