function [y1] = NN38(x1)
%NN38 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN38(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99951997750386;1.99936559473458;1.99973903355276;1.9997557214851;1.99823405205142;1.99990108021803;1.99853414058491;1.99805053845042;1.99828452760544;1.99834079432047;1.99810725627564;1.99819795090968;1.99902189548407];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.93222217713405897133;0.193680054390138634;-0.97193933976840263256;-0.69804886877763194786;0.22655099114683527328;0.093229888559013707194;0.24005223245043563751;-0.54015167020048748814;-0.041310362814740368698;-0.69642771142057580125;0.68679732063843468293;-0.22320451076371150556;1.0698863990246374467;0.20113874769094797212;-0.65925067061192299533;0.43068276823162232603;0.58292216532695539932;0.31810320606866965276;0.060051055774579656377;1.266455191649703993];
IW1_1 = [-0.40803977922280049162 -0.76161020574050408705 0.085229988854069058113 -0.43976739330218700408 0.44213346945049147863 0.20628507797808023905 -0.004116162897521578358 0.36082748821957366658 -0.028880940371848518033 0.19610679563229010958 -0.16275513241477213011 0.27950398525763436863 -0.026840425251540855206;0.7182300911999842663 -0.00073837873071551200777 -0.85186477556345685525 0.32381524101391823134 -0.38310659485582310158 -0.2187382237813989827 0.36848980076157961117 0.91635606802158409145 -0.050819646931468065443 0.0094876442294715285231 -0.67575779351950981955 -0.076637509925110203213 0.0051735306755217418118;0.97815026960918705079 -0.55489467501684230921 -0.75343189404660892983 -0.40148958715819837995 0.017410391723257041818 -0.013934582601657693329 -0.70878826485717338901 -0.087233426512765874228 -0.044530265459161333386 0.30120256141681511775 -0.33429730518908562509 0.0096149875901931289301 0.26236878561609611182;0.47006537563713418626 0.51610893237772992315 0.22905811952410737309 0.34718040831443652827 -0.21214815582915988457 -1.1220803094409184109 0.44452909520095690299 0.68216191360172451219 0.078322809093994527618 -1.3108971558202173746 0.46378624838820958765 -0.33577509300068431042 0.064266564397849904045;0.43713452933591123717 0.046685590545560158582 -0.16339614143172442873 -0.1713606307615954949 0.11306934481827204952 -0.37038238721519523011 0.17113491662489863088 1.1945076007994921419 -0.088653501325209507766 -0.04062237737030631457 -0.11773230243611457202 -0.061915070559051051113 -0.10411821039902983965;0.44123435888804340976 0.087203810509155224584 -0.2594588275362955665 0.34101908429654109733 0.51870726894911034499 0.063233829373707306498 -0.56519587760542611132 -0.068196780639931064982 0.031883468598978156883 0.0064848793103968217777 -0.11701269685165247014 0.0074236542792993475554 -0.00046977811310209486965;-0.48853815793778854193 -0.16255955636639377038 -0.01573232497578952449 0.1614300658205610195 0.32667767964478017229 0.053808521465077356616 -0.35913553065456704783 0.14359627765711557856 0.00986657221499431282 0.045070508930793562463 -0.094075410995605360243 -0.017048621721322047146 0.0048364128906581262471;0.63135691143236449818 -0.85819623346368878458 -0.84666688006335277805 0.012262131648180518706 0.33164624379411461463 0.76293346157347885494 0.49020772765068992838 -0.14472489315774036966 0.10006141939607660074 0.39079593992523542489 -0.1847902823542634243 0.0076847329184245851894 0.061800053703180111986;0.35757212007507560569 -0.78686559093280006305 -0.15346665056639599567 0.37028956294793957671 0.68138116726497910403 1.7490867195221280195 0.11183874409322029642 0.27930100802337759491 0.68133368296225349514 0.70062357297573041315 -0.017213942906224258267 0.44234433863918570795 0.4785425452302057292;-0.85589614771927002845 -0.15327597097396250536 -0.63335115620510240575 2.0382339654141681251 -0.045312331423778828832 -0.016456863686378556816 0.0047339271028651172188 -0.021494574479833300495 0.049555198909574819932 -0.14864844513778366353 -0.030193694253789926663 -0.034632897065191736719 -0.039284817142010652891;0.71017955094735862875 0.68409499310467869471 0.43884080397435848431 0.27938645771249076555 0.03837604885370772545 -0.37922151990749131123 0.18650764462797325693 0.20412314377855955705 -0.034260584049984624255 -0.76722664981979027399 1.0625173030361447779 0.28316681103494423244 0.11815551966887394286;0.2697945852989785398 0.22959911648192285472 -0.0028900781746322460816 -0.061967994102658678635 -0.22778901508063384429 0.092615039301720117337 -0.24512400222210362077 0.50782151412804921176 -0.17096629196083812374 0.69504398454522975381 0.24162153252036477902 0.029517397089415104566 0.048480625230847736173;1.7808743489942477911 0.80317677699855816176 -1.6578970844312130861 0.75761655200075050942 -0.071736784883724438733 -0.32074295885788334237 0.56726394004257485459 -1.4117009283470067782 0.086601049691911430317 -0.84092463873475420399 1.5313898590316699089 0.20406917700227664159 0.014834740813431661344;0.046688476236567216793 0.71056816871403527536 -0.13196097115128399557 0.23580154532291114355 0.035007041099337270207 -0.16158123737187274349 -0.5905317670686229814 0.034415140538291866257 -0.069470815983646239111 0.33304838631074779043 0.15069608017418420487 0.13016656301782267291 0.010180133822206631836;-0.96999397427710976061 -0.35085879787220980441 0.2773395486564103618 0.50254379917527303157 0.26028906873264495703 0.35321335640196427352 -0.72174927833874003014 0.11365962255433112449 -0.032949653157344563348 0.41699401176954487003 0.15175879260282737482 0.088234778476276878867 0.040731876262771513075;-0.35927175609695716219 1.1103116988456629421 0.56783669849887885572 0.73437472083591670557 -0.16078347072591669953 -0.51745236642336378541 0.23631659807664956441 0.46857025886137010362 -0.18994636738679235299 0.28199820951612974973 0.50823834685617474971 -0.15718280993820171743 0.2655121437794794037;-0.417445852364722092 0.90605249701573520316 0.45347187343114436775 -0.19838177034719581271 -1.015288418073486465 -0.58378596572289076505 1.4906598984394314744 -0.42055374054410571416 0.078218948325697326696 -0.84430609633823416882 0.010097962482208289181 -0.0037639073547683305279 -0.084430564384423534285;-0.043331120130053239758 -0.6129798399815795662 -0.19419407821948464488 0.0097225697483113437958 0.40440854013181437576 0.47823559283908523287 0.13132946110353960201 -0.55776272731334519683 0.060839193995378779145 -0.28882932516755521757 0.25958312241926873032 0.34074602802596332118 0.16545610044348232903;-0.033914267812300204208 0.12275257686431995108 -0.20762037655262643998 0.30142884198413777419 0.11128558503045821171 0.27634117507080213638 0.16971124046520300044 0.61914848907456521143 -0.053321868175057567096 -0.05401554122545895037 0.24099148110984996984 0.027472659969176239231 0.072120440943239494391;-0.0037890282181804353645 -0.85140936024665669901 -0.10073830273747926001 -0.13393566446786078772 0.60365979717280704442 0.44492323617864315555 -0.95246472029568551854 -1.3827197488894849009 0.092795067124196842223 0.54359582008705265022 -0.052957790183756882352 -0.1123429033614053163 0.056347587420634288879];

% Layer 2
b2 = [0.020058724652671749977;-0.53141462455060062275;0.21043268827391339859;-0.24992082220588882069;-1.1671819158263188054;-0.24459201368519206676;0.56973298939270411445;0.81972255514539338339];
LW2_1 = [0.53782481427650719041 -0.024971629636673414038 0.43918021769693960099 -0.17206442825572643152 -0.37083360553309496765 -0.41192614933490090401 0.16827521098256281729 0.54689295695456352497 -0.18891936088040153785 -0.12649902875116064704 0.106398601618280228 -0.32856852240612921534 -0.074353878914545978862 0.28558683748542529335 0.050437803726716815 0.22281427228143801944 -0.55381399613139359328 -0.14803989762709648947 0.076403191665385811193 -0.81268783329269556059;0.480546608761007632 0.16743164205543265011 0.40024201319705804414 -0.14603782459692798978 -0.13188861275072061296 -0.13222752384748193144 -0.058140305806855599458 0.4768839596713413953 -0.23347212990683105516 0.18227199913032227085 0.075890783751201965068 0.12351435202341082276 0.57737869987759216084 0.19196257260228269392 0.40312991369274275844 0.33402127799416642118 0.19342564323521127534 -0.054503147470890744852 0.37882897823510502944 0.067415386419427805742;0.49806880306032452754 -0.25981631010699329787 -0.10797249600834270267 0.090151825835056251246 -0.25067268383172464086 0.13158230718982172336 0.40768992995050473693 -0.051526280369761361111 -0.10994242474433421619 -0.17105530859781320485 0.003209852053929637683 0.075466168265765007361 -0.35467501766074177594 -0.3628530009881595908 0.33584495565713579079 0.11078066723043211717 0.09130107302470522046 -0.055429308650566583294 0.30321736977930313639 0.072516643254222051818;0.28276769824281827725 0.56781403503328886639 0.079107936312449972371 0.086840804736499063732 -0.19471358731480953308 0.59908019815191171364 -0.25475540360090759284 0.28941420092492664562 -0.022494127268386159696 -0.40378500483216667183 -0.059656039086310209962 -0.26248965421867404002 0.50334168488122976726 -0.15582424589822821415 0.58928040932645353589 0.023143312444788212423 0.34661674132950570648 -0.18069608604187448186 0.0056674332185036070675 0.029223013597116636458;0.72228121308528270283 -0.91103248228342537107 -0.81277905118061222201 0.57215637026978605206 -1.2530402599335255243 -0.92679024642455987149 0.26728157787271084045 -0.56013724828542865719 0.34686292535448920438 -1.6673252397837075023 0.68236077435313746697 -1.0642661518913738572 -1.4906280473596547065 -1.0053091386480725866 0.99791190062181167608 0.39650761433932368849 -0.85168973294698202547 -0.89791894363970037318 -0.91399991907053057538 -1.0425926953465185498;-0.11326440460112546793 -0.2960392931306834452 -0.16935897408395481079 0.086531352654234089394 -0.1962756934682972354 -0.53214445305504287642 0.61721968688997375097 0.12026694142071606142 0.081755622593368118545 -0.39624181285551118847 0.47243128388231764303 -0.087348762385414474574 0.36918629299755106876 -0.27268787399979427244 0.25573597749611742813 0.028828889161614357217 -0.22402224718123098235 -0.23102620439193555235 -0.5204324545735894425 -0.45959720518601249184;0.089859393829882477922 -0.4645461613378085719 -0.097876722921615907924 0.049763334838061806797 0.045587334083114973426 -0.42900214326764890549 -0.4208155015076045502 -0.09332300128539058881 -0.024284119108336939957 0.24660123819926169086 0.34937483338709351965 0.25340534570252165603 -0.3094245095983549354 -0.32000382556616518981 -0.10988615154975725496 0.11278544075940565017 -0.48012449556160319286 0.053183314377563795095 -0.54441292774603600169 -0.25235945989058317096;0.090162145738232724046 -0.89702607617178165 -0.47804816840089892072 0.19444892153343831809 -0.36978121913959044464 -0.13263130653434962447 -0.059488667354697558065 -0.27466621303755350825 0.10576226506792224535 -0.24599857441412387171 0.56926609376691261755 0.19227354274459390604 -0.64724423614858417331 -0.69151032581644833463 -0.17279999681904731346 0.0048318228965744721565 -0.75235998293301009632 -0.19267311417287963371 -0.51802642422267108913 -0.68517241464357991898];

% Layer 3
b3 = [-0.98355695087814487554;-0.88987031389935655756];
LW3_2 = [-0.30654553434741838025 0.49601533690567256585 -0.74312767246910849117 0.64094613099718100724 -1.2415812388080973427 -0.83378459519514724896 0.019919195967719509344 0.85646349401185417616;-0.24027048684719792826 0.24433689967603933191 -0.58330338333607234524 0.73750662462645433237 -1.2660505981343368465 -0.6915975509360429152 0.36666866289059252271 0.5638082404040867246];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
