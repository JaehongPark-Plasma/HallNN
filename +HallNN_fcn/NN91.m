function [y1] = NN91(x1)
%NN91 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN91(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99947385220193;1.99946059401488;1.99914075704137;2;1.99832569211155;1.99919198944677;2;1.99809585818686;1.99872952503983;1.99929250145492;1.99835902417769;1.99941544242004;1.99844453969722];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.26465198596445765888;-0.48868987906954436395;0.16372146354280611713;0.15038887985085527821;-0.14749907900817391115;-0.011715163238051339717;-0.24115426113110866035;0.42924847697745283082;-0.17172175850561288701;-0.20146833418608137145;-0.27463183048593148294;0.42474410065684536919;0.13791032363228139523;0.39972245381027338151;1.6866534174017562275;0.5652232581891288854;-0.32853535910300968315;0.084084924327603602356;0.072302205492222534899;0.54581503486037008521];
IW1_1 = [0.44021554739947332813 0.52383380248196376172 -0.50313210521291618083 -0.080579095507289588696 0.005167301079022447452 -0.077096885647869942138 -0.045070899038901143796 1.4727636028303230376 -0.17415896604293243377 0.13841099245035140552 0.25813552007678419731 0.058217467331150185572 -0.052134739654436636214;0.4649442734383084086 -0.56700618811094360971 -0.59050816476636347474 0.080269199145702810338 0.037007563719624068932 0.74231660297369539414 -0.03733103520549201082 -0.077046049687193252087 0.22886255100710217736 0.3295395088818752205 -0.14439132517892688812 -0.14908430620508297815 0.010842367929086252701;0.24956862313651670404 -0.078039458184473664559 -0.19712681030253514924 -0.11632910989601795426 -0.024857556855634344029 -0.054258413187468532146 0.15619124917535162633 -0.21897750174793359501 -0.00079964499376275076283 -0.087291492249298455186 0.034588819116930541453 -0.23255579202362103297 -0.09561488541031418209;0.73377389645411195129 0.018851243826419675914 0.3292971468486551867 -1.6868516183293842392 0.24497588292446903502 0.16768942197312716735 -0.018722637926862028407 0.38869862873911331658 -0.011580826778410855532 -0.034501405829003857495 0.14150433873499701498 0.01086208608060627509 -0.0048854519983552221335;0.0062771850809893179127 -0.43492696378104489519 -0.22941095911124564921 0.212926025970664623 0.2283454090232118483 0.44540923364915219196 -0.50243683476350664563 -0.45264495320695413705 -0.028449696627106297458 0.61802998532807018606 -0.12243102474106655475 -0.043448232282015039618 0.0506955910210316954;-0.33962588201044224823 -0.20911437409901659223 0.24592081445266825157 -0.044273750718249148262 0.56365133403856293448 -0.11423771706105750878 -0.436220016468986449 0.14970917659789584331 0.051521600805994438588 -0.21068262447871682896 -0.11732434217388362785 -0.068489338263978280508 -0.051402933602542763558;-0.42564404154749330145 0.07794473778298281752 -0.59375033931315102098 0.057262558000805666159 -0.1447196658936294178 0.012482295156045417062 0.10644931873544780099 -0.25566338905318686248 -0.16850783575562208738 -0.47116840043384200509 -0.46144217003483961603 -0.20282556449127811526 0.0067768371329454298035;-0.34440738090966693807 -0.51312917315346040503 0.015065964069537571279 -0.0077564046386814728892 0.80573052827112490171 -0.17465418958567843766 0.14955433299542877923 1.0729366348304993917 0.0038282523169660396568 -0.64704043574947356365 0.25692134637768476724 -0.1241133410646911156 -0.11373598612676311115;-0.32813880312336884959 -0.1464614347349385004 0.52276570123005094981 -0.15151230521967412601 0.084547527309329142953 0.27899482091083754876 -0.24764673574707085635 -0.78394614253822492156 0.12888127102647617406 -0.12553130035325674174 -0.26062688870354155934 0.051678138883213271815 0.051532639079032216411;-1.2477486553288674731 0.093425315870325598144 0.76926665865238108566 -0.31424499064871680432 -0.035152287384289306049 -0.081426714361522073427 0.39575220647894787662 0.23579459023622972857 -0.24199094720574140793 -0.018919813684300360035 0.26927167377477373433 -0.13960289201525744041 -0.064596866986351794693;0.45985285886678650691 0.11693439104168763809 0.021267746463370585525 0.13373903817390039861 0.091891589559396913423 -0.087603601683615611728 0.031861474404212671019 -0.31144471059737505181 0.092093090943494146372 0.034575026502194225464 -0.090867007251573220228 0.063527672524257297604 -0.07605489106392504528;0.6341519230473527946 -0.46546015460441031442 -0.1766015299438602193 -0.28238731786718263006 0.27141856690586990686 0.15223888045538389036 -0.1930655604452066465 -0.39449498977046471015 -0.14341555128752606074 -0.1649782746837442915 -0.081843680025687093327 0.064000485650814370464 0.087768840363460248755;0.39629189397804831518 -0.53888464414687464732 -0.2313893054633779367 0.34792048739191527851 0.9799991234095080106 0.28319570944885946728 -0.78802095652291492822 0.24891912804565052841 0.026462053610724740882 0.57890993533347778754 0.30045911407963754591 0.092836649985656993778 0.1205332477260290247;0.77816189795169632415 0.59528212139071812192 0.24451576267259769737 -0.06709563569568376129 -0.77105727687474323595 -0.47320409654228795526 0.70812363406432721202 0.57586936483931105979 0.077235995615534111525 -0.29229654724626669138 -0.22282067315161191434 -0.049749492943738808648 0.042762308900958077851;1.250304943338628183 0.79550114009440053842 -1.4376225437380256711 0.87428140289452294098 -0.39991079403269846892 -0.37855287290288436308 0.790892991402749157 -1.0146598714656114293 0.084532212539972576004 -0.41698201131792134166 -0.0084139488816025748835 0.026043472520116513896 -0.0011120080508363961239;0.3223929106943384526 0.051382320936357819829 0.17048754394822349112 -0.66319699618553606957 0.13419547930425171356 -0.10069398925018470392 -0.17819001606936388238 0.30331855268598950648 -0.058371058636310389767 0.00088954058925906631661 0.18107101055690991154 -0.036011321477580807149 -0.084581834409184444845;-0.49728815636480627749 -0.7134341565484811909 0.44873422945054497468 -0.17209325857470414434 0.27775389491839846956 0.55150643666061549553 -0.69792121310385157873 -0.65447092393932893017 -0.083933622443174815686 0.83846503490273371906 -0.055364636083317458892 -0.061325610908842392854 0.040056363954496757018;-0.66431590395266759685 -0.029214573689966057135 0.54519228787422857607 0.69113576080131200463 -0.06108486264993925885 0.22360400793493043214 0.48146571260828535666 0.34149397430161115841 0.3108093612789596949 -0.14472586539833093289 0.51505027643511647195 0.1017392112737265375 -0.18592610673944826027;0.35637519990143928794 0.10521705584598092797 -0.13104677160293282112 0.047551704579462041045 0.5717515723296814345 0.032454737437849996706 -0.55983203893915423066 0.14368543729189911518 -0.043941883452718530356 -0.07757945338025559745 -0.02456764983493212387 0.022758431578123804878 0.0098441817861181901;0.099289954854106174387 0.31681608599361754663 -0.34729684808013006059 0.066229583022597710018 -0.056431994979994778983 0.030208228837596863559 0.12001224715860180081 -0.92032659508962411099 -0.0027126183645554895023 -0.1052782348205762164 0.17377061580101732519 0.041856940197302447415 -0.016204083562789486223];

% Layer 2
b2 = [0.10017525593753270896;-0.34772611107349005177;1.0223415473548445043;0.07762350524208659619;0.097812278287213366701;0.8334326925177877321;-0.23949682264131053056;0.039817453602425535719];
LW2_1 = [-0.10762629852208131787 0.042709739861015200146 0.042581524211964177917 0.024034784743267895157 -0.17140039057669009814 -0.034112792440788096415 -0.15538024231174396572 0.27213875623072947274 -0.070657959699838721046 -0.078216804044028184761 -0.022953811529933892954 0.36416981962811323381 0.072432768817966161623 0.31930062246953883065 -0.076470533456512543302 -0.074068005082564253305 -0.14060620517367394822 0.11597025601663729644 0.10723841209033709021 0.11762834383354225931;0.35422178018630873231 -0.33574664352237221232 -0.24489312382394951007 0.26356678453259479999 0.34092668393994690623 0.24855629862451550371 -0.0042907626114597873651 0.26403694096997637475 0.72403879630835921155 0.083552155487133863976 -0.38948343656892014941 -0.43312579109909155051 0.30573011423335577641 0.24495493252028380238 -0.29935361372869884189 0.14768397600806312808 -0.013343594855224081078 0.20442673923276558079 -0.47679190213229061257 0.2177801195367032594;1.7798803852070876896 0.70042714535410055543 0.49682985790513656266 -1.1056806920498922775 -0.30040075160092799544 -0.44510260196185491566 -0.71023837501192943478 0.51261005232356116057 -0.75167340453096243014 -1.2236247830267952263 -0.022254848957483686772 0.63389657136882249233 -0.789460886565878317 -1.1372113403994181802 2.1680031880354229123 0.159278763901297582 -0.14670277271119275264 -0.94874523458797688225 0.1653813692667303048 0.1398637045070704743;0.38064659137161171998 -0.015227831964552230454 -0.051083385440124459698 0.25126731328478224547 0.35008935057933554535 0.034089554434313135145 -0.6687722406193559177 0.44807811671234598627 0.46258300051848894041 -0.050771671240467677877 -0.02840947451765267473 0.20798899680087867825 0.41930300846816098703 -0.59862062516131597789 0.0010717312136356866442 -0.15893989598815172481 0.79331733480986998952 -0.43959119469859891938 0.49025635996086142088 -0.88935632421996280161;-0.43158910167537628544 0.47618611101956814791 -0.22995836077977019341 -0.085230462359241337955 -0.3071893718989864297 -0.38054823769648160603 0.01313418219351815755 0.66664492578747924778 0.22198720743174391035 0.16015911688217282505 0.35383532650645499462 0.47007867475114828437 0.023082604705734602324 0.065795807430198180454 0.29396288601196435275 0.15118336812225266486 -0.63888420492059283529 -0.22935267627650599009 -0.47261961642281830054 -0.14927275111262400253;0.42740409985596222731 -0.22875372443732577832 0.10216206175753465846 0.68350142722065421186 0.39982648538058845888 -0.30296745130155583459 -0.17491200606194889922 -0.31027246695609561611 -0.17937070113472028399 -0.49465189749827787047 0.25601571008956186537 0.57747160719809831342 0.55142462930548052924 0.33402468293009163203 1.1992991726182797851 0.66313277427402639308 -0.38209923610496915325 -0.1063227078746077775 -0.25214615581896754337 0.5835071065579732208;0.071462515389185549131 -0.091097449951632381016 0.17972270926377936773 0.085839431013262662562 -0.50226635955842513503 -0.39790888146399788772 -0.093125554209495267632 0.17035586267666136262 0.15637249368229275137 -0.0091514644564087734013 0.23618214595259803823 -0.068221622742316828658 0.054303887975121721554 0.17928252613592193798 -0.092228823020779143738 -0.28096263814636196487 0.24554123995279528159 0.10716830903778255812 -0.081392716497364125949 -0.22327996360206150972;0.017992209673801336234 -0.14192110151270651008 -0.085057715393981075946 -0.033387577168744700384 0.20823399523687136092 0.4372052519017931016 -0.051128693455380166966 -0.01416849300148955576 -0.16727223712802791189 -0.072785011674738941956 -0.14864450214708430087 0.05103342881766465694 0.014941560738258355054 -0.0015447557103667884822 -0.22543982358596847959 0.24668092098465160822 0.0072299734752017535966 0.03785766921781436728 -0.55471636975896998489 0.086777018007228798324];

% Layer 3
b3 = [-0.23772864564805420984;-0.27245431506192768767];
LW3_2 = [0.48015106470568069685 -0.57247561197885221684 1.5771102997193571227 0.14757622969984715566 -0.37735324678018100641 -0.92866060468735300848 0.89566859576314250546 -0.65751992456150820665;0.48207043818161698923 -0.65613110540406560656 1.4797694364466766892 0.12909853769505372223 -0.32730159071584391528 -0.79667419052064847307 0.90006959817884124586 -0.20737288489482846865];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
