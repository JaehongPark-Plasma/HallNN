function [y1] = NN96(x1)
%NN96 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN96(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99966712705397;1.99865549882027;1.99954405161053;1.99987038618682;1.99844468110289;1.99847398531387;1.99857080903261;1.99861904470814;1.99901490224761;1.99918365629163;1.99825242029732;1.99963240237335;1.99968270878678];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.63362414035323955108;0.21053773922404073193;-0.21925453342369335963;0.15725410175433543469;0.65938861834656292693;0.072544523021984802513;0.55708350581081222952;0.13002678634164033245;-0.025912881698467699065;0.25483137729494098611;-0.067919084142485597333;-0.28647737611457968487;-0.59733728453232093347;0.082661082863812421206;0.23116394593563641124;0.82854994956146421625;2.1132978424987212129;0.47900677548537612394;-1.3317502983966833519;-1.022285754429663962];
IW1_1 = [0.20981237035401514857 0.15365402741679407006 -0.20726049328175913389 0.51806581233302528844 -0.08562387734460719102 0.017336544919837437728 0.10936325201292516895 0.54561398817218265123 0.083852060952107621006 -0.12499004393557289205 0.052483577731255282028 -0.085735582743592581023 -0.041750684392734889461;-0.49048474116430951231 -0.43000592511174262622 -0.099839316177093795357 0.24348591128747165691 0.20635603961098167303 -0.064765972197768403862 -0.16804691315758926717 -0.041356704909898296674 0.11581446555458568826 -0.077089063334782145787 -0.15622397719849409614 -0.065429298176497230344 -0.19002061119976412784;-0.26960282537095481281 0.037821915270920228314 0.53053409372756354934 1.2805666501821255654 0.52155788914895684361 0.15485512043064483811 -0.47570021220146929686 -0.11949432794157169302 0.22220189803451001476 -0.1213454659914720013 -0.36339920654075380524 0.038597932588745359483 -0.14634526950206164231;-0.53525405190163288793 0.55677353053460088006 0.33355042214655361565 -0.00074223538020629087342 0.064801316400238631599 0.17864705533039149099 0.83674064353648480719 -0.23924497032626465542 0.39380904034778457801 -0.17341142945543658316 -0.1433495296760991522 -0.10598064016333985649 0.047556025066253733435;0.030450183183477863569 -0.14072691668699954803 -0.74112297430457008129 -0.030536706689279848742 0.24242619537948012498 -0.23988097233451968759 -0.084784327278444732157 0.2536769280193847953 -0.14352741019741260819 -0.36537843836587013957 0.72253388848581312498 -0.033358380644060318942 0.068728767207476768042;0.00057693352166112571444 0.19723602753852087499 -0.26792664570863716778 -0.045102547854217980849 0.26372745454615531546 0.15640805412619046555 -0.3613426207986975558 -0.24647982521535197198 -0.0092250846768282719623 0.033136587084140578519 -0.051045433280358279426 0.038887201094862794415 0.027916863215432827922;1.0097895079724925615 0.97156325373511298604 -1.1304311069455503791 0.59413257482534553855 -0.76061869905438217465 -0.63739037537979759129 1.4278818384696945198 0.40756665841350647739 0.19811576308896503007 -1.3093432673047920023 -0.23415697563069970411 -0.034061524562955067252 0.12105546399783168043;0.0082711251660653843654 -0.40821392265859041126 -0.0032615419139573362077 0.012203100974344887469 0.50308626077834728285 -0.18510261902777286336 0.38100680608488946 0.24540372853103928352 -0.12718461770009875655 -0.54955034864586027599 0.56352096551412378389 -0.20666966841407063971 -0.18052838584728303495;-0.55281647158880464765 -0.18765080755530547107 0.23592707659652684127 0.0015090036935989465869 -0.093529195338241680191 -0.042617428092039832954 0.064626392294608189792 0.39198648770153166065 -0.023162785940854562633 0.0036122067139201991838 0.21749066082786072673 -0.058489489356292063971 0.011978802875413772921;0.94049292113909954693 0.54635898301362051388 -0.58613453068421783598 0.11280314294595658597 -0.30509221493831245597 -0.18055305777881117124 -0.23532577008721072831 0.68755297312981067392 -0.086859836949150934227 0.51241947575286517225 0.46365611834487802101 -0.014464478983653933711 -0.0047374802957958249763;0.55982863802098614681 -0.54357774529887992188 -0.046111228609863288974 -0.32506532033717516761 0.67163984826323952504 0.52047561814323028972 -1.046068453141716148 0.32948377955051139088 0.18172705266279326475 0.60446978484213109706 -0.11753642246948967087 0.099814773267261236445 0.25116309796201718996;0.42433518024914013145 0.59373247267042728037 -0.70424235591422490455 0.085204746429744834813 0.011404071403050844435 -0.24644063481086295186 0.030319412513092790923 1.4849566900944701775 -0.086252978351941400614 -0.11485683871448737481 0.21144556397705779882 0.071149731097159510385 -0.12551219263970897488;0.10813446756197966914 -0.087928224086026171569 -0.40571196796810032881 -0.56376915753746803528 -0.19907592080424427183 0.16679881684811440068 0.3206079523913589191 0.04381999670082459275 -0.28588492329766607147 0.096910492099865602755 -0.15826801284426023075 0.21457347530402162694 0.51836087707328082352;-0.97227224708228954242 0.064636482218521584819 -0.047799325737099516986 0.96536270874048557555 -0.40373045317879435734 -0.41757983157767319948 0.10154828719220487798 -0.33255359859880717632 0.08136024060027684246 -0.49839226649655676837 0.033435420737638721356 -0.19054107477124748726 0.18360248349605412521;0.085099910994990299318 1.3447051735401645001 0.34397417581292150102 0.15177970990908701276 -0.67410062536489034901 -0.86969781651956257207 0.51301944334284066418 0.84955823015107956309 -0.053927017664300712363 -0.23075456672718402951 0.62029596546210152841 -0.080721503185507498257 0.12226414266275081877;0.44543352614458631145 0.57551138487388608933 0.87418802727816402598 -1.7368221943085941916 -0.32139844236172715464 -0.26497564971315956672 0.352713693461845057 0.01857855796723420147 0.10225294731693582162 -0.37933846706384510838 0.42145194814153469354 0.038570263103033616825 -0.005536178498758348096;1.7020698814809207544 0.61884607335126229355 -1.3778095490044195426 0.37909696666911918417 -0.42111598236241543081 -0.2800519978210150307 0.88594444139081540701 -0.85581581148340879484 0.070313757792136874492 -0.62961533027801031004 -0.43875287409732077748 0.11129662324116743055 0.052552502540394896435;0.57647132080841878565 0.48146463405400002911 -0.1558664926661636474 0.18348445679628799798 0.63080020419761606565 -0.24197970584380731895 -0.41157964503606192519 0.20342167248626205622 0.01095015128449462749 -0.57263420992866076453 -0.13211066940502927403 0.11750290186821053806 -0.077326598782498659479;-0.66063910673611281332 -0.014411510884844908054 1.655860773399924657 -0.77129911904241055254 -0.001950759977267881029 -0.29379319258784070135 0.29375035661632065143 1.5968593320995763118 -0.010895070701557983336 -0.27130044386828672254 -0.64526275894838180935 -0.078606991454982191869 -0.062239268942242305382;1.4520909743147247806 -0.012604792759279092804 0.29507835381819608189 -1.6122999268468067857 0.36423133806991120354 0.022652570643360011443 -0.51792524887571833592 0.025330165015568829184 -0.096309527263676600328 0.18253895309340351094 0.53146891789894734615 -0.069444046395219158341 0.011937487234558334659];

% Layer 2
b2 = [-0.003847008247718049917;0.21955403580213972425;0.15843019266333946415;-0.085962193104164169588;0.16008709369529139366;-0.023251737296896720503;0.62784115490493297429;0.65052211661136538634];
LW2_1 = [0.064933763233838009965 -0.54329253563253365744 0.21036073762390025688 -0.0042485540483691488362 -0.164912294003456944 0.22039105330476405076 -0.33459207407857838312 -0.74028139761767042248 0.10825303933556670866 0.67656766296342407685 -0.23418906486724222482 0.12141830252344552876 -0.12104897212697983411 0.2036623903319098039 0.048304393765313119458 0.089364616422491063852 -0.63212657838783048447 -0.30378849975206934086 0.29897871384215968238 0.2567471563137577184;0.11300621024029529338 0.012765394092112440291 0.28400066703722398609 0.073586896766568918316 0.065958920949071353501 -0.069996174954887982467 0.33144400734569379186 -0.47352947460993749518 -0.36391971874299322565 0.056879549187368809438 -0.83806633859950085963 0.44199884613319934124 0.050170084801827115328 0.15203954002257519251 -0.073168640121266392828 -0.18048563416691573713 0.042216429799232749187 -0.17773074781756295626 -0.75975879544799396204 0.29393924470210924804;0.35147868749730626359 -0.22837531656374443489 -0.071782531526673395983 -0.27800076317286182004 0.35800532633519682735 -0.4504922593556473509 0.0023328105881165669966 0.028889627582651556531 -0.11128809462896910309 -0.13270486277689186316 0.025974351966845984907 0.13261073889263449987 0.001024374382799200095 -0.25601088623485257489 -0.079917159163702969349 -0.17048023047942759134 -0.25619223316098893584 0.06139030878572383082 -0.18509750852744305538 0.0076089354003508209018;-0.22973299515845746477 0.43422590640399749695 0.51351995654413762349 -0.1796307658536331342 -0.071049965358261066295 -0.09123804645270812419 -0.18610037148643893135 -0.18645994199472548658 -0.019241118073343003309 -0.27041802127576985981 -0.059675425325297418166 -0.099586025677150691315 0.48764561892096719431 -0.23677578652570752116 0.0064927761747281759544 0.24135261465304200246 -0.31079752872466553937 0.031352851879061567619 0.02448317176047226304 0.12721235775432301884;-0.37664858119155059102 0.058515608961787431153 -0.093254616381933608249 0.036372234836765798827 0.23403968817990739026 -0.42968962686253081573 -0.7832475729941152931 -0.014278297588338746335 0.18117345427679518166 0.533445562087475178 0.094990592017640068656 0.75349053056652548488 -0.26435312401389349235 0.37519607504659596708 -0.043432896154256481203 0.034127189988296356693 0.50591006881756328539 0.55510505623281680698 -0.39631729361828171854 0.1563201925214221244;-0.15717889299552026405 -0.055475009215178637534 -0.074728848559479685298 -0.02056606560080668708 -0.049146926437923108 0.37364699103071663533 -0.066599924856126480055 0.086098527309058980883 0.61395503804028883632 -0.10551952666209865606 0.19011154426222123814 -0.050911362810084091757 -0.052829083697232881445 -0.083686461322600880219 0.013598510045026296345 0.093497861449757135865 -0.14590460697777085652 -0.0095592372438090319337 0.17710329983787795327 -0.12417251044857174902;0.54550989422235984794 1.0618407449788103136 0.73223980142209144084 0.56610817012360981071 0.94497028540139627051 -0.51119045732170920182 -0.76516582159939683372 -0.33289306991733497165 0.41839295609159676825 1.4106865737123979176 -0.82157492591963210415 1.4489345797802382076 0.37838162313666989789 0.75143285593011277523 -0.5328890621267006189 -1.5128449946205866361 2.1043810686584150105 0.32359418096282954735 -1.7626822392721839261 1.5753763685883530599;0.5057344104690124631 -0.44534460533267578031 -0.15382431735123777705 0.005847605539164056794 -0.047864972772468837581 0.41793878338178763743 -0.42441118817228062898 0.18475311043408648715 0.28162624634730037965 0.0096098770900693922248 0.36298914072795768204 -0.21099327531983924633 0.073017812957946320873 -0.26429927399788921694 -0.0087043771540899726735 -0.118677874252433882 -0.18914638785199017201 0.32775494038505387229 0.31609552516381728138 -0.047158114662974974507];

% Layer 3
b3 = [-0.36583808702554643233;-0.18571080037933909712];
LW3_2 = [0.1494474523044209413 -0.33481987748572500374 0.2663629249906924179 -0.26641562344799835094 -0.91126141717948505594 -1.6297946751567040646 1.4344414197169721437 0.28171966545236665214;0.15976334675289427523 -0.45820702652004835498 0.32759008684594476124 -0.19266544605105526133 -0.89197840711395881552 -1.5376117408318015212 1.4156334905901246657 0.051974151578655813921];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
