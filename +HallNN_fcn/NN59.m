function [y1] = NN59(x1)
%NN59 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN59(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99930511425262;2;2;1.99825891916543;1.99913526707458;1.99944792224804;1.99885454728183;1.99884397083699;1.99962210351406;1.99820612511516;1.99817026172232;1.9983020372426];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.6036415259862966121;0.40408061049849702817;-0.83428517198008933509;0.033762294806184284246;0.65294325671162722902;-0.48111784008474250962;0.71964301619762971463;-0.56891400909757372517;0.2701631809719374222;0.17906007917025040799;-0.072324887564399739648;0.32331048463955536221;-0.29622559800914172179;-0.42775149404631362948;0.40246341048253031492;0.57372138631611624415;0.36204934509675557042;0.39068315860090074843;-3.5142921695686393235;0.20337690911616032596];
IW1_1 = [0.97158750649287728418 0.46349495955274383485 0.15548551879351993343 -1.0693959884510171321 -0.076079141359282759227 -0.17210391977157771248 0.15495983082635741979 -0.48156568840683455779 -0.0024929442022801348924 -0.18200189163662033875 0.27184792481447445089 0.10404349630922565817 0.028936303068692676571;-0.2085099294563052541 0.96358584215245535187 0.55966080526356221103 -0.19671287840912621281 -0.4029297957759980231 -0.90091297892639932154 0.97892983232464059196 0.7677122738112902578 -0.14198928672564897768 -0.69107397023977501505 -0.10656669793679882097 0.084252699965819813355 -0.019808003852526605976;0.41283294291042088586 -0.30424998879143627661 -0.83159666835359391523 -0.34449784236386105096 0.087103268488944507464 0.274104361558987486 0.073454097637932203035 -1.5425749450922647821 0.086568268183998015042 -0.087702506498991444905 -0.20815633452500018064 -0.089927967633759570143 0.058136637723437155356;-0.35908644351992080601 -0.72890600890232160047 0.57483068593000596902 -0.062733550655175177035 0.94660123007320684518 0.65599329759274083163 -1.3753913505814094886 0.46103080518137717903 -0.097853281935557867577 0.86980634624534058918 -0.094742324676847053389 0.16558898732890703354 0.10492847660775050933;0.92607231413279889054 0.30926524652893350176 -0.0092329050011171129309 -0.79360701046442627682 -0.18751019623420681071 -0.16417412318886789868 0.4222680006782812967 -0.20901113609719026987 0.061515920638936821829 -0.29101536605717420736 0.077653676220722264723 0.041316721233701329818 0.025710271012257861212;0.013969495554279579008 0.85709942703746400117 -0.18667477435811458131 0.025726551050361839978 -0.22402879915067383521 0.094378910622341577463 -0.091761036904544415749 -0.29278841962352825101 0.022029238393559007897 0.22807394674101644227 -0.039801731476514043417 0.066148031970612100605 -0.021964636222018885103;1.383514449094873644 -0.11117003381195023071 -1.0930667517222030227 -0.0059649261322584547912 -0.18289050862787928353 -0.32093698674747966892 0.92162867248800428577 -0.081470989923778006081 0.077467990571388964383 -0.70055306136049155796 0.13897448272035781147 -0.032267699065174439144 -0.0096885323870676658131;0.062145444694821173892 -0.54788449238846781419 -0.48113468542177434406 -1.1123804892427786584 -0.022211049755219852003 0.31275725796914816135 0.086370731281776344512 -0.65569063181339104496 0.068382169521797903089 0.41610607187234066595 -0.11208635314814073547 -0.2258670244776823377 -0.14187129121529329367;0.048237635802158250475 -0.071729497086128829464 0.13176601635846685312 -0.22927803454192233201 0.78019397732178985549 0.94993618530101830988 0.21840078885255989616 -0.060124451556293992405 0.057417566061311257897 0.14771984087165396238 0.57599701761445454284 -0.01073868869488692375 0.24270094826381663489;-0.38831360341934911817 -0.034338144825581402853 -0.18176474578146015193 0.79932345725881459586 -0.11199631615674968121 -0.31569023251605121683 0.61953983010696489497 0.0019968061026096640964 0.017341771521825075086 -0.26203306067937809365 0.19228772767871682436 -0.017468947621884629157 -0.030170789261902693917;-0.14732165050749931878 0.11517656175073420766 -0.26614067293230969646 0.098903488299630790137 0.16516802581498171709 -0.018287212625473527744 -0.039244240121950345335 0.14850332885013370343 0.072913834165547461441 -0.015371754532031796717 0.018982942976094322601 0.07731017639307811995 -0.10656697228851193249;-0.079224592901776524911 0.78116099805552563495 -0.20366416105201790021 0.51288704007031393761 -0.40979213226471600251 -0.38316677380384583929 0.45235709076373714632 0.15892001820012618962 -0.030270697710143148335 -0.3074889179486324231 0.14595522784770476044 0.02800957264974600347 -0.12725705879871579418;-0.25844756474150004655 -0.31788588625337899085 -0.67443956157908202531 1.1877275046699138361 0.45149041587603316872 0.070072977940978165012 -0.46607252298467516383 -0.2155531826557623154 -0.051556130227965332735 0.1833551754313090254 -0.10647527838166179204 0.033492506605913255346 -0.0095742544694896736246;0.58400576217609667662 0.34366464926963452564 -0.1491992614244160853 -0.31561459773731970202 -0.03373766858524514245 -0.053549315575849014415 0.045051369399747735744 0.18691742685019818726 0.0012030571381435016271 -0.074363998614841692048 -0.0031608155377313871745 -0.015430745492419104675 -0.060155453793210189595;0.39252672089989776305 0.1079762242230031255 -0.24668343667769160321 0.50475252964193795258 0.61401037546490244701 -0.14397000550192876056 -0.66519510735274645086 0.63374049885899541579 -0.13529833900477450381 -0.60373674288050460657 0.44750606028088729671 0.11897306829695680763 -0.041279299622538380421;1.3413579764507450598 0.8029307199409333462 -0.86402431386054745488 0.11475753004436251015 -0.37806440937322183249 -0.46880234652146307583 0.24424742907671712078 1.3953798259143905813 -0.11783702945302627907 0.070083906763202821755 0.47272085506018651779 0.019582591284100610979 -0.15194482410515905424;-0.2527328273116533075 0.0044222554430370167311 0.14272091318803062365 -0.22517652278576910652 0.19205560102938085132 0.12216873930715933805 -0.010792135868977138086 -0.23151819218581337623 -0.16232826649272175112 -0.17126766697887141344 -0.21885825078870391192 -0.22675251321183428899 0.36341618642053619137;-0.78241047715818290431 -0.34311237592917742667 0.13607912411853009815 0.65165439727135121561 0.21076633449907930529 0.77993410486532910308 -0.44689128778006714793 -0.75413184456538051581 0.31466163360678084393 0.66623847806628788693 -0.2742525302959210598 -0.032516340218611869406 0.16152683693009903254;-2.6344004079559519838 -1.3263386292892311857 3.52353461814624902 -2.1491864659611676913 0.45409574992562384832 0.54623266662548675132 -0.88324593541460005852 1.5136341780441442406 -0.017022922489247211547 0.75157067463511539884 -0.057844900949029498527 -0.18772823348628311924 0.01148596608191318133;0.0085461438132869212841 -0.01091818017607323367 0.23682003921623173692 -0.50630457952480689698 0.23450516562039536161 -0.30849895651479775083 -0.42580604044579628553 0.17935884464518520032 -0.20763890951862765122 -0.10886427951661827029 0.033589037710229079081 -0.091785909487242661742 -0.13366474647153028799];

% Layer 2
b2 = [-0.89299648443156698363;1.1046126243667571121;-0.038983584887590655432;-0.37373277127460541314;0.27286183868283386822;0.083383088462849141997;-0.078289895177561089068;0.60776698483318825073];
LW2_1 = [0.054427471151055166476 0.42143407506990837597 0.099433306052747125192 0.49835919177482568276 0.18392821557732524917 -0.4532937333666746671 -0.37652463987668494116 0.13673157697551618917 0.035987811455425365581 0.4363835829133483335 -0.17740992300065575038 0.57717982447666560386 -0.61879278653502167717 -0.0033677536026376327441 -0.73456469432442283995 -0.28035109030539279162 -0.076731985953909287446 0.12797491899128440873 -0.76897232616207644718 0.085585782660473050387;-0.19516063418902990234 0.23447733229499650998 -0.064351423339960273085 -0.17617163875039709708 -0.18599184501763790789 -0.13665502399165180281 -0.74308550314396526471 -0.37905427123792306832 0.51979175236880670319 -0.34048442350819335678 -0.46107857674865015962 -0.39160542638365325452 -0.46700114359123590102 0.024429439090101152943 -0.83331200184925113827 -0.56634664967481707087 -0.39812481871819865864 -0.63681013495535476743 0.085579592562327680416 0.032979768118122254617;0.053244937937131690819 0.2936290868520244346 -0.04069864388123790172 -0.34658334636231258319 -0.62296716584005462636 0.58072728688948549447 0.43086338641879051714 -0.5809932470474628019 0.20598535954923780089 -0.23577082477248534342 -0.14985506262177877845 0.47726272620708232175 0.48928192285762456271 -0.26078644520033539278 -0.016200139491166772737 -1.3780947292410583582 -0.2156733262803564033 0.071655587744553009277 -0.011206968187723135091 0.075481068473039772404;-0.24376298016644862288 0.2082341587187149512 0.55435763538179183563 -0.31899083936729161204 0.63962116147524650245 0.023018382469523371997 -0.097373219108825223578 0.60329163113713324407 -0.029298173521481864906 -0.25746415715386944401 -0.036054952753096017326 -0.93442379396738939334 -0.14394985294659273789 -0.024984322865146024045 0.22899291467842597392 1.2867405635634792116 0.045256033052255083271 -0.18759996697855230163 -1.0277285020867736876 -0.046604132161203064288;1.2188354906388065846 0.20433801316743915866 -0.73905374819344871185 -0.50281979913402952143 -0.65760936513191448061 0.6804303968113535328 0.62556653193667721702 0.28738041316168233541 0.10545732257738497928 -0.69050462403117840449 -0.35572012353356757819 -0.19531366929533094945 0.3726121077635559109 -0.55996067601909815803 -0.21721366020667434715 -0.33796159846522438874 -0.057741650875050738734 -0.41501560485240457377 0.65443790212457020328 -0.42333168262475245891;-0.66753963554645090461 -0.34108285376097291497 -0.20004095515033590291 -0.072473709205730443839 0.086792616751553891552 -0.21458700754560958157 -0.19885051404465173275 0.52330675237897350538 -0.26305057037323259506 -0.0022954408015309862683 -0.026684879667773747647 -0.74538130890578391252 0.078533467415467642092 0.40101325524588038451 0.020471976230650345413 1.497308695763966746 0.15951399032987889637 -0.13542552196200216552 -1.4043540870476927118 -0.46352591975032270133;-0.15807032764569678429 -0.086948631516162389055 0.34993871631404260825 0.17854415368721907043 -0.17498675844425773396 -0.33072469632388612482 -0.57337152575516492359 -0.29796285009320139237 0.16854184521027329446 0.06622243071942020276 0.6030197154491242495 0.15217575799059665509 -0.48637690621597451379 0.21909990480179911132 -0.19892691973611537071 0.0077797934798844977158 0.10123342390557638071 0.026853358480912182388 -0.47381896730255301797 0.17552816488058334277;-0.19970990527106630141 -0.27167113075309801129 -0.12472491309977760954 -0.057199297917169392158 0.35158365209364922377 0.18378755494939030823 0.30492030829156002714 0.12478528999739139926 -0.15171767031973684703 -0.055886177708609104109 -0.15024501606302553824 0.10854095590936065074 0.7379854108596113349 0.51008381349239995117 0.44055132502196980848 0.21314265180809466305 0.13842587592507366034 0.02201489381227800593 0.44532484046174158898 -0.28486588366651305337];

% Layer 3
b3 = [0.044406328463905742066;0.12001970285331002575];
LW3_2 = [0.56162565813664866443 0.75276272243672071038 0.9000724481295002688 0.35495226907284505025 -0.77486527301002416923 0.89326255785560138012 -0.40521937548019593134 1.6947380091616035536;0.41214454479371792628 0.7036262398510524374 0.82304644575469254608 0.29128631827905088203 -0.81022526859946975009 0.94648732102408594802 -0.65706019155586603553 1.2606184305900776099];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
