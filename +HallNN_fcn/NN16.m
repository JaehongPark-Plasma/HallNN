function [y1] = NN16(x1)
%NN16 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN16(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99818434281334;1.99891370577331;1.99893469499641;1.99987540736025;1.99835147249578;1.99828864628517;1.99918479300467;1.99822087747088;1.99878618068855;1.99955091275135;1.99848209892394;1.99835398509646;1.99867578412129];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.20666268949248600695;0.28465117433802972213;-0.32034363060493370456;0.69416227769002292192;1.130228394448716811;-0.4949420743734496142;0.67616691719918620151;-0.62159567000111692892;-0.50200528428126667269;-0.53239012549537001462;0.25502225367178749105;0.32041314374172397139;0.20191965962534549894;-0.10070693532460463226;-0.5849608337872554964;-0.40007950141673376265;-0.37303858744204182463;0.026179373991761512031;0.65840602700169614803;-0.82867281883308563373];
IW1_1 = [-0.24077574661995290728 -0.45628470207003035686 0.0066060599065727951956 0.047895222531166764535 0.35447871818395659815 0.20303792615101429186 -0.90204448789725877322 0.66296086305317480925 -0.068250167686573048886 0.49138827403368573465 -0.38069993891450809587 -0.025080631046995462141 0.085355873049721531221;0.60174612597420429339 0.33309271266362611152 -0.36804932964325026701 0.24906694424489272954 -0.078031749047569876065 -0.09331639123481864917 -0.13967682063416952953 0.64950921067385103402 -0.035442701724702187216 0.32975455190012636919 0.29190553078355840899 0.069098383249005412843 0.06258527102988011015;-0.070207439132053919839 -0.044884751140070532072 0.14487770838034055854 -0.0070719752668588226757 0.38578818204715209506 0.51266356229097631569 -0.038548631396554837447 0.41331743627964873111 0.28204391130013312106 0.17825668597845995 0.040188661567441948119 0.4341059041310844635 0.06563233361143359923;0.51564574863175482999 -0.49910952461317736883 -0.61627516463416287529 0.030340925400062206813 0.46586245004399140512 0.49864187995459186009 0.081849987080035893627 -0.78486181194955539908 0.13071667661190516929 -0.2863764369483176031 0.16229240874133613048 0.13437701951090860741 0.21775241569730172109;1.1609984853341699385 1.5417522241076047074 -1.6166692068563661699 0.88467718628575298112 -1.0047397980794956496 -0.46916920708295989373 0.61435436582666091976 -1.2483208187832215419 0.012528152690942543496 -0.40044909382742621684 -0.15409707548762724416 0.050310670557741382636 -0.068133362734395269689;-1.0252770021601209649 -0.13598503508482492896 1.6239670753089705535 0.10406859378597722865 0.20393430914608048909 0.20490884330667613611 -0.4126452827358535469 0.26913988384686482469 0.064216338306139320036 0.14363624114395837084 0.036798575765592853037 0.2267976575462104516 0.053879482384114683879;0.84745129285656572993 0.049081683795452371588 -0.30826248857716964658 0.42192904135665532106 0.34696792014112226576 -0.1010723660569347454 -0.37409130661162065534 -0.26857591590288876215 -0.11999181357241464618 -0.44761543620185928471 0.18213194152551201443 0.17541367845870811659 -0.057744346502371118879;-1.2115607881300916038 -0.89504124586110089812 0.60545731052311257958 -0.15115252421273289718 0.54526063246266631701 0.3224891691703578589 -0.55363311801745185292 -0.3582218164538224503 -0.065716747341223916146 0.23082582667240367225 -0.39435812176816564811 -0.08171370645676441502 -0.048132717470793964787;-0.40679978460886673242 -0.88434530354367546501 0.033097213156262399181 0.4112442314696097001 0.54413494432528175526 0.39877790516819461297 -0.42127281709112923691 0.33136023777256190526 0.0025816404201900776741 0.54115216430914625523 0.38365263346012667967 0.051286251012188241449 0.1361901859506377821;-0.81727798084964042857 -0.051830659788537868093 -0.5029316905866985099 1.8897041340547606758 -0.0067826620607753622394 -0.021610478030740332828 0.066793307803197338179 -0.036653244056789872907 0.033819622854105849119 -0.11845247522749438596 -0.084429114291489262834 0.028206255257916510587 -0.061909979610306337117;0.55324413263779803618 -0.01214022668282256287 -0.20817933776669461654 0.36460372198971041646 0.21035791902405814868 0.086116398460151608041 -0.29484728839034940462 -0.21156441972021600151 0.62360940966649003325 0.14305525311744632377 -0.018072360085249903477 0.32245187003216269073 0.04161739705651845006;-0.32006600085332226335 -0.18251117174870237769 -0.023703359339458086874 0.043217946950571566045 -0.22288850845787824828 0.052460053708505302583 0.31503148976111644552 -0.035662797564354802027 0.034817619324281207094 -0.13263728379082770359 -0.11131305320971408845 -9.0696966977541143909e-05 0.042430143736337723459;0.20402538215965518309 0.18940482232290647979 0.26630848353456498812 0.099114755757053474294 -0.01760138138706804703 -0.49730435384800658616 0.6730157711893229866 0.22864531906873533651 -0.0016851442742679442581 -1.1010007606108265232 0.098721162435563808435 -0.014037403312652650678 -0.10233736278822815058;0.053288028145471795505 0.6310656642007731465 -0.31618727963350168331 -0.4186994640084662489 -0.61044737585435138172 -0.66830874742699253321 -0.39075599975849689693 -0.3366090229561565228 -0.10568286120025371932 -0.015219354931423390714 -0.028839454988477231101 0.26004830947915025252 -0.015271356171981149627;-1.1459240550454239393 -0.11830978216494927868 1.4715964284906219994 -0.061275295962657953808 0.23572144720245369331 0.042909641715043585208 -0.060349529931476575406 0.047925500540849798325 0.086416532616528762833 -0.14320395662411841697 0.25573110281458394377 0.043686553429124051762 -0.10549611456102170326;0.24509363255824359595 0.43173807388511914462 0.14471692732603780307 -0.50413617988217607202 -0.13879584101278880093 -0.19811323642739703255 0.13893642070278941492 1.333033032598097023 -0.03684775551764581103 -0.14018323071485194742 0.30008253992582523129 -0.0026820470236223886706 -0.089984490643723463732;0.36394098060303425868 0.025773480219454712736 -0.092363938340221829471 -0.1290603430403922669 -0.17915063517927867776 -0.031456883349749865941 0.53417787083605294818 -0.25427906581254555718 0.025355012155415128372 -0.28797611093139952043 -0.09085857521527948566 -0.007327822446251381662 -0.074794033124627387621;-0.37469872947607879565 0.16937676708468266118 0.0061495999348092555623 0.011371783183653991212 0.32541392793634427161 -0.11003885813535471683 -0.15075314749890925126 -0.066751927535452892926 -0.041353263124476895285 -0.040242380156665251423 0.048521212672721532322 0.0086414578400616469389 -0.14015851714768934322;0.38786658080641489565 -0.31622445825656886331 -0.18568032340432183425 0.70737414047855529109 0.10144183604056586367 0.10345273645732540324 0.79320517535872647752 -0.48052380462704041841 0.017945528934128256171 0.083636580299619983636 0.27246547277875454718 -0.031838476025841527806 -0.083322672965864250094;0.00025651443779507211718 -0.85672821642841412437 0.0090038265461886476254 -0.40817738277393122992 -0.030180985950106483523 0.060228842393156574453 0.092388905272014584802 0.49096403845815222988 -0.10236098369641395689 -0.029248987618592840743 0.11955599732289641512 -0.0252756731524063534 -0.022206027825133645148];

% Layer 2
b2 = [0.3144291802147272108;-0.70932286760625506972;-0.22867700998867521167;-0.11880904351406398889;-0.68936060249373010134;-0.38638662200021633986;-0.73266944795005395363;-0.09997551419549655094];
LW2_1 = [-0.14143260616677494346 0.12810996782996730836 0.24504489254317085578 -0.36080039464554930495 -0.55185726059438522384 -0.16582882215894054201 0.071377560496305683668 -0.31190602543271561675 -0.32410945409425900854 0.21199344121056934442 -0.10552873903044754367 -0.21719319775688936125 -0.11666037758309670547 0.12769243012532199844 0.30200276149828841898 0.019379679745200360103 0.42770306072448233126 -0.55108908636972742112 0.076469969395388970312 -0.10456151440290215038;-0.10274051617947239923 -0.099718151242625369113 -0.057301036314069894728 -0.11752795858891156022 -0.3324147623874854629 0.310970602983390354 -0.052609829080551506753 1.1792143102751684314 -0.12139716986577046842 0.0748690457041346763 0.10253489540057161844 -0.55622793970884087944 0.12925791353482526946 -0.22439980137846718411 -0.046582532857260230963 0.64068031585076212764 0.092927878025224910918 -0.17736092395842753544 -0.33360874629926923207 0.07805551287426140683;-0.077221427834615205543 -0.20445062093719307272 0.15847923798334481726 -0.16217568532143755711 -0.34677319180956434064 -0.20332312305627009419 0.11913859015469971392 -0.14947141593210136468 -0.089999915073643257934 0.064952390540315124712 -0.074818726477527866536 0.37837373134414881148 -0.28376296729156785803 0.096194133014048832653 0.2981955356702798432 0.20849426246020230646 -0.4063085321495577551 0.037196272846348535368 0.0052942781009291750918 -0.18816076134793896513;-0.04664584947752214994 0.050199021407315295995 0.042941056675342141602 0.082282168282390918956 0.20782731042689606138 0.077921626952349914985 -0.11615141879115500889 0.051502355318165132791 -0.051790947394268434245 -0.016643117173373699752 -0.03339881826898277728 -0.34202857017669469064 0.19908022238131981019 -0.1316603128878701956 -0.14367187125043712204 -0.179777349156809374 -0.02417911924454438713 -0.070390651368028966939 -0.072177991528492621565 0.060334824008614479363;-0.48362300746577147059 -0.11205108625717108417 -0.1603218543205590374 -0.55776760738173025711 -0.66675361120149756466 1.0538577069007100118 -0.81994961083826101156 0.67787693150401739928 -0.12781025260055617343 0.094230132190335519349 -0.43009597728446652409 0.19721373606339395734 -0.5376478443194063761 0.13056317256079710831 0.40006884213395671468 -0.049171667857891079856 0.24243593840256000282 -0.39616665395980149578 -0.50546475940985358122 -0.046288839280799097542;-0.060376793500819148086 -0.2972414441652172501 -0.069024142781612923825 -0.072754339896178937819 0.3743663593671719414 0.19801726324509355548 -0.43148904512857710891 -1.0925939369557486902 -0.20720956332961348867 -0.2859409340613404682 -0.032037774757026543648 0.92531012793879252598 0.52851447288356756538 -0.13534353589272279939 0.25431000068695669425 -0.38324840836528850652 -0.075725412423748653112 0.20209507360757997252 0.035546823816983402766 0.23210945445513397889;1.1086644209560478913 -1.2397810197416530009 0.31695178476740670792 -1.0807385862152207867 0.44963622290751198429 1.1270222318226956748 -1.1457778633813993086 -0.57838326348906354823 1.3480407006226309274 -1.3962588285049017944 -0.62227183927007401198 -0.014277203552870227493 0.39176017956082281879 -0.35493408713116914033 1.530783390416810219 -1.4262982200715739189 0.17534125049383245121 0.40315249037384659481 -0.95785931763774656567 0.73004276999851558383;-0.2038590997016901385 0.34146985320085926352 -0.14516208567614885538 0.10594832926677075213 0.40059181387160824883 -0.27039026320796238911 0.14608709971171168762 -0.49053137090873644155 0.11494927267852124431 0.022934643503692335453 0.090353447037029771538 0.039093230939952192116 0.032421025693080238184 -0.047540389685418946164 -0.14790181534604418534 -0.00081532934904339667004 0.23190157455800061714 -0.17241565167355241139 0.09097008975002253417 -0.22899111766504220977];

% Layer 3
b3 = [0.35578245033751126902;0.23799813435363187386];
LW3_2 = [0.79772782594844771076 0.80411109103437639067 -0.76893632326996153026 0.65928223071208857942 1.040400623556297921 -0.46192675983844266874 -1.5623371117945437092 0.3992064024338395356;0.74207803396994576062 0.64034982314717270313 -1.0828629968249716686 -0.021450709358910947933 0.99673740123363940846 -0.34979333719763172628 -1.4960066262121902714 0.27047176681697104872];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
