function [y1] = NN67(x1)
%NN67 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN67(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99863581835571;1.99963319498374;1.99973163097842;1.99842985365561;1.99869810417564;1.99979802746309;1.99880214103315;1.9994932496181;1.99885012174745;1.99817630974075;1.99849538937427;2];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.23538445356159851118;-0.15853151317654137764;-0.4064123993903538401;-0.051952832503545411102;-0.34155222567074727813;0.84022132154107864732;-0.61673508168421342646;0.34075169629813401029;-0.21593320237110383286;-0.36616814730695113056;-0.0050098466316965146322;-0.74995180119878268599;0.04450020244594435348;2.0464245220937300473;-0.052374002855635565234;0.025494401562710652248;0.59430987119939171492;-0.37732774137511027046;0.12239352274998106795;-0.23431443856820888261];
IW1_1 = [-0.13794775951635862565 0.15220460873689653503 -0.081355516318766807338 -0.030636675048057934734 0.27420050976468401949 -0.31281625115565059314 0.42702133239558953681 0.48922981119314967735 0.22404631363832749891 -0.77499226383467900714 0.070407019853884908467 -0.052051238939720072263 0.13481263249959352102;-0.11305233459106638072 0.039386330107133216138 -0.10171868576660889061 -0.20001849343010535964 0.08425066119672937337 0.012752566354243741881 -0.016484800349884649873 -0.1485000038511040954 0.10898074916546134083 0.040152736363610240511 0.077826185325008179205 0.039028941391287243212 -0.059330315090412602541;-0.16014407878649672412 -0.7931385650981463975 0.4670076865998383786 -0.37871386959002706352 0.81645813972627601096 0.57229648343340233652 -1.017335546416459291 0.54221592943051299951 -0.063565407459388378886 0.53586148216989415438 -0.10753525842153946468 0.0091439124175064813438 0.098876447477834777944;-0.14528937925446164248 0.27312233704963273517 -0.025617237101937622573 -0.46340777338192123969 0.17669036520980496707 0.37348409584306030418 0.029321244606977256431 0.16638855506146010832 0.23762506429412719178 0.25458027525872528596 -0.22235640883359214515 0.0057404247678202961064 0.11022351784268985542;-0.026128295253992812192 -0.031105606464166622727 0.23710720599013127008 0.36808633734284479377 0.19134562313976893888 0.38377593333813242449 -0.095486076385708260061 0.24471710858455028581 0.4754807119978546881 -0.22587169998197953458 -0.1186823330117290215 -0.12072939308070697317 0.30039081948318918647;-0.076081032574169121796 -0.3711423379245173404 -0.30286321846756525389 0.12323278478625200594 0.46722327258281670659 0.43162250068697860517 -0.67827259668313433227 -1.1159425065660717458 0.07349449412209685395 0.30694139639710560363 0.20894026803804488512 -0.004600117677975971292 0.073991862187517923322;-0.74205019106864578138 -0.32120292868992789126 1.1090171436073716915 -0.46800248167773267349 0.26572634526098071195 -0.0057692210058530755609 -0.048323611830109462761 0.10718564574195263428 0.031287401874031083027 -0.4304796240786530892 0.037489823780685709032 0.064137588047800467295 0.010700179427230149462;-0.38888277092130285606 -0.32290537337430358367 0.22766033603324006829 0.3131940869159679508 0.36437349016560161008 -0.16121558231909238756 -0.5823899013939844993 0.61890294517644051098 -0.014908846824074398901 0.3955486966506033264 0.060374490675261391348 0.048771303098011357935 0.079458594283942279857;-1.0023994954252832823 -0.25497369180390311305 0.024326959677319216768 1.0139770747385374872 -0.15863514488111316036 0.1167709276183730438 0.092213238614086256995 0.20104783176105309184 -0.029060490713129532442 0.28001291207880879552 0.17301966767858883989 -0.088939621789690337383 0.0050142633536409703804;-0.11843568688893375829 0.13013784369647329875 0.19062587668672950625 0.80868765776493500841 0.27808008010333040705 0.1815725826533770848 -0.10170511308371037174 -0.29963682365006111263 0.017591001248995232625 0.034249595161737027282 -0.027693156477569466634 -0.05016285832552436208 -0.13453177670757437978;-0.32968798190611048327 -0.17405612556440222538 0.53718630002901579523 -0.090707773172488764812 0.013415128794972506349 -0.016520852590475497423 -0.05881773508095355929 -0.042452135766382001481 0.072986257523446049222 0.26128534695469546323 0.13441673593802971887 -0.11109251171490239218 0.20758958353623180315;-0.3563489558763885956 -0.4214912495088573019 0.29718873301778186979 -0.45147299501467635929 0.071396781653396135248 0.14897936128623437413 -0.37234457024127376457 0.44435231478656972426 -0.084964886579647985743 0.32515543261021917498 -0.20554219455971220465 0.013740702826679681778 0.033223102780947123824;-0.070394240104675931402 0.30633356157356034233 -0.26552215160863323895 -0.029566404663051524399 0.15128697957539427588 -0.10162795829953100157 -0.14762884230026654397 -0.16672101039715561677 -0.19540987204691942503 -0.04690736334321009976 -0.014313607782406565644 0.017829745895818156776 0.13971533389837070827;1.3401645213971682402 0.58536991781210101493 -1.1678358470932586055 0.36724994364998592156 -0.24194710804698518758 -0.24696492585968407574 0.50313002247521643184 -0.53879377842384856834 0.039582158092907673841 -0.22090365411534160223 0.09775528432527445799 0.069867767514315434751 0.0059243792941365350235;0.30983079173526617556 -0.27420307018487510842 -0.37592921051608241267 -0.34619122066993507358 0.25327100926790091506 0.56202376523440200629 0.12529688735954236378 -0.22990685543006009195 0.39297300771259541241 -0.098778990585750181541 -0.20826918001065636288 -0.071694416215260167724 -0.26923723830771240095;0.23958180290281488878 -0.32119609498346241017 -0.25539908681108230981 -0.011894921866523862353 -0.00265688488535024709 -0.17495726995912030954 0.28074781429733908222 -0.98047157551253971697 0.2099323931086102546 -0.28798789400715490983 -0.22917842638006849509 -0.28991368380471754795 0.070570247969971383606;0.86211795979240357646 -0.21561519620523036944 -1.2302489006157508733 0.73318870058704233017 0.063374290806455749192 0.030283081550763129436 0.044123608860211806226 -0.10713308263079521221 -0.03096131597171080177 -0.063584123224895344739 -0.024442169487873116607 0.13956441014417247937 -0.021379105927826810851;-0.31062600925627598114 -0.22677012979831270845 0.19256419434716223749 -0.037275549833356416696 0.070482252011953877568 0.42593768840051249303 -0.14282779935610143141 -0.76119545966636581458 0.080700050805731393666 -0.11884087114182434464 -0.090400359831572379976 0.027754101903546084945 -0.012143218684053679046;0.15802535158925359871 -0.025390674773694978106 -0.3233559453076114143 0.10995780433196426784 -0.1844674729178141237 -0.047759392212831687508 0.055273726917980867124 -0.1238292495055008241 -0.15273934121432392041 -0.027683862743662381728 -0.10394718987700689306 0.24577539987645549702 0.35642896997573986217;-0.066549262994481078737 0.32640572047311883219 -0.48591347137865026351 -0.30629444765446062204 -0.366594875080635485 -0.23149631692842606578 0.46567506111317968909 -0.08517529315176240734 -0.0072463740650296273871 0.22891070530301702024 -0.44714208287007206621 -0.49773104486538732871 0.04090659501565090117];

% Layer 2
b2 = [-0.0053301257410943341311;0.31734631475321034566;0.060336104739007280495;0.082038904675235974073;-0.099987416577985266386;0.24799440892699897709;-0.37829459260008141408;0.28611669420207708203];
LW2_1 = [-0.064054486937092952603 -0.047455745952297762047 0.038845390826550349472 0.087295245835372306531 0.080075060475617854117 -0.013154005967029506682 -0.025509133643236248795 0.060852920530349921546 0.0048849765681638511114 -0.011396798233073740514 -0.053418444217413679764 -0.098079714495722378209 0.17625193858549512149 -0.093939653614374063473 -0.020801495520908996201 -0.13222807023262658777 -0.036494473705659127849 0.11319829565968356211 -0.066566485259700144961 0.032296311738547751891;0.022908559580068516004 -0.31213149236221648941 0.40048003265643089543 -0.0062476710281281246095 -0.10170526766195146784 -0.053812437983399227792 -0.059441953549041574856 -0.24168872645878053396 -0.025976178556106462036 -0.011148372730879152481 -0.17888971190850241899 -0.30445218019509190377 -0.29447306764382130684 -1.0867957822308913496 0.2147328898866814606 0.25561367575817223186 -0.033078863572200023491 -0.25567331896470785191 0.3168156580733861305 -0.068404769876110327331;-0.015215495980320245875 -0.042636483307430306233 0.21235332793722294653 0.26634437333192823028 -0.22076766226330835075 0.079218280693787418434 0.10648934306619677048 0.065384150836897830805 0.14534562769122183479 -0.61425967992593077938 0.019164786799121941857 0.30762173497220574037 -0.11807267185384312524 0.56116235362197286474 -0.064816074710436696882 0.19263835531735004625 -0.14985213424410998018 -0.12379517398268512218 -0.017194031439828519336 -0.01652560818265765008;0.24675703057917830474 0.083364879857436430255 -0.26376236498716582046 -0.1993443642813944594 0.074136118344170526262 0.19364295322861710402 0.27313277222858767246 0.10982659023875633586 0.44612279681607452941 0.1475287853969752816 -0.32155778718781286019 0.044394991934524064003 0.15104017221504340007 0.9298783461239137349 0.23835587322597526216 0.11778232807132607562 0.10327391091113594102 -0.042719568402761545767 0.24353903157953213365 -0.24941775728509033017;0.071417069215380324376 0.050773019182825430973 0.046859044514261052883 0.14218844030485572327 -0.065024345876973851932 0.11592378384247371825 0.14737743501672112556 0.062983461248405869792 0.13066212498909279827 0.17410108737308022109 -0.27173110894454410857 0.15892234255756404471 0.1395066856740557748 0.62599916603332239617 0.052247201862493534985 -0.11696367616302720538 -0.10304219336233648441 0.26631506822421852076 -0.055947762117479864219 -0.082150225550713648626;0.14219424663636071049 -0.099852539962239680871 -0.26580329358726501043 0.15330903408899387852 -0.046514054007218058606 -0.024194045852746089847 -0.37711786220377591095 0.073573810137909756435 -0.22716427396424729301 -0.1423367933171910682 0.030748374076660579118 -0.39791898966934075021 0.0091842177413962444721 -0.25059484733048942307 -0.061393017760688221862 0.12816419278964988337 0.37663866178465199575 -0.068556304187209274326 0.074797383520312857308 -0.019838474288688408287;-0.45869117488297173058 0.17242280379075380914 1.2457432533873402658 0.72761185934812855347 -0.38322632360396124973 -1.1517700598924420774 1.4546321323737856357 0.21345274808900185914 0.89250081325584396108 -0.66551705169215402691 0.33250091454867625185 0.97340656598950736633 -0.25224273236942956755 -0.15538776284742297773 -0.49300086174969803832 1.0656321909440329421 -1.669387960137736604 0.59506114018155109591 -0.50639328495317159629 -0.54989258930336182285;-0.160530317809375489 -0.088213229603302759085 0.26702293518339242917 -0.066709286446690940764 0.012887089267413399593 -0.11983428338468929408 -0.28306219556766182288 -0.022960442833973290777 -0.11569476272345978474 0.20838494718519598448 0.1441157034994630104 -0.55781994292000725011 0.0081345412411249849033 -0.61230836978506519852 -0.031977678564902689562 -0.1472731827329513965 0.049526547777469578926 -0.18568814175152589807 -0.13791895019369043718 -0.35370774999703524788];

% Layer 3
b3 = [-0.041108778585194898081;0.065460318168250805626];
LW3_2 = [0.18422391345137736907 0.88191025096573794073 -0.56019646026525260485 -0.7388694262161519255 -0.48670629582204366637 0.55692844924408713148 -1.2009124355745617319 0.5696264073631424063;-0.2595382764398099229 0.81188181118361824051 -0.47110042158698911541 -0.65569083576026676585 -0.52939422228354460209 0.36936088137249706298 -1.1440120362780821228 0.48683598700934993531];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
