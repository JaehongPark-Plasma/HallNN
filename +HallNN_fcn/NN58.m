function [y1] = NN58(x1)
%NN58 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN58(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.9991576374931;1.99930449444157;1.99847991199903;1.99807234745234;1.99807554556573;1.99958832446821;1.99937198280509;1.99951077068577;1.99885734266946;1.99820307936045;1.99896276852917;1.99807519368354];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.038421490489500081944;-0.69904454045652608674;0.30454806299253861512;1.2339199029503347127;0.18970488980846172966;-0.46991075194015341498;-0.95508134681015388612;0.024038528097868831074;0.40282862249790685194;-0.21614900482370463797;0.20727374643466922599;-0.81908561098454313321;0.21529891339822848639;1.0770136501270191065;-0.85459679964203838498;-1.0815748362582349174;0.50429310678751881891;1.047082136511245265;-1.0468900196348158715;0.41122477156679515531];
IW1_1 = [-0.26933080230521894149 0.34501097717401402187 0.028725999105226933394 2.3692234854794536753e-05 -0.080882856092480914789 0.15918883449937720753 0.36529602106133579609 0.53505335526068320551 0.11538181061811700334 -0.1209490291073943985 -0.079280766883688069679 -0.065681561400457472155 -0.0020792139386923533424;0.3143746608106015028 -1.015699267542103712 0.089324777901844842898 -0.59113838210076141699 0.42888661034190406207 0.3035841788029653987 -0.07302799881648371072 0.62091968220685533897 0.017640705428474401373 -0.081622650504300064966 -0.14383249914485740639 -0.029836715898583356793 -0.050094809905984138965;-0.058691323909661405334 -0.17361436876340755053 -0.41763398995997880192 0.14152976322034449552 -0.83460179523070321395 -0.12746177591985713429 1.0466226319259055444 -0.47772389884545657379 -0.10655239008459396755 -0.14791902739762255448 0.092229038528858456325 0.044984637413072632584 -0.050217539797299946824;-0.34863486011456040758 -0.73032131060996396954 -0.2368240484865447304 0.14454788187884862194 0.32105574915440421302 0.31619964628547936325 -0.45086623966486633064 -1.1601506884994721158 0.015130791520344006804 -0.044193754313871728978 -0.30035090128888036753 -0.039882731379279078021 0.051826221657021241673;-0.41091677681009852741 -0.042581102349808469532 0.12767601719678117744 0.12622508324962097848 -0.17165260433897244763 -0.059105143129023221538 0.2188891701673990331 0.089254553736223971039 -0.014426869343468734508 -0.078062265010875028781 -0.035971172714013573135 0.0080441601435340074483 -0.0071704224499808512719;-0.35922553638656484765 0.44114359272287445579 0.36886304579984913188 -0.46108706651555686484 -0.20479191543104358075 -0.071562842314806432431 -0.041623586947431644167 0.5081689588174419514 0.16479032279489974622 0.28439252341884441178 -0.019217182887630468446 -0.17296979174226620457 -0.00030018621723574417937;-2.2351230513279736201 -0.7242056955403414209 0.61779361878621286142 1.720800440917904961 0.66725056199149579417 0.27285081558980012195 -0.91469148666134902914 0.57461801822885527624 0.060952259271901690352 0.27510683635386223855 0.22655216196231539594 0.083404334779750469164 0.041117384248067274932;-0.19581713419224891504 0.16839156408769470619 0.29842420866363705834 -0.0076884344737217728133 -0.49248180348047637667 -0.22448079412601643079 0.59893589326976237608 0.20126100961345064211 0.00087184171554431644235 -0.21776929200902409023 -0.0459038563581369366 -0.0054356152996589022705 -0.036671359873348609304;0.071384947133208975778 -0.6941013607670601937 0.83873614565948517718 -0.50768940637996684551 0.011215124509919134621 0.067497691203571907881 0.90188458450230490904 -0.44495729978255321724 0.21830085095427326225 -0.96245138806526819852 -0.029083936657034129697 -0.07153983596624591268 0.021530370612782869649;-0.13851472514685891912 0.33723888538532786896 -0.86309489580606668646 1.7842812228427997745 -0.11280829661639388273 0.11749728180659850529 0.42736914707242634748 -0.37946902221769485131 0.028152603906951643997 -0.11935189583212517384 0.048116847358181169536 0.023148526968207627785 0.018132438605447546986;-0.62755875301210839456 -0.4724054914189892429 0.094115432725785375112 0.28462751341233683 0.41533541806054835588 -0.19483065547675471052 -0.32646457683040491782 1.3210693325953182242 0.11042538874955097616 -0.30733190967080259437 -0.26942602089428674406 -0.076065827020772330824 -0.076871758509356027944;-0.84760905610472059291 -0.57040748856081813223 0.70065874271693540098 -0.091892451604213484795 0.5263179764775095526 -0.0010150565861513373943 -0.32022815036410362532 0.29421805373277437612 -0.041910158233546546125 -0.33588683334178554007 -0.13607044129800596743 0.023766785038724182189 0.0086939643338594854022;-0.25809765211906049442 0.51545202755905183967 0.87905731909630713261 0.040676452531613276065 0.45472058337494863922 0.45045270559996730686 0.23772691805349197014 -0.34861169536237468503 -0.0021553435370453019951 -0.34762087471673541739 0.11078483315773542117 0.055195887867431563112 0.42002776910397698895;1.0976474829853162252 0.14498008606166212786 -0.80277423063774522305 0.89760881712143181232 -0.12674766493748987339 0.44959277531062685762 -0.037428718449785541855 -1.199838623887671929 0.34902920729264191868 -0.11597144525984895425 0.49771618665087802302 -0.07617139687691545924 -0.25432919127187370023;-0.00062138537015711797079 -0.25448401940847459324 -0.46263273857222791952 0.71051841788279324064 0.22931352907653271278 0.11776810975100256151 -0.12706614756132653121 0.10943638470958946818 -0.027334671550467658924 0.01636798148868013128 -0.03090642324645431066 0.020984673922742152347 0.025388813550040204015;-0.62725197963749435015 -0.24183949172813251627 0.61151800444893478215 -0.27939284569515693279 -0.92582275059362795222 -0.058099879482032865119 -0.60568180318977959953 0.75342993007890868284 -0.094516553963892302459 0.10776484325437356293 -0.032768055011934998921 -0.2587011194602436559 -0.54129843622899054267;-0.61359061372966294812 0.83990678368442084345 0.13280047364195748938 0.63153823343971060567 -1.4881872116738881218 -0.78912768235475372336 2.0713845686696163995 0.015242637644291385721 0.090207540244659503714 -1.1112713305366130889 -0.022414542647796641822 0.010135504294665883748 -0.18263408763567462456;0.33848587684915687479 -1.1733596627660833889 -0.072730240893357903098 -0.18110567948134007055 0.64790295677855203049 0.1066889542227716231 -0.061412817235587696674 0.16584715068334243693 -0.060338379290912659558 0.048313626621087776836 0.047807828645659689037 0.12661967207816102188 0.03916450484690882361;0.042611358056823075979 -1.562248421516342578 -0.37575716954539378767 -0.26172984555357131642 0.61204805029463982269 0.60501115315927245231 -0.25671116108786551369 -0.1618395998238690292 0.10894851865083747533 0.076251383851009948978 -0.13587052482500799888 -0.052998354651066711951 -0.038784170790966458753;-1.075554624972056672 -0.74138735593204851959 1.1133631720853192082 -0.098446962182353117687 0.65018836815259795081 0.38361604612658506408 -1.1710090197099853881 -1.845442212944649496 0.041099364850458564025 0.53722168884040677472 -0.33609621569719239087 0.058431659418329361111 0.0042954460532077382018];

% Layer 2
b2 = [0.22989767790098605826;0.15168880441841478546;0.044438699691241506651;0.84138212334060025199;-0.012336204884987080066;-0.14021349405988145498;-1.1853360423440890692;0.22575082233781496033];
LW2_1 = [0.75953187258636467583 -0.01241102442627303043 -0.010890502503504852216 -0.31395457911344748503 -0.23315292545882979058 0.074540601248290150327 0.44655978947146596214 -0.31040905191249457129 0.16668504360527655606 -0.38432145112651938668 -0.52486731551512733063 0.063751796956836984109 0.2271619628242087241 -0.36300040080789519603 -0.19918046311761117284 0.33399949420459856819 -0.073961001572001153215 0.39898252159152369778 -0.22953251708740887715 0.2228350093793140807;-0.091247009441662807472 0.31644355557047815219 0.19986672011225115053 -0.15037292820069225741 -0.741332312893154044 -0.1315628791050135471 0.12041562407103480192 0.061493433292808333257 -0.12256256216127177361 -0.14849804663315105402 0.2782882316058638561 -0.64147295032007667359 0.057100740887442942573 0.036639966822254760315 0.55806440050469530156 -0.082671469199829664132 0.27214256908465089824 -0.81928356858411721664 -0.19149642213592676931 0.12622323243906510837;0.1513827136041443755 -0.2650315012435507378 -0.13540195319473874447 0.025565798414169647185 0.095077517375694156621 0.25045255412204070478 -0.11427378582170234778 1.0264831332614354764 0.0084898843884424167461 0.542879683263757018 -0.31978144630707011631 0.74875310980914566716 -0.2582561090319725472 0.11614698609682518049 0.0072512136979239662921 0.10196221867652117965 -0.64694872460824270899 0.52215457278927479567 -0.087923693177508518981 -0.0008182942422504954974;0.0026868003808945360028 0.31128389525853944475 -0.26280523765958596627 -0.2838221371342919408 0.00095717822814406564036 -0.30486288249775439496 0.26035515828288841034 0.17667814332708217662 0.19450505124475092611 0.299639301277626946 -0.35913873186996747577 -0.42583093823436196645 -0.095019709638761981618 -0.23576842583770282746 0.10434204703465524422 0.13303425351941725041 -0.37992384389730299299 0.34563707706276985965 -0.11193677524929294964 -0.0091132452715596869164;-1.3210324901354415505 -1.2383765248116069824 -1.1630711032863843002 2.244875167269616778 0.33720339937089061078 -1.1555154352052996458 -1.4543378866438114727 -0.19439309679671248898 -1.1335943943521102906 1.2886768656417761925 1.5042611175757358843 -1.5500064865580820417 -0.41828380157728239919 0.75343736422261109453 0.60570335177223322276 -0.76181307235879958117 1.0799552369902662985 0.4198765252817278637 0.98537368593742968859 -1.6333377171569980479;-0.10273493257796879885 -0.22302340184359772945 0.08766199437261990024 0.2614576509920161218 -0.17304338104395103337 -0.27434996176194059725 -0.35583600491697786605 -0.20726194085710161752 -0.20145761410320237039 0.39008983962967225256 0.47241234757341077355 0.047567833870157470721 -0.17703612323742623502 0.24255835727606248065 -0.30361405719219419774 -0.24935752573855057834 0.081872599664907355632 -0.36595078263782931938 0.18673073763734016062 -0.19728193423770645776;0.64641080403070805271 -0.68925514949083521721 -0.14995232686564319291 -0.9423429552707089929 0.54756492050885730016 0.44824313746134880621 1.396470211734688105 0.010665069209112285759 1.7126656521021026425 0.30809748702415373778 -0.16251391640134696392 -0.091847036049254163204 -0.045571319703773038867 -1.6243364208507979907 0.52695512683524103892 1.320298311884771314 -1.1126710579607337337 -0.34429316618144295559 0.64463322059415639753 0.88739277277685069123;0.058558600606483802997 -0.031353602442275904649 -0.028232698366490165121 0.085100380041984002855 -1.2655581358170047146 -0.10860279278677667514 0.010536401559930144711 0.28297793104368018646 0.042828476459736572468 -0.41842999581598433467 0.01439200304436026763 -0.21595004821898317049 0.1807483222530284761 -0.08984080005534339497 0.57697688692751425421 -0.0044969582909897120454 0.24537900617319513552 0.031872033680036659931 0.090428396539778549412 -0.0073123114007312564958];

% Layer 3
b3 = [0.29920280507311758367;0.3450710109649877122];
LW3_2 = [-0.21791105257701581799 0.81393504198423027862 0.90417247810266010433 0.46655608578534618625 1.4279791778828139215 -0.070271585682616904966 1.1359277137574326222 1.3498024497185003856;-0.45766826084743739145 0.69024713877227616976 0.78372211882586029219 0.39185038279886497126 1.4016522499333274876 -0.38610895677048245878 0.99946443262905437788 1.1672952495095703096];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
