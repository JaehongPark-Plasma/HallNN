function [y1] = NN22(x1)
%NN22 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN22(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99982009280257;1.99867490646788;1.99801818962167;1.99965800224802;1.99808252868512;1.99879317661798;2;1.99926450596212;1.99893760920972;1.99938723172079;1.99827089876894;1.99925049182181;1.99819747437233];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.14926554166835087623;0.6201980634343213783;0.14666020169500246229;-0.05918731385963024727;-0.45754188069959794705;-0.78893061498972683054;1.3084433433995239504;0.44282922421193660067;-0.16540452792497248313;-0.35324303965072956224;-0.062599973145352122428;-0.52917687726633799716;0.11007233365231745836;0.56841669106043157811;-0.27162302204220428736;-0.47178970518421975422;1.1343583977648088457;-1.7607655493443581385;-0.033602321652002963004;-0.30039047092494503];
IW1_1 = [0.39975250216785268575 -0.24197558932319673808 -0.22178146226008127462 0.30522650948192830977 -0.12312566934258882545 -0.10459107265561255751 -0.052476306543713768793 0.022562311791309973968 -0.16513661743117846736 -0.09883811809003463511 -0.057222701246998707025 -0.0012164167474782998542 -0.10348236018084745746;-0.087712343899977174289 0.32532307500685120338 0.049996473963387008665 0.087720290533864250793 -0.045026262006425545048 0.29285293786517546666 -0.20937986020285936917 0.70929272237668516965 -0.19570731312230565946 0.10653257970696571044 0.5736523889275010335 0.08904566792697034272 0.4432255317681694784;1.2435356703273499068 0.37889217698955496294 -0.0056583929379974452767 -1.5110281707341670643 0.072372620069618892602 -0.22170538676779116827 0.11115625513422058845 -0.056799250352474052461 0.053205571273657430165 -0.31065477403111063648 -0.18821533242111743167 0.043345835100410116947 0.010836507002303910965;-0.012365549958420089804 -0.80624575126665831704 0.050907421227124813323 0.37807756527204144925 1.2380041754773607465 0.90652119310877443681 -1.5179998469920441551 -0.14533080233198589215 0.091185953807562683537 0.80889798987245242756 0.16607775832431290186 0.15586486679653643872 0.26010729243553309953;-0.087432322249308788709 -0.050309444817596381261 0.1978965063846228889 -0.49399928001709952907 0.51671855684005518761 0.14139547309956598808 -1.3179294184880330221 0.16668002296309611387 -0.25035790567071108947 0.70929483541653359779 -0.17106490839581048324 0.034014584419817056604 0.053254399126530543862;0.30205351136264646517 -0.79037742990970372148 -0.68526116025908356821 -0.64934716215500420944 0.37024078479381616891 0.80913217255269398454 0.28508262694853331309 -0.29498207540066084809 0.23008258158228450663 0.10628930058645313927 -0.15418019013461400912 -0.28156759066327868846 -0.14953087874864134932;0.74703467856586835971 1.017119921633325097 -1.5983543199100329613 1.6379835160837863395 -0.29032702169077090337 -0.20192241917553860331 0.47440882674460327362 -0.9696828111228659175 0.14950615826936913821 -0.5167160422134642328 0.65811204591130989527 0.152450350508226945 -0.1685608847221896911;0.23585772911131897001 -0.18266940800013831137 -0.42878715529920741201 0.15831516108965723588 0.39882120258137976343 -0.48279661407338197998 -0.15980646237831694356 -0.44459695039252594695 -0.021994414723001363965 -0.49683761529490422237 -0.088316307610960875785 -0.0092653726599078532061 -0.43549310368805610461;0.27262134466021725743 -0.46707649675234252928 -0.26216091705867389239 0.57104243074082161602 0.14524176646191661044 0.40918285912968960227 0.3581282064750240246 0.26777978204100649773 -0.087686718637062149861 0.062097999549466029179 -0.040249201346024762738 0.19110810230443761593 0.054030253760448808398;0.43399237405887930441 -0.63687592084011490634 0.32780909207753028412 -0.28036441756682367599 -0.17925501626509848796 0.35850375969091824446 -0.0010183662864821378582 0.26103010257200370825 -0.042157926819087539194 0.97496511637164917641 -0.1460866332987102445 0.3543770198460283738 -0.49598064107425343661;-0.4693079837583452596 -0.42252219587499639797 -0.13750861221977198068 0.24583958226540314485 0.3748974538085970698 0.30417386333625612282 -0.46257502112075643552 0.01131437706489417036 0.014650236337948697313 0.29206488428315929839 -0.13412075193471104106 -0.066213028170386892257 0.060365652570142640243;-0.34564101901496968594 -0.070059900265468377789 0.74256361218463129426 -0.57656498602609573823 -0.11745136061394867433 0.22098262299685123011 -0.55630046514345599107 0.34560595663100868169 -0.35438537396072428143 0.15524961497795353171 -0.044656216437273209274 -0.30753982280501962476 -0.29413000008599904378;0.28207055808664671659 0.24613381154237079507 -0.19148002405630365486 0.32245561388057275565 0.1305165880269328893 -0.060372640962163375 0.088266862757448855126 -0.73394747567229245977 -0.06314880436434881783 0.038725301567163583627 0.13679671687899783161 0.058955756179425208852 -0.11548650704194976524;0.25603531994644951331 0.16567347841774004991 0.24955477280382024063 0.20476008975625992203 0.097738144771208720907 0.46971344443228491006 0.022660011888718613327 -0.52678355207629690149 0.13071495348602057973 0.14573620853087096427 0.40754472423703475004 0.35084943483674646547 0.20732920197703252896;-0.62786484844282763884 0.57124803519991329548 -0.16870143207557203313 0.33404394062729608761 0.3384908165149896897 0.033598319573661925008 -1.2373188299395043721 0.14783097981470388893 -0.18756061463617207385 0.49717673833839254316 0.060559415429100961481 -0.097672024203161178502 -0.090209091198215823892;-0.74505561422990640441 -0.17532418565819696266 0.61742820745584958697 -0.41037104897260473502 0.51041526441383577861 0.35504657411215678753 -0.16952720642251445371 -0.79296665329418969392 0.12456796145233152429 -0.43078617315449996283 -0.2424973522901670564 0.12075156176374010619 0.081925831140310004241;-0.48700451095012781133 0.66386932750658500524 0.77141546396619053994 -0.11366289253312228391 -0.16109849441954798843 -0.070958231135077098894 0.64391541651356110076 -0.88471044938750897924 0.19528131791549646623 -0.47730777452487649359 0.79222018348275091704 0.078647596615656970021 -0.10507588207416816706;0.1712766772179177277 0.64029636298236447534 0.019260580332682308152 -0.43193189035972828771 -0.63177391177133401801 -0.69945012262693739835 1.0573627511188119499 2.380545239438090821 -0.040312904267039276207 -0.68278493240825444133 -0.58455407997861363878 -0.037934068125938413818 -0.091132665129392470549;-0.18388360802521708237 0.075150076584701880344 0.25400673769849885231 -0.39019824265301394917 -0.027206290815389326532 -0.067235261272002189159 -0.026407886571924547858 0.0020567123837819216436 -0.05495880626833687943 0.011775479888647390203 0.042820785930751399662 0.05646692017798835006 -0.026334800839416160068;-0.44082540234135031421 -0.24234593566104592477 0.67094546986167846736 -0.64451577048877350951 -0.0043748836191954522737 -0.27763535145388151815 0.42649940781992645711 -0.4169727938706959125 0.15960182159875918595 -0.70656528013878716621 0.050484849104427388655 -0.29726888920191979482 0.11000061437872227232];

% Layer 2
b2 = [-0.29517030539471150741;-0.47734107039998924238;-0.76869420514873942896;-0.32585119444126720012;-0.23472940714353046632;0.020484983750521976176;0.34771679498810897924;0.41401020205619720738];
LW2_1 = [0.17407955855172657644 0.38334607688750871324 0.056424549775451471323 -0.29348792031011577963 0.064611505480399317181 0.1745852428033403958 0.1988764180041339702 0.34730337488449924965 0.044590615438848200947 -0.21484024466022599853 0.48246325884511193083 -0.23062851154062904979 0.17571319368795540461 -0.070313993376144107161 -0.064746693027154772482 -0.22339089654204416502 -0.20637349310305230787 0.095109139808346634948 -0.66407358128946070153 -0.080784590288292448812;-0.11212833429411291075 -0.33007481963674401015 -0.33971732575186713854 0.36719513316587726326 0.16291955612642627926 -0.26018243471424140623 0.74246556648670636314 -0.14412173150453427839 0.27114451929077543202 0.19146604410590520318 -0.010586887905099855861 -0.17227816063437914607 -0.4295408553818397257 -0.67526069349087791682 0.13986791828694747353 -0.13448287571390218909 -0.46538020027216259189 0.090271514172882788563 -0.67588976208375761701 0.18412147279129875699;0.19584927703902421658 -0.14430264545697965572 0.0084107655123076413561 -0.21229807107361792218 -0.055954805468680667013 -0.026976904355831519966 -0.924778921172068058 -0.14407066006506658029 -0.12343943105840003704 0.1127508998036943072 -0.65782900814803624279 -0.017842614006899262108 -0.067932570124298985448 0.29972986905016901771 0.21585549389040747936 -0.04501892449565048776 0.68108274247852340633 -0.14935000902923475929 -0.37342321554688251428 -0.022012175310527151012;-0.35115390135554930273 0.10370243903944967312 -0.18845357099345230734 -0.68592668062160289111 -0.42378837524968437922 -0.36292412985121935698 -0.054991867650478302998 0.21571599173102259939 0.65096933363179387833 0.12423493000517367435 0.54399881900133706392 -0.17121023768935506038 -0.41322151778712390424 0.48703431299503424645 0.84809626222997958056 0.01369462914692351832 -0.029513383836576350533 -0.12348754401535387559 -0.12526980662136613653 0.39542081673518225671;0.3420565841536137297 -0.18656640352508349623 -0.2126790837342037721 -0.072285205707351155024 0.1132336679193235579 0.16053175749823150875 -0.048060107833928535082 -0.052146571736030385147 -0.5206153878988157846 -0.063781392815408372021 -0.0187560143131812046 -0.1609756093776385788 -0.12128210931716879029 -0.031323692409038352003 -0.42597491626332290027 -0.25313268550906975474 0.074074312637127187608 -0.23551472458082642336 0.69698952165215788401 -0.098894424437096506431;0.021167861380168937618 0.29117929582231977248 0.049368703911867109491 -0.0011653441226287743378 -0.081503871633330046698 0.28711682934774179765 -0.12401671250894827359 0.24043775094856964514 -0.054943051165736667141 -0.21308519156441035891 0.52626399632973941412 -0.068844466919591271181 0.16645925136465766769 -0.34056831970997603065 0.047164669440281185853 0.096753099610296836031 -0.2261405336831058821 0.23998278521800195384 0.3242940789617873576 -0.24627682742498582802;0.13648756077258794583 -0.017149147090675866123 -0.034008963321129431767 -0.28447578288073382957 0.12797377869915294024 0.25917316387384736753 0.25945713156856836656 0.025902610609399252806 -0.32912155822280275697 -0.18358907163220838932 -0.15549923941397564287 -0.25685168090838411681 0.052074631779985447455 -0.020535481825495513486 -0.21937194791435532526 -0.41280458232578581823 -0.26201392756967212261 -0.37107969771093757272 -0.012030009651177109992 -0.12956296916941345554;0.96746938749097033394 0.72278148468185376974 1.6548939776126856405 -1.499650871183027423 -0.86383180834370354439 0.56350929496872048663 1.3985715473425579525 0.091661090072629125558 0.50976961799254882912 -0.69896172917193655216 0.93151578042640514887 -0.7540192694597473988 0.48242916379469169552 -0.044347590096309424945 0.70007264684029735236 -1.205728533070266506 -1.5940324818668147877 -1.8608159297149309275 -0.44566835811008476131 -1.0504982322847720155];

% Layer 3
b3 = [-0.44463552764432529019;-0.18242911279322154838];
LW3_2 = [0.61703081867374509617 0.38573393738163852529 0.9601967998799968429 -0.50516062906144987288 -0.6698179929949332756 -0.48086862734292240562 0.046584236428841414857 1.2543810626969547073;0.69653443326956598902 0.38421544892619402534 0.92078296318146746202 -0.48385902802878405504 -0.31053277515825455923 -0.48393123026639578432 -0.32193183872171393656 1.289862814172010097];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
