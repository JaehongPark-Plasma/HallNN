function [y1] = NN36(x1)
%NN36 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN36(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;2;1.9981809112485;2;1.99835014757685;1.99880849618124;2;1.99851536816252;1.99936781582517;1.9992322373806;1.99844165653693;1.99869066925902;1.99817053972976];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.9350325853980557822;-0.18465899448350928114;-0.15936459057368770886;0.37264012627266207556;-0.16468349591464473414;0.77328961015617392327;-0.72082588856287999057;0.51101024476953793574;-0.065264699210172874566;-0.68183845485666327857;0.98242491336954052006;0.11291361218653078735;-0.13402424609539620448;0.11878295533162921971;-0.082661468506481691754;0.031231504228934569428;-0.13863057899264713546;0.028544614255622612758;1.0025793770563391494;0.24683581586169109356];
IW1_1 = [-0.74060715156023260164 -0.29578541159631904778 0.3918752848997418825 -0.4487888603893417927 -0.21085436943074303828 0.26923626372909170712 -0.3838346663394576197 1.0045899259717645524 -0.18064374813563296995 0.11875440021976671479 -0.59633856435971099863 -0.1804930598080837223 -0.029613286579818355604;0.2853280959287289309 0.47111549886579595636 -0.088082954138433103286 0.022170911564462665588 -0.64341675097483785883 -0.2713426333399165391 0.63594333863320562372 0.035619143765530186796 0.0035684061302593658889 -0.085822711182937327923 0.067996823637187758793 0.037057438925708188759 0.017493401433808057621;-0.23293942935414285733 0.096457984538493760085 0.2417654853258730252 -0.077246970224859351495 -0.32878728892269304396 -0.22092070883893746847 -0.024550511510010714772 -0.21955689136001035888 -0.083660498598489230204 -0.054422924234637078122 0.14627758105631108454 0.040209242082146968988 -0.029453840792592292375;0.12326828162901473651 0.54724977453827194918 0.036518732042055863929 -0.11217473084691648166 -0.18086428805456924995 -0.20642643939097837791 0.055595204025553381089 -0.30828599418027624601 -0.01496925595416815323 -0.085146232071924426998 0.075708174698705707484 0.055671572881038890179 -0.034340378603956889236;-0.15889645333682897443 0.22497266581002448027 -0.28634782793959806524 -0.14174104125605327398 -0.073085741857240121844 -0.17825035964387148102 0.16243999601042929948 0.012665825169402979838 -0.018954751623057066595 0.044521443018710728234 -0.19310950212060232212 0.040014366258715461377 0.027885897342822745654;-0.37384993551872830464 0.54353210437078147699 0.37809727857124980632 0.14422697242697063436 -0.14231393084986837527 -0.2194175261804024446 0.86581735887151745068 -0.033957046496162296423 0.022422545526551880546 -0.16587468983093883734 0.48283875888358396278 0.0056644638638249002888 -0.0670670937304505832;-1.4433017739633473564 -0.29717921292738369576 0.0010184492513545702341 2.0471873718957231958 0.034181693324818955559 0.090522748984412648721 0.022206986414134682883 0.066012068264987483479 0.053527786353453232771 -0.077709225200573397996 -0.37401798735834268506 -0.051281962804368703968 0.0094410223328970695883;-0.71003770636525354032 -0.54884047304953409441 0.31117991774494208057 0.24659898057293641593 -0.18380632938769320139 0.27660308453962934028 -0.84790395161089404663 -0.26881519602292558435 -0.09521407348746566135 0.69439889438630142404 0.0058656596842664113917 -0.070574648499945130675 0.0018772034900245513495;-0.79240150757224347977 -0.7745376129645511476 0.9306353306128468672 -0.33701489951753305085 0.25930354972421432169 0.12059647368814943591 0.20659210057412924488 -0.032767996602033076792 0.060751079564382935716 -0.70471944788769147472 -0.52648785291848487766 -0.10480173620979293947 0.050301571344215284531;0.14333774379300318058 -0.90447044639425466794 0.01455198729937127837 0.014256991832768361322 1.1061811902123273033 0.73352910615806921069 -1.4428235469613337472 0.38768790633215771679 0.050573281386823133732 0.83723369136162162363 0.0097968571830818716728 0.030932235671599694893 0.13432231362159399723;1.4550968807713966502 0.55371831948334293561 -0.52785690791334105576 -0.56788435838606221573 -0.042121841376399356272 -0.34352016092653786528 0.30347426896890866699 -0.60547971311086390411 0.0088044647889623014331 -0.36357890722985153342 -0.26167998277836795884 0.0087757746789757316158 -0.003420122911229743403;0.33207146796204423111 -0.88188076826748618142 -1.0338593548286831858 -0.026490879785266652213 0.36488426316013378159 0.54196829518253641922 -0.11977242543729760271 -1.0311472458699435517 0.041789250107611065899 -0.062931581822591300956 -0.21045135422757421662 -0.13155488208530702332 0.0084897231326497915593;-0.99206066812795556942 -0.14445022582463923344 0.31814460777095615596 0.43481560563513249607 -0.077607390331842260323 -0.34912222632236605824 -0.12988237545264783024 0.11784733544050027265 -0.10092233047622818642 0.35454513410197635581 0.41176622066191365112 0.06863140242774434796 0.10282228877021785951;-0.22534366173827211077 -0.048688015716370630637 0.24497748483304876421 -0.026750302036310232706 0.1722441511355823629 0.14256609109324824836 -0.18548828766198810492 -0.73728747723816612236 0.084820755627430799439 -0.25118506019759972991 -0.138179513700041251 -0.059031688757242198329 0.010550263371240492169;0.040394052267965004088 0.20655584672509499922 0.24391332961519396338 -0.35233997877403655519 -0.41633671822806617158 -0.37162214473474436405 -0.38280284005202125375 0.36994855751333605154 -0.41876101170066509782 -0.54843287123589923304 0.44635317144548875001 -0.19179415841536492926 -0.39933542339943245425;-0.34837956906300243665 -0.14921648543660884223 0.04028682276899589465 -0.10270226532355100635 -0.21639253300695260318 0.068069814427621652686 0.29939632187536646679 0.24721962652445755859 0.00058393591564074448508 -0.017881215099473123098 0.072690179262139095751 -0.0075639661983241835569 0.020031020585125625111;0.54474694693204139817 0.56223516957408681272 -0.8187613773319190047 0.3459072092020817335 -0.35529401717269148975 -0.40722941993778932757 0.43376790732354980618 1.685611016652863503 -0.11988527442174644333 -0.36811096947794880174 0.18260102695488172886 -0.015758381716320782329 -0.072268720756612461753;-0.065574185148084482289 0.28722115150795479721 0.19741707169143080103 0.31636324398922976986 0.014362155981347060618 -0.24614228785494690621 0.15395301282884640837 -0.2680679441665795304 0.13049679082824500176 -0.12300091120130526856 -0.24553438106265984553 -0.092043820488442895655 -0.013882321976110542638;0.48760129900103948986 -0.1908745008622068362 -1.2552186573703190131 0.20810960609568773805 0.2572269874908041376 0.47794571124430079712 -0.47213751233336032076 -0.80446220466670159688 -0.010389798976178383355 0.069798620834541968971 0.34826530718472081816 0.070027928030364491874 0.040333977454531003137;0.47406162683672975477 -0.31916891189772711446 -0.29561603629285559958 0.34692399524185296711 -0.17634084269093339148 -0.39893856327811622053 -0.2022235613481766503 0.13777634835820426473 -0.3191216451146523525 -0.46222479194674470637 -0.034365007496128995024 -0.21188695436970866881 -0.077159820447019994427];

% Layer 2
b2 = [0.39609753604338726607;0.21315863737833506963;0.18027929611383086694;0.03006411849644423373;-1.0300802154291428536;-0.33854553693893962851;-0.21692546467522638709;-0.44541996283404322599];
LW2_1 = [0.26429448093998902936 -0.49030707399343365083 -0.18692327919194340335 0.40206371734230328396 -0.017306245367263183021 0.095048322507081783872 0.0098678265882705708256 -0.10927523180395136426 0.028692063478666582355 0.23732638511464629327 -0.11045280181017497201 -0.36147540532570582306 0.16883853099812815013 0.086423649044531508645 0.1077162293138868715 0.32523155814636384164 -0.17651028449986327917 -0.055850949349939192634 -0.23633791993677855103 -0.12366446305528375205;0.16657243437938423769 -0.49216933757198394472 0.11619067684760407688 -0.42035517769764552121 0.10876517179011149783 0.021769464531543991637 -0.19095981208399337437 -0.060239626624289388523 -0.06818549019566662317 0.49367035973025730211 0.15046000325186503765 -0.17530388323006104723 0.08768345343927867741 -0.21010873474630098467 0.10920130146467048327 -0.1675989838175928337 -0.34323365906491609678 -0.14908348828257703134 -0.26945509216505797445 -0.043275188803916592173;-0.15569065780541380128 0.11691060525878500809 -0.23326735526276232147 0.14859563541979317614 0.3204157547501209069 -0.084627158868894825083 0.043519634529202766426 -0.086299994625777171064 -0.11657467177275135373 0.46191276911640205549 0.22458984567583539782 0.17981417529375468001 0.15564440093005488253 0.076084902264238737923 0.13726192089041583388 0.08799652329536865325 -0.16075909900115570306 -0.13326457444031394872 0.18006963827027092084 0.075655383519199176368;0.063591312931379179174 0.63587076438966216863 0.12285889936091955177 -0.38175145098925300502 -0.1650017010303056475 0.14774539814207510169 0.28237040836578192193 -0.30536857261113087292 0.2630623862702546889 0.18153397785796243635 -0.039945827221354250625 -0.28299715742006714692 0.085352033417674361138 -0.016253296023514461621 0.28694851268002813383 -0.33159606297605909164 -0.17710331152864700055 0.13336957120737025217 0.05467058322599645942 -0.27125664781444414064;1.2487995199543306946 0.51511118185914184231 0.12723185119642987928 -0.35750844316614521778 0.1322157382101941947 1.0245313485179141644 -1.5065497260191704765 -1.0278523059559994124 1.8373136495332293983 1.2247335242723473847 -1.7466176600938092545 -1.5264413502587494964 1.0791403969119459649 0.31214483511012397488 0.74333065344543924891 -0.13493654689207018604 -2.0030260658184073641 0.045817999022326964809 -1.777738209502657929 -0.94715648563158805207;-0.13888952988427868962 -0.71835793178164686346 -0.48792369381605432688 -0.43544077942108594392 -0.15070256710295573677 -0.71046387404184951908 0.088166052950516271558 0.53453353648133794529 -1.002199542485217254 -1.0163186670770982811 0.13881102240703704909 0.53959246529893400979 -0.0043518053575638503128 -0.087750234171921473458 -0.43687366547029543584 0.23582189503376016493 0.7071630823122971865 0.27805568931191232407 0.51230523087495893897 0.24906144782175729246;0.081881964334039533671 0.31670910096019200264 -0.21222939201563947864 0.36868824864620619586 -0.059822808458885115557 0.21015219922967351418 -0.41275249919613343774 0.24436325173698450475 0.26771094059978761681 -0.16606878811192737899 -0.23288782949062417083 0.25056490559381405792 -0.38520159651616181495 -0.020941161254702578276 -0.3129419697610106299 -0.69328927008546958888 0.068286329493733574636 -0.45337071930346378723 -0.37457856551039464543 0.29397081818222953187;-0.039383230293751340934 -0.29060496429261051254 0.10825470974756357112 -0.34465810165409527244 0.6463944746697217747 0.018658309283685857449 -0.38347079393900967981 0.21009142067990463354 0.079399652646240603815 0.025246789016834927932 -0.16902882059396537318 0.23319295131997633264 -0.29639293977902170241 0.22781730871056532495 -0.079963195634959224889 0.27618947157653800373 -0.034698922433422089984 0.037138318783367471609 -0.0943326305855762548 0.13120957143908879017];

% Layer 3
b3 = [-0.57646989694015238204;-0.33390192766998627594];
LW3_2 = [-0.27233738532401513543 0.53666306839850475008 0.48347378029991705528 1.4172808107353713769 -0.99716556296276837035 0.51083783674855343104 0.93903747645012058953 -0.71861965712906128445;-0.78138987027452122547 0.76106143459464703493 0.0117024409004775308 1.0415272216784141612 -1.0354706733451819467 0.30666800514822378787 0.54950400293080514658 -0.5793548780656528896];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
