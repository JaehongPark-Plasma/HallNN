function [y1] = NN70(x1)
%NN70 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:29.
% 
% [y1] = NN70(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99928561335188;1.99940124819715;1.99885887553359;2;1.99823829320412;1.99874882957191;1.99845455962902;1.99875572250733;1.99885814125538;1.99827741699022;1.99818612081584;1.99914901997688;1.99927923965524];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.32437949534924681583;0.1324954092871477862;0.44566115731486527496;0.70157349962170478808;-0.0792428607115369249;-0.090853790253313110314;-0.092917485076444539249;-0.57163663556747335015;0.30865279650442922765;0.17451235470789486226;-0.77881325464654527213;0.36903206769000646004;-0.06493479533860657682;0.1508423785552730767;0.084547514817351870908;-0.93316983054740498815;-0.54706392277856275008;0.73196679839012501745;0.43754208429928553858;0.3052382753035052243];
IW1_1 = [0.067481442862148910411 0.17468287112113850545 -0.22664701035691053876 -0.23446989961507427869 0.071700110726755514334 0.0030481766587408913594 -0.003491207197021748386 0.047435696836130573917 -0.010274793392942779824 0.10425914886001011461 -0.095400468650616132571 0.00037990416104226131357 0.017630293593073140951;0.47442514821839709693 0.42917906016611817588 -0.52308688141409898087 0.4477035480417864699 -0.43827077402379566173 0.33182527903502095912 0.1142652194054437631 0.72015361667869215445 -0.080184723103236280051 0.40380856996204922416 0.1589277182934801802 0.13636405693666037164 0.093757553447076105724;-0.0070083932043600877942 -0.13362935848154550156 -0.08316158670021256416 0.01845505104893931797 0.53107015171699867295 -0.10127666878956105567 0.56019798257223585303 0.4569589223346668394 -0.40082827178047669703 -0.020527762702886663548 0.22241177898327268991 -0.17598447178883708242 -0.24774830380306925304;0.46922499624778507554 0.35063808639594779004 -0.30075692861782798992 0.23713175370655684149 -0.12928357907450899189 -0.4606272623796524579 0.23704243851891929062 0.8697396802791126369 0.012780961783783184593 0.49750762437711387731 0.11360980687666169531 -0.060945175326141950989 -0.089555958945417207806;-0.40143679986414548821 0.55910931864066371055 -0.31608826985064730763 0.028377460682784058643 -0.23425894182496184714 -0.10150388557369860454 -0.49323241100572268181 -0.1013609823710086566 -0.24981229091965254097 0.79722704149936773899 -0.074874760775308482619 0.042879695018094542147 -0.18249682548132312165;0.10059813909048397063 -0.26430325977242558055 0.039267316429258611321 -0.19960931230576625661 -0.23840102762937370739 -0.14535090464025582357 -0.16839828394974915016 -0.67445936264957928596 -0.077091567725984827542 0.41621298863956440739 0.25097947825752231488 0.071229059553592433129 -0.054713603741393272706;-0.41656089588136080426 0.087062667105471780449 0.14573699425086092396 0.10817052221370741794 -0.26315940065726284303 0.27145470135408655832 0.016802769031428750612 -0.99409781905468797003 -0.0034395491596816438543 0.19723006111799240569 0.14986269779672109492 0.087730698297471848557 0.063684345137818301752;-0.55231928360348236939 -0.16518211481734509927 -0.6137368736142195802 2.0822966574551942109 0.076552551842070576393 0.041547038676590632156 -0.1922175347595558581 -0.16668094108931255648 -0.0058147296170887406014 -0.12833920085323793914 0.018927274487745768261 0.0063988978322422071857 -0.08557185452772560208;-0.21587524203163044323 0.41471754085520373678 0.092566414268373795049 0.66459748167915966288 0.32096680456658227554 -0.6339310270859591645 0.38592391369980999505 -0.37440719683089523917 0.35052517901955854152 0.12183128532292804291 0.072233589504662465419 0.033336489437607912112 0.17934152649780474298;0.11488747210731084514 -0.087751680215132660257 -0.11398721245996525087 -0.16522540994200740627 0.28869746617331970562 -0.021799886549629929333 -0.50751022159886860496 -0.088619063659836960767 -0.080022925249507589895 -0.077584814682789993157 -0.022465205623384398165 0.0057223884490465743574 -0.027825359448501899712;-1.4699871450508268378 -0.10095788965345153798 1.4645678721196748739 0.20275163437151744183 0.13196877594737982387 0.09097589740752218268 -0.23512171956844299392 -0.11478270755925311375 0.087630689032793335214 0.059949362220761449882 0.54319722106681100904 0.0024700395646802511714 -0.079710740644863428694;-1.29482282782863245 0.14317869923812970301 0.55529430337339580337 0.86137391261648199592 -0.62914085629133109645 0.31646376926768882143 0.26835496054793733789 0.16630180858362159091 0.067259204474033246202 0.4563167381536348266 -0.047354596273644328219 0.038844605348175562098 0.01452494472109519541;-0.053414798584058759134 -0.093401817238811371547 -0.43514157204189968242 -0.016657081042163096596 -0.57468438595117843359 0.17797840164375117178 0.44225445555733661207 -0.12166426182391165689 0.22271965197954576854 0.040355338661409473344 -0.72279256877775222012 -0.075014773645871682395 0.12566525102023207161;-0.042086527935698017644 -0.43466489102564537239 -0.9565439171769186677 0.44016751774580992196 -0.25432088824579207609 0.099542502828229906253 0.063805822760010039163 -0.60462914975015435992 -0.0032301719341262585469 -0.33111374012390798471 -0.25031228250737352914 -0.20974578060049672845 -0.12181304123924238669;-0.47309896429734793477 -0.10309744047229917052 0.12513512479803995392 0.31855515325549343952 -0.22715221797235934931 0.046923868296037021808 0.324467090543826997 0.056155759944415538365 0.038077453564672188169 -0.022146109145305483551 0.0031885224285729961598 0.0045105614853247245899 0.012801879953615013727;0.36700125117561060994 0.84939505155301486816 -0.22137058432047823642 -0.052222191980786120125 -0.57768371918062555448 -0.68288642964935630797 0.9824856902543946946 1.6591846230063662659 -0.051073786604716453486 -0.75301967096380229005 -0.30272098648086981365 0.00032987188077439875446 -0.1168411689760478489;0.37523719285331408324 -0.14487291889037515191 -0.041364898234392093179 -0.3503190971180110691 0.13773836916342241388 0.3204779165914529715 0.044896129059832597108 -0.1796051445127643531 0.013936229163903047015 -0.13347811560346523052 -0.16499135127533681722 0.052001413221908307505 0.033055201145201822122;0.87762575196632242047 1.1326815904199096785 -0.81399536141750827856 0.30448668767239100985 -0.76084098387378917838 -0.72440132806286827716 1.1875200236344438665 -0.88815148698994383913 -0.0094197531525220881687 -0.92456169601222548682 0.95067371827682878305 0.05934496102540981477 -0.21906470199893143813;-0.97093409136552466521 0.25321045560213362169 0.35875375357469563298 -0.55883689460220442591 -0.74108842820176301647 -0.9786884462896476844 -0.28573914418385415459 0.11598380097771483765 -0.45867009099461009125 -0.15219550350042307385 -0.30319386231387518427 0.011391281408925594404 -0.20123167561308558104;-0.1795249237206303361 0.22486484957658928185 0.15691587958482100529 -0.1212477898131248677 0.26406763474957622995 -0.12425940132890588019 -0.13793170685092975836 0.17727467501319671417 -0.12971344613009283542 0.061274102198004096187 0.36102333091922705899 -0.49299053138030007881 -0.42137231220128829046];

% Layer 2
b2 = [-0.052165727985300808234;-0.35462867861909624922;0.31897721540208101576;0.094098116595179581712;0.071054195556753643737;0.12768119348374701305;-1.1872536761462217925;0.19981395354067002512];
LW2_1 = [-0.14745924977910079834 0.10691690483022864289 0.059136465933526116689 0.093690183381364866566 -0.019304990166126190232 0.15892336573930077037 0.17911920496586275497 0.27064058896225096085 0.12444180121236954328 -0.30031842239130573935 -0.46627532538648019944 0.15880728544675612457 0.0058914259082435962642 0.23096269316047310372 -0.61760495297598150266 0.095879816596076916646 0.18383427165426455274 0.36256702332344942219 -0.10213086214846617272 -0.07501609636318014307;-0.17321857360170855866 -0.074256209098934863877 -0.019749873027232221073 0.19028288604359389069 0.21386654397490109658 0.5278711777805408234 -0.30000304014223327931 0.43121143578967086052 0.11314540296669925445 0.20212490307194011518 -0.61113739793855004212 -0.095083343666230835112 0.025444257914657979203 0.23449995446852373027 0.46269932751845099794 -0.32202106436897137698 0.27678115049873880382 0.74170898296403398042 -0.23773819127057724265 -0.163779928915856271;0.44095556723505607843 -0.010909719415412435367 -0.12571283777494390854 -0.19137080940706602261 -0.20813242606992449213 0.55667316448190118372 0.077830823904289608839 0.10406661621311247279 -0.22819916329475237182 0.28491446036548251364 0.50713146378299134298 -0.29764833331736745281 -0.67526860632199237067 -0.2830853321095115338 -0.34857383534267405434 0.029860769433124493416 0.20569519599809540922 -0.90643257043714486887 -0.20006033017973548493 0.0589131035400242975;-0.20036601210878096646 -0.029663497122068567535 -0.32963904148682843243 0.31636376579593850078 0.04509799154926646958 0.079625955327865913236 0.42661253271102117512 -0.12896643567643872874 -0.30842544361943302622 -0.37572193700796596705 0.72954213640160248122 -0.4421071705935329943 -0.013494740860994827378 -0.49218679344464622005 -0.31452678343748657896 0.16133436472334228284 -0.16941023640829366848 -0.38830426878049723038 -0.033388418149924173339 0.29460913195058557879;0.29348927798561802449 0.058293786329399702173 0.014050474109097439712 -0.068783852385381760719 0.35840146629208108342 -0.11168806046418132405 -0.019022059098674271027 0.026504256356062873973 -0.033902978993585658474 0.32912978814237325853 0.10367141041506552912 -0.35747124393464146941 -0.20382372851327046348 -0.080469464753685604474 0.60649833732972624478 -0.26318495370231231867 -0.13783517665879549408 0.092928108554691371546 -0.13516999507725685481 -0.063605925448967745583;0.35112005785009792191 -0.13579548196126084436 -0.19892525912750472217 0.28144630721663077555 -0.33912314583784047839 0.30358017519060670475 0.1545134839815388017 0.10808266267498770064 -0.02737914356394943044 0.19214187098934082387 -0.059030111656484550442 0.25086699512342791607 0.50758211875560488302 0.046076460172344194111 0.076213677562067067006 0.14059780881870526104 -0.21307770055186342484 0.41430255915042230042 -0.031244812443644919692 0.106864506202423451;0.40645862585689906954 -1.5087244950169163005 0.16302271400639198329 -1.0020108683108095438 -0.77324528291782890221 0.48185664133639277695 0.39716754121246772291 -1.6575582460472400026 -0.58398443326351745508 -0.44740889075166495603 1.7171794398594626418 1.0529353359384030497 0.13579611195476004593 -1.1756414414719593697 -0.1442575814744955498 1.745701687838775884 0.2971200052268604952 -2.1181226944994016037 0.62055819800131406527 0.42268794559948630329;0.37375715569873751987 0.19960620638550941042 0.056714526677532101084 0.1927232646954078199 -0.081619686139910690992 -0.067985603742665365323 0.33836990368074210123 -0.27870926215875685417 0.12922650980881303373 0.035535002930424657019 0.058610660589074083104 0.16963453947958900825 0.36047324424494092687 0.15526626663597797862 0.50484959146553176623 0.43161918211146305113 0.053002180747151274309 0.35881051180337630857 0.1336683598359705849 0.097647591257045765478];

% Layer 3
b3 = [-0.70574653229618722339;-0.59340212002285896986];
LW3_2 = [1.0707724665877378367 -0.02621744137082029566 -0.54794867496327914758 0.63380208774381829873 -0.94465925685668705736 -0.68733604210028409476 -1.2614953283516507909 -0.72967180672792253393;0.65428151753732965989 0.26651979021450339369 -0.40561408839786661229 0.58993688397718635485 -1.1745927287814663664 -0.76410434831168139169 -1.2811250105652374209 -0.50352488251251004137];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
