function [y1] = NN51(x1)
%NN51 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN51(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99965637425338;1.99890312279416;2;1.99927232548634;1.99953613701639;2;1.99854080695532;1.99914845438527;1.99860996122525;1.99835768360877;1.99818935828711;1.9988173829435];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.04249737090417557428;0.18015177149148045577;0.17066042850735474445;-0.44393176854687926847;-0.10784675882986563544;-0.38886773715961858722;0.012845226914248154132;-0.29485086160117246479;-0.19334123614303602712;0.095284181836566048118;-2.1209277867901281667;-0.40447068097329735847;0.48126216197427007515;-0.45196724276378863472;1.2472392858436256446;1.0460285256333221593;-0.44974390483707715749;-0.76557419156499961765;-0.52026058861366020203;-0.5752128756292529399];
IW1_1 = [-0.50786402154435450473 -0.070319187463724952547 -0.080982030303915014668 0.42391456254112191981 0.064907076130193669394 0.13156536566829718504 -0.10264310740540712186 0.42653299392798299516 0.063297868500385823243 0.054468025031084103815 0.0149321397856786095 -0.036081869906256600067 -0.012297264230799038326;-0.50689078886358196474 -0.11330731205447866494 0.072979907323192691471 0.84638156471721937013 -0.15931719986255613031 0.17559824247969946232 0.39614265001706466807 0.16784190048188937783 0.5024258109586323684 0.47596567135822859251 0.48202479807254289268 -0.31031519963789938599 0.22442878471956809183;-0.54441415493221656519 -0.05011299804343594122 0.56156519169006990921 -0.19414560609440700834 0.11088701152989255405 0.18238747167701516161 -0.21543646927292733895 -0.76787742200902076029 0.12880490479154294015 -0.07432808207409159762 -0.3450466940242791769 -0.0099533859096530043209 0.037752148193120213526;-0.099821825855529469629 -1.0139945241097985118 -0.089195200457030290875 0.69041367982015899862 1.0869404757922904725 0.73625485125431766598 -1.7549095040549402835 0.30822005960186638074 0.12711163456989196807 0.7928097946249411665 0.051079260231530337899 0.11901385649005868927 0.19979483758511740188;0.060460642238730551157 -0.15007174893928953985 0.013825493118748765492 0.23935023051350437506 -0.38108203468246221179 0.061756937268347786296 0.22129112420754859514 0.28316230016480398168 0.08549675151726593425 0.048796009459385614182 -0.046741803668338882671 -0.02802811588066630652 0.010618383231725026655;-0.83306529722970312779 0.65827049160432982156 1.2408116494759307002 0.15848678191202347776 -0.32813484069509757379 -0.40533741002793371999 -0.04292887404949160407 0.58950532011493639306 -0.085771386781291814039 0.30063081262306351471 0.13812581450793146032 0.10863387957717841881 0.13235427760093360083;0.35380669324799085551 0.13628417100465373135 -0.26720141171251959866 0.17004991651624515314 0.50456426586297153936 0.032507638721522819081 -0.40839226307958359508 -0.063452942337494766534 -0.0260744033996208463 0.022656562139009218948 -0.047136817881511652861 -0.026347528189606644888 -0.023786733428997196282;1.1629661846300189953 -1.416573159874997323 -0.41682842501892020115 -1.3492565227891002433 0.3835503228392489472 0.58538793685704060277 -0.11493737927855646186 1.0382296525639611584 -0.091822651444927877451 -0.084576848238279100922 -0.70583003040239555848 -0.51809762894746047568 -0.10002341042105833413;-0.42270851397778369529 1.1403759159110375965 0.37908603051500477932 0.62390201428720670762 -0.2393485571222286612 -0.49400537283415774104 0.52247786211240410115 0.30583970427847273488 0.25115820791737925033 -0.47461008992818898289 -0.45250494872607854857 -0.12933411661363652945 0.16476034419646293228;0.13856852193875393575 -0.21721205657160810865 0.2356363629586615549 0.17166175719533949273 -0.37024691962921529864 0.049511692328798900808 -0.25512570317221411331 -0.63829931971235842614 -0.13655598786466432992 0.51413491450578485686 -0.027044762091976433382 0.083838107468065400929 -0.24629742776378324431;-0.25603909411804665064 0.94235939217472008966 0.56683548108057213444 -0.23831725293687866518 -0.76978947087344340439 -0.6823805089820872416 1.3549910440350680929 2.440628789708325197 0.017370481410288240998 -0.78480179726815468833 -0.049828928048514797844 -0.12450472642700904924 -0.095534228432992168711;0.24195811360930002953 0.53762291032933462454 -0.8148879785288906108 0.62434436175245355827 -0.092521825696869855471 -0.048766901189331059163 -0.66229127767899320656 0.24094570043236501755 -0.16682620492288149916 0.78856176545197542715 0.44855172677697441319 0.060028188572517460209 0.0053941498050907189105;0.10598673149483403555 1.1192710059388533139 -0.45640473679868021062 0.58588681922325935858 -0.84608027125357387899 -0.73484802405142823911 1.5252984257188475503 0.55501795713079560279 0.30302852070763591774 -1.5340081991592344757 -0.28406965336812528555 -0.092625541779136427722 -0.017005455263926362586;-1.0894787540809525161 -0.10299236985249957121 -0.28687933397604070684 2.0931374528486355047 -0.57279889727819510714 -0.10958096379622707384 0.3262400814692340556 0.198651058059659269 -0.0041251753347678835754 -0.23274620689332628509 -0.33235004286547170649 -0.17756703804764448207 -0.078249776279150140557;1.4702182955034717171 0.54145561236870753952 -0.58744648066040838774 -0.3729536791356881098 -0.27899923349589450527 -0.24513210186960893155 0.69403249466878258467 -0.48418390644971026626 0.14035760003026212517 -0.67645438513755640209 -0.051300936207541836254 0.013068521950761718964 0.013435673974129097238;-0.3685816453057809694 -0.050955043798772789443 -0.55256880716789491537 -0.31102558862814611018 0.47957014629882221968 -0.09592088701525625094 0.22111868668604853227 0.20028432466981729854 -0.29736409631536836473 -0.4694169443090094318 0.31755349210757538581 0.70489074192046274892 -0.53432803598884981433;0.3446891464202944122 0.8540934982933879871 -0.22550040782763797198 -0.064048270789049677187 -0.49173801965773888956 -0.10195434745590221948 0.41375737993040667684 -0.40231291183431888703 -0.084934599983103903353 -0.021993119644369937826 0.39650212560081082858 0.25314476589061984946 0.032232673360633033732;1.509318662192910887 -0.465660118774034959 -0.3085280842763993836 -0.88868468623021201758 0.18731835904009500049 0.043049514624377581418 -1.099322442375590958 -0.28924687320548203573 -0.18772748556956625476 0.84183708459340478303 -0.34620744760556843023 -0.1163200161860396542 0.23373624259052372398;-0.62128913794297258022 -0.69776628367630166849 -0.44030020900238864279 1.2879734138749054928 0.2733005718406200657 0.36798182126402689818 0.27093833381062476517 -0.19803162244093103217 -0.13964736916508907472 0.055977192387251677175 -0.34222385341749472776 0.25463862098219103292 0.073846670058957383787;-0.65729084003343951625 -0.46707453189473990829 0.88572111939499853506 -0.3503089918694515803 -0.029248331769068158792 0.30478158761646806374 0.25049128498295075707 -0.36947467788584742454 -0.17553582796489908269 -0.31777517592961385118 -0.34542255782487601978 0.12784337604082479656 0.099218874233068812818];

% Layer 2
b2 = [-0.53720419424678134135;-0.14489160197032852073;-1.0865582638708324303;-0.15226511474864901086;0.27995453149213589406;-0.71513523841026560568;-0.30436175377249702345;0.72557329286611682573];
LW2_1 = [-0.2742092780795925 0.079860722920514159995 -0.83290223087762937926 0.072808780989103427661 -0.23386794255382170604 0.46513238546197471779 0.39799876815455614842 -0.23554451402651055414 0.28558013730261361252 0.36079801066770617046 -0.2016769259308183182 -0.15510707095367523567 -0.28305070196050907683 -0.21654927946520574622 0.46710510962762341602 -0.72977269354915474953 0.474132585787642169 -0.22341829056108503115 0.089889574782038808576 0.14813805842077087949;0.2598451571059938181 -0.0070089961257316091281 0.11169513536771491502 0.028740662199692852685 -0.26204668751574333729 -0.068759981211426249303 -0.32320792015431748512 0.0045446043940617856377 -0.00212144169789822137 -0.087992837211798666242 0.038421835078477781233 0.063665089987918019321 -0.0035615458836290060651 -0.12611232752144660441 -0.019317113407196776637 0.063417153856315050531 -0.16026392226388533335 -0.018569846178450429008 -0.026820096553400327166 0.034879623182431242212;-0.36667225610887499432 0.57446656170720677981 0.83728145431632594597 1.7133062775559293467 -1.5992395105515571085 1.5646732389619251169 -0.93945996090549510615 0.7248490997684911008 -0.69215018363445823812 1.1843190100073963666 2.1021038930936821743 -2.0357569125971322066 0.37185323563896449661 -1.4996008179275304162 -2.6541437102706337825 -0.74713700846374275777 0.75702114322622793274 -1.0144072673017412445 -1.0487016106679154515 1.1494363450137734528;-0.12648594708656388241 0.21033606984441755028 -0.49484081759103804021 -0.40253964076502929403 -0.095184825646559320655 -0.19468233872826123942 -0.67937084193308305835 -0.16183012533848931125 -0.0036178459865281037411 0.47540498034768374769 -0.36592193693857028025 -0.53070889912257013243 0.48958788759571691962 0.23801022729598159122 -0.22228011358557711596 -0.074421145999316304365 0.28001054600026997754 0.30946014628971385552 -0.32761795674854382598 -0.052191595197229254111;0.2208090154629329116 0.19683408734563356823 0.059681872783378664415 -0.27779798379569003997 0.41286401110192683106 -0.43252854992637723708 0.029028352508580941571 0.29710912498699354467 0.015154004915180147375 -0.15091181099654879527 -0.037458184938801028507 0.89381367396905808675 0.53809246126679821653 -0.087767583430275464274 0.15530290705058974465 -0.039075088776518371314 0.16270763073043198466 0.12158110739157210189 0.21694080213826963388 -0.68746498635710862057;-0.63291560008577329999 0.088700840545256898206 -0.0086929597280104835971 0.15328074447967432459 -0.060871449271723235275 0.56890054961028557745 0.25863273946103604306 -0.62821046531413615721 0.71813513336803003195 -0.10493358553669721034 -0.023642098533774975888 0.45784005129000809875 -0.27324445817039416662 -0.11671094649291698098 0.36089635371459050095 -0.56613420779890399892 0.46693547386473227556 -0.019729130461742690195 -0.097895946456219046228 0.14601825332926970935;-0.95589145547017639881 -0.16321814619900296139 -0.036621285477849832568 0.39918288365611320767 0.096278161780848220408 0.14550651181943560775 -0.19018507544873522463 0.028096250408607782723 -0.15964851237242755344 -0.22328345335861254917 0.30536709143468804273 0.19107975108583727386 -0.24688170236243009437 -0.27915642303897619803 0.046073304600206872739 0.072534149186422952615 -0.83373606773375530388 -0.22488264348753317368 0.31467748608824358536 -0.26613106771438288511;0.035033597029851155924 -0.14158496836854839174 0.17913142606078424901 0.091315250405725897909 -0.4773762489994964886 0.20915418087525600166 -0.26073663947589809098 0.03765135663017465939 -0.02740315794412333944 -0.030539540500059452616 -0.020343732531306099598 0.19897236232966022951 -0.12492964408933840414 0.22453547142213831078 -0.030823779563045931862 -0.055674483291030890664 -0.15974786991719799878 -0.0055019107011938048896 0.24512619656570386328 -0.35159718360514180535];

% Layer 3
b3 = [-0.64021634870246413307;-0.51688846563415802304];
LW3_2 = [-0.071061429002380965825 -2.0883215692276184683 -1.2091895066426141536 -0.25064898300859655977 0.16084149461421554106 -0.0096452065275131372568 0.24055019014986067649 -0.7906829570813426189;-0.12206397934950460882 -1.8879834292304442656 -1.1729894089058729989 -0.076024980393490690367 0.11340473717615470739 0.049217041752116587328 0.3884145361869686397 -0.67751650909615734886];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
