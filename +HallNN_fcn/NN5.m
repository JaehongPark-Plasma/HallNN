function [y1] = NN5(x1)
%NN5 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:26.
% 
% [y1] = NN5(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99989420639926;1.99825057117952;1.99913818001416;2;1.99831431563537;1.9980296959427;2;1.99860983178244;1.99812452677856;1.99938757237015;1.99817376746567;1.99856643946425;1.99887550042193];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.58127273616904118203;-0.38827581640078212555;0.60855526324804343208;-0.63951045154884422761;-0.33123996532147453875;0.51964425032555183748;-0.90796009172672031973;0.15642370370084751618;0.059738882207265683877;0.64426680641669287208;-0.68264420869522579594;0.36176930479212837666;-0.03896064226680200776;-1.1298074590226894198;-0.80403605336480676868;-0.40591886973900737079;0.12776328079148344119;-0.010883093639733906408;-0.1576830193983879691;0.2291585690787598939];
IW1_1 = [-0.22161399343743021229 0.50010889107385192442 0.72358259770046429171 -0.063338324045630167713 -0.071649430649624770706 -0.47734029598238786329 -0.056388423539954567187 0.65971138695597519863 -0.083999750049277413511 0.15000255026667488889 0.44570622568518569739 0.015971330310686510101 0.3329267818037173754;-0.10289402295299762691 -0.54914934524174452424 -0.2984947708067042238 0.10017069457680595479 -0.069634460026844383074 -0.38686006514132309508 -0.65287366860774287414 0.019253039523098196273 -0.25777437580460532685 0.60928535034124986502 -0.032506895782854032528 0.23759827702527913651 -0.020303463410074350237;0.33075194373928251679 0.7247551516867147825 -0.372550377785176412 0.19167792312805539967 -0.73962115569289843542 -0.41940672650999527571 0.91965455534640827562 -0.30311676143498372804 0.046251867850389510872 -0.56389002877096872091 -0.027814516750318218213 -0.016775099941534820508 -0.025600189868094622853;-0.75363521033791247561 -0.30086956783953672234 0.11157186076495657912 0.25768786273637739326 -0.056931032869631428839 0.31581085604807462852 0.1961464033881042679 0.41149971067088297882 -0.070858551298830466103 0.39264851250714016828 0.40349058036908375113 -0.032316293046766343677 0.037984643692458582021;-0.21187329194154505552 0.44032558718347863946 -0.12190404324684241122 0.049458931646946154015 -1.1311599455164085271 -0.38165678689567417159 1.4126040945578255403 -0.62280001423091946311 -0.077228399832479213694 -0.65809236852718078215 0.16651601400627591421 -0.14771008725175099885 -0.1461667708359476181;-0.70614635093546274103 0.03678682897018339254 -0.26319679771421267134 -0.13505032092102808861 -0.14991994611863826425 0.29878596975910465261 -0.32717299955319140148 0.009567277160691523355 -0.18174154181531582131 0.48690533947262271131 0.40821255967328778924 -0.14904232140623799308 0.0028014977199279523373;-0.70537863724609151106 -0.31166671365009823713 0.36632241015515293325 -0.037648146085267480965 -0.2245529647830529496 0.29094561975372806861 -0.36251426101470252128 -0.21180080094481845698 -0.38371148174799607489 0.78357996816185815359 0.28990644235713985966 -0.14736200579878375172 -0.06451349560877395195;-1.2178368046827872107 0.90167708634720578065 0.49273277547900629081 -0.44317603392594162592 -0.47567968021482132102 -0.52429758126467918 0.014898500109449670098 -0.02141983708433799205 -0.34072644852533251481 -0.16082216088263184828 0.16555676046716572003 -0.23844716545976027411 -0.28500513304571573059;0.76517468371826413698 0.9700156537851555294 -0.30453735461806596962 0.10173979024770317403 -0.66527848031657621508 -0.58623365269264859911 0.78601357478954336777 0.71829800614358663147 0.013937484300295864548 -0.63393294778589925897 -0.048753802422949674145 -0.08106057694798567137 -0.042148147280600137266;0.38422505450008387351 0.38512849250537178891 -0.23762305383556342475 0.23472615481957972983 -0.44134208359695092927 0.11861665109756666658 0.062203060177187172175 -1.8202370077877350063 0.032916251228770468384 0.097076980667419709992 0.041483516358676947311 0.061867232213626374704 0.044080216620220172286;-0.14953998024272283085 0.26809721924084484179 0.12966070928306275278 -0.94821067386630730756 0.25304171082562071371 0.50796294985594392379 -0.26115117017352462714 0.53968057854446460642 0.38620044505185696648 0.16868904208471174888 -0.21734692697721155752 0.34461372018102681691 0.057384094439737062809;0.90100959505949451689 -0.073806484474701228304 0.80205468206850250024 -2.2627246293509593045 0.10176773498503234594 0.047288813045415975522 -0.1588341066723369388 0.25596647566497332527 -0.045625282717570207758 0.10912370530056844653 0.27487605509359219758 -0.057749365170420147164 0.0070338825607382266664;-0.063755430839573051793 -0.059041319870635447509 -0.25551696718854788326 0.13107789219507900991 0.61679344103908750885 -0.0047804494334790729321 -0.73720464971260635245 0.14588907432269945796 -0.022988843698651516972 -0.083257517033689207309 0.028844094580773325942 -0.043814409009047046439 -0.057993371499196921803;-0.19822758463788733851 -1.3879633343970056991 0.57928356835818772819 -0.14509797165318566448 0.51289464691757535864 0.10466422268192189515 0.05897342459675955495 1.0423034162287079241 0.11022697039177559164 -0.54159414561511265429 0.37129005841600037918 0.0048533237418614937758 0.00035208575656568014134;-0.25558071594227677048 -0.91850421919511082702 -0.018601500154936390086 0.044776532728688409057 0.58501082995251951768 0.44010851566538639057 -0.58209322068148550144 0.86363203377585517906 -0.095959882537379442846 0.59005093715551859557 -0.0043637439772781418806 -0.0048306277909925315547 0.069906374292974124418;-0.94185893853188629166 -0.62485152219892492464 1.1260750166815598483 -0.31383522219297771416 0.20640784731337435964 0.15767751083790754185 -0.42533069749766494461 0.005640368427703702954 0.1225851243578964106 0.031539429653559068745 -1.0466841007580467426 -0.19435083659829466285 0.13349610631663952343;-0.42999249198132799554 -0.057196177106828491321 0.60379841795931221693 0.35394431788845942544 0.14109171209241450073 0.19404674834059465471 -0.24313830671058420108 0.52407949629718253437 0.11159967081919403009 -0.030117469589004474545 -0.35637312709805890609 -0.20633348413091359697 -0.30753792747185793033;-0.25674917299849880914 -0.05948526945260912413 0.011758914790963692631 -0.02417810526835708837 -0.30177091703158104297 -0.0038910647306811159407 0.3398885526021546144 -0.051200956195186948794 0.00020077801192489507995 0.022545407762968577153 -0.048136810601129238762 0.0086737950639835734168 0.032112380626803917194;-1.4555490829704977873 0.32591167316089092454 1.2146225232526810522 -0.18247910690503557629 -0.022876558346608219519 -0.069175620242260094095 0.090760891221028996978 -0.11686916480421086217 -0.025509424805890568849 -0.011274113701758584072 0.036538994140013235368 0.037089968263194855735 -0.030650430238329355592;0.74303519122588912449 0.67616937266752608071 -0.6206254256438072936 0.0022215293938847146399 -0.15949421623388779223 -0.06103190492605981704 -0.30951200362321412696 0.68005031858023401448 -0.075884426485870126733 0.57461170412313267164 0.22863875372343800407 0.057868308482091818101 -0.035418235134319971114];

% Layer 2
b2 = [0.087988483371815265355;0.50246607698758483096;0.065844998750878763749;0.33922932348724676999;-0.82141887956305903451;-0.29629843317720233609;-0.25939998091415067405;0.17966717714917931903];
LW2_1 = [-0.022971167955990006576 -0.29151196497385217787 -0.074643459016769012071 -0.66878866736393594028 0.22951025160951213366 0.14560527411493809358 0.058538755461824958093 0.055635515489948744738 -0.22113138550970765084 0.20076123075070756441 0.014525198196641709442 -0.1833834475602538483 0.10135708031099791016 0.32214411742384896353 0.090888640455049810041 0.46217475049762235528 -0.12923235862528278939 -0.014084246623817783806 0.28996499200292541465 0.030488701616337064715;-0.30980318441501386584 0.010158179711441922555 0.55056725770628600625 0.08241342325887636433 0.75643670087732217677 0.42166377562778939447 -0.09730829470428309369 -0.25644549368283658941 0.86792100709718267293 -0.017724513426893125784 -0.0098386731812539537229 -0.19516031916899334586 -0.077585261480646941501 0.091055876780805247717 0.075950800897107526022 0.25030888206503171256 -0.31980431659570451863 0.20796948492774491868 0.32272230072138252677 0.15342456475190588416;0.036407962172923885591 -0.015428432988295949155 -0.49175506467072593875 -0.24593523503327097135 -0.058301843867858645087 -0.02261166494848094663 -0.029410151980106671865 0.068718527342003413172 0.010797063678908515316 -0.099232594738579260607 -0.012695075960623278949 -0.004227373439038282707 0.0826209663197814137 0.073491134411624178813 -0.11774373015843321577 0.048252974822051840353 0.094765164115360886465 0.9158532914178448836 0.052018219289600396704 -0.035745673117852108658;-0.94277054206585297891 -0.53253756943149621605 0.77338739958978131028 -0.72089664269788311657 0.70536600132245275141 1.0541668683165053011 -0.89902148046674379422 -0.59550646778835225614 -0.85615904296279554675 -1.1011304559999524066 -0.98758276699600477944 -1.4739302351248486644 0.66707961284792516299 -1.1832345398504842127 -0.66911929530697378254 -1.0269006692654558677 -0.94153366236994950889 0.1059367852222270201 -1.7159188613501563658 1.7148996167716350492;0.54321877361693426955 0.19839582977138950359 -0.44610734442274230238 0.82972992764963748868 0.59722870824208773577 -0.56269228387728564833 0.58362899744774221489 0.52458379910881292041 -0.49140443937817174236 0.10991255198552564443 0.60615992537246010663 -0.32213542256513855166 0.091586276616986275756 0.99338029644456238287 0.32021433011378525046 1.0653417516399643628 0.28825423762773522141 0.26301891909955160687 0.56102815670024186456 -0.27110444788297854979;-0.056159244953040601822 -0.029539145777599289805 -0.4263767009285867049 0.47820636156289947349 0.0058212432501224967499 -0.24962592348560083688 -0.20673232991218645771 -0.1012791312742079286 -0.13221002278748389402 0.24942890712219056848 -0.17148395210911321351 0.090326649756528307189 0.75180265453702110889 -0.22135881934945625393 -0.38165776995146222239 -0.6133165955702628569 -0.11160585157349181551 0.97355265629033083119 -0.1855081451297783679 -0.16611949758703614677;-0.14690646525632106156 -0.17123434114241053994 -0.20977706643495666605 -0.019799604858241504068 0.017766451312042238347 -0.21631696540523528971 -0.30422249574590071175 0.011449662393930810922 -0.092081715621798135296 -0.048910439372084613119 -0.22948347826156806351 -0.22430488253938651866 -0.32240151213573386979 -0.015156343272804989608 0.039949120068934654282 -0.4632370093424421631 -0.18296351947855921116 -0.22626984158161975169 -0.43613331310549491304 -0.45477473394925138628;-0.023526789811361002031 -0.036920365926999570982 0.1439958818660485862 0.14558967045084028613 -0.36977934419013719358 -0.064286489907426302981 0.046975441549324092883 0.10177050173067456185 0.20058652755750416841 -0.46954174719626867729 0.13515229424071925624 -0.039768536767388396047 -0.14908281463160008573 0.10349275033655482015 0.058730023221836694103 0.22513559240235109238 0.067640789749032675937 0.31896304234734451644 0.029861347689424576346 -0.024357667323274545534];

% Layer 3
b3 = [0.098778248690615258476;0.10844126823289505779];
LW3_2 = [-0.26262931051434118546 -0.3073271412632188615 -1.2389626556540305202 1.1911802757491327664 1.1047454760615842417 -0.97184125913419772136 0.44844348046114135276 -0.31526237909802773407;-0.44753049267238592668 -0.22180210671973338288 -0.56579794360148194521 1.1326129933216788626 0.96891762222169608432 -0.97316576316145519954 0.51653459081426300603 -0.48688372702427062944];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
