function [y1] = NN33(x1)
%NN33 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN33(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99892396102465;1.99882941529696;1.99889454764469;1.99802848031668;1.99866809046124;1.99965469735114;1.9984500733715;1.99940991430724;1.99982089462619;1.99807722101946;1.99854982030501;2];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.15496453916317531885;-0.45634661767376799579;0.12308812824319098622;1.7326107503527401477;-0.20866480587848906803;0.48719222839029385774;0.88827556337780555484;-1.0459306153563470154;1.81278732580723001;-1.2457696586852511356;-0.22937396665043630062;-0.10253274303657633482;-0.20362606934215463084;-1.1766292158387781086;1.7973579640834456139;0.37158779200643354823;2.1490523903135194672;0.29016479920827914496;-0.21060344141007636409;1.2631954507385225739];
IW1_1 = [0.30994630319859250989 0.017132290556614714061 0.49206429747734153901 -0.70337666059028425281 0.043326389331319062337 0.028013162176244874035 -0.016225702489253764071 -0.22093790844881261437 0.015122439744631918299 -0.064640102932753115694 0.056379573752304332213 -0.018427116874439534999 -0.0049489926576838146749;0.69737516011361311286 0.71279073315551200185 -2.0271169682305152371 0.97813409611651414011 -0.36489716275890993202 -0.27535056006866093226 0.20976321228618571846 0.62583402749376793039 -0.14126866601432008785 0.53911842527366748978 0.74637226128702949257 0.18405542030788807351 -0.0096596638503156518479;0.22589080376472295275 0.012676702797423113414 -0.53689561538918884054 0.54638686040153261469 -0.23040092444987647635 -0.043466528194149110786 0.22315729786832569359 0.3565016854728639828 -0.0071517672399192553159 0.090379730633056640232 -0.090568683756685502972 -0.0011855109273849809542 -0.010003470085201221496;-0.62082951432027255745 -0.77274253950368110289 0.11878334423113916241 0.70233209140257324421 0.68633097868910997175 0.53305086614754926266 -1.0759627617254037268 -1.7532498060503878268 0.066419445730662871052 0.39430381730036256904 -0.0041607050363127590087 -0.067546555279938622074 0.10769695292960733413;0.89015542195466168529 0.1479441692013764853 -1.5198681682107624269 1.2316111065433839045 0.020093453215784654736 0.23206051356075593772 1.1014676835785315312 -0.46782471872382686007 0.091200646159951145875 0.57182666308558105506 0.45390642871919301138 0.255528850527747875 0.23769904792788629222;0.061739544825421731333 0.16819041851517063657 0.82821667949039634582 -1.2994348649277265295 -0.27570233408348487902 -0.05330119756261879338 0.30432938661108960288 -0.11571117965506158565 0.011947213011734680865 -0.043475646017624811068 0.11100860636349413335 -0.0090343542335398884652 -0.030173381919324181871;0.36600586885863761744 -0.42839775276356206746 -0.76960577770592553115 0.49067773917884954793 -0.14519287749668377541 0.28250533228809238118 0.77728855732222923436 0.29518901396331892473 0.06796281925734901086 -0.3818461495033341202 -0.22875802624110652683 -0.079236060595899340808 -0.007259420716737742009;0.15284566473034119638 0.25393640079725610104 1.3399854723950752611 -0.18309333672860153563 -0.67272546352884410314 -0.10686656553974720196 0.48238873978944279974 0.39669636084344084281 -0.23837666638551124887 0.31026449652942039714 0.96077451724101692321 0.30619433426710485069 0.37893240875170824955;-0.37202872513357587714 1.270054894240039145 0.40493143566706257808 0.59197575504623523024 -0.15844514531681674896 -0.49900111904940286367 0.46103354466652796129 -0.44582281929401318399 -0.175564893062479771 -0.46432413635887070935 0.5678371080554616146 0.27822425112953935722 0.21474456747243930721;0.91712457849400141896 -1.1316816643601506076 0.11518740634780655352 -0.64208556328700261417 0.57700106422114960658 0.74963353798672560657 -1.2861128479313759243 0.99110204954519010023 0.099133470867529660531 0.85574707458822318884 -0.18600351714768975642 -0.17392084983276814847 0.25270292257122306534;-0.40596669054904493956 -0.96809409268907464785 0.71270224314369201579 -0.44072092929609829604 0.84251916793629233471 0.2612655321203392611 -0.90302394770014826619 0.36340515698007824774 -0.013108366303338623085 0.2782109625334565628 -0.15460613791169597331 -0.039318084882340426089 0.082719399917460925686;0.11469846151600740503 0.13177427942642652714 -0.82894907112823945639 0.87489168352309798493 -1.3351661484416019743 -0.3817837619166877805 1.5474041300518501796 -0.22990142914748967762 0.090940851834458130698 -0.68497379292497062586 0.09786776090623960922 -0.037368390214453164888 -0.027256482910645377093;-0.4967379655625578927 0.28886658624103667137 0.29264197644651257502 -0.17131825072715589631 0.33515495016340923762 -0.36967960260556981256 0.43196664707063242572 0.75029027108332468909 -0.015738899723762949517 0.71973480963103242392 -0.32230720832491971395 0.085720520482790094063 -0.41520770232374043518;-0.69699274685300360854 -1.6078512034213865434 0.38244804051529729394 -0.7283285227628245595 0.51828525272529990531 0.90645250733294457923 -1.1967225221158055426 -0.10484756665300776213 -0.19435056516178914054 1.4194011695743669055 -0.32346940151553776888 -0.19154644884856550369 -0.0064622908386028701799;0.98337159763436909898 0.073452705510077612172 -0.67794434735013553439 2.1464531148751309075 0.93035325903043997187 0.18348399346352137207 -0.91828683373988706506 -1.426273732709858022 0.21295721330019665163 -0.88979144699657486406 -0.25799591149641232235 -0.012755874082786809037 -0.2818027589539339739;0.28162864953467858786 -0.30816693537001055292 0.46444587990206992467 -0.82221206986842942932 0.26657801097882533048 0.12019158238749697021 -0.19738019805361842196 -2.0557203268192179024 0.13159860987416729938 -0.037654218130780382767 0.16289919147334303018 0.18688528561389075588 -0.14230896541570409175;3.0659805209794761538 0.65850287895120707127 -0.77629700781529975551 -1.9863619466868105423 -0.21733492747286817237 -0.22606676868041911121 0.5655668825241226827 -1.1949921944697468046 0.046174423242683663993 -0.49360854239021095813 -0.40126551209639438333 0.071294472359611893442 -0.0077074028962057844136;-0.21624186352870028438 -1.1555665997866197969 -0.31163053191168244016 1.311339237814391101 0.44419909213302832818 -1.2021364856549694444 -0.62795298531463594749 -0.15333494744072118099 -0.54436509617295425478 0.23358439975179964843 -0.11044677573864358777 0.021379202206376710788 -0.29127441043825641476;0.17950616394160218148 0.56949201400511262339 0.014109570878355348622 -0.047843275424723052947 0.16350621229869308215 0.1870976258984623497 0.34579858916183658923 -0.56187483013312711222 -0.41051129518704887467 -0.40160634394107602718 -0.012085155657999269857 0.35500057576707039209 0.14879775819593868413;0.39434768172824485877 0.38619885457390312755 0.35325705835855453207 0.29491630264645962711 1.2229924647063421528 -0.064134447141404954396 -1.2531605111456283197 -0.014802883031180491535 -0.14072032293770792011 -0.050526653485546232925 0.27759235415059485552 0.18041712098411194498 0.12592017245763303945];

% Layer 2
b2 = [-0.78171307229696362917;0.60521571220082615028;0.24096159196496108601;0.20577186201813796318;-0.084146126233951443196;-0.3415469458755526766;-0.5730518810104578975;-0.18459834368334895882];
LW2_1 = [-0.13191638272436126411 -2.6925367294450461841 -1.1136194936819738821 -1.7313636023936382902 -1.6923199756985056741 1.1466780858438512247 0.96115925847081706834 0.66953310884486461063 2.2488264666307120621 1.8110020798737525016 1.2108570083172363052 -1.2050396278712127707 1.5367959118785965433 -1.0316067649745963575 -1.6018101355587703871 3.0765873376113970217 -2.4931017760115250503 -0.20124387944081095769 1.2283278184201864569 -1.4849683978850769517;0.38989899445601833294 2.0440843227264324788 -0.55605464606192389621 0.50644512801538665858 0.32977379308378768075 -1.0086276767213131489 1.9524272338948946981 -1.1876035787314065395 0.55120615897982216946 -0.073656365757049396814 0.81009025853700522557 1.3522308580483175522 -0.53072738486208670405 -1.0407976512761483168 0.43632944545502150291 -0.97172631993038249831 1.3654333784909402638 0.84209898822006690189 -0.084025126992324131181 0.67172717678265858599;-0.25555891361073335144 -0.17110616952104634736 -0.036777397622723147219 -0.67523590219738982565 0.16496147386201800988 0.052699250898992272552 -0.34809036354683037251 -0.16801590482902831192 0.65625016519695489325 0.28911414302281190913 0.35194904566554496839 0.1298346804731949633 -0.072151960957667932162 0.30474681105245854384 0.1452282150421564666 0.22093919871864581284 -0.473339723878532459 -0.010743769971034149158 0.1754902899776557279 0.13305945022935411481;0.44090592471511791395 0.11585127150613298841 0.76325784890965076013 -0.3942912170175498221 0.15478920656574055026 0.40259084772200648406 0.36795608740506063894 -0.058378614530499098323 0.083898464769158992427 0.050149566851652505051 1.0208695455773961758 -0.34981343357002353534 -0.16710492756994957397 -0.20931017965747228393 -0.017101395784249160542 0.33712434356315895689 -0.31164738601437352861 0.088606772858267637827 0.015956527251399607592 -0.46193583436483809379;-0.54800394349549441664 -0.2059433799984488056 1.0871155073036897765 0.16612234079795834552 0.30812726778372084846 -0.55369015355806672218 -0.64764447102129429901 -0.57736227373976156674 0.92265583311614385309 -0.27159402416007860648 0.45508615546503572435 0.8695156917177109257 -0.38242570524701952062 -0.67247079040023738372 -0.23825184595319803815 -0.040938282670570924626 0.34183213951574731304 0.040673408145129298641 0.11380426731280571251 -1.0342514076923730038;-0.35774237740251257911 0.63489935026705990317 -0.60814519909717423829 -0.043892751688072911831 -0.19946699404487308604 -0.18312734674680436475 0.11768747746118350672 0.27006745786888453065 -0.45178028725741203875 -0.60054371761626579307 1.0946664075031673491 -0.45536502024392394583 -0.15052557204626426657 -0.20737401288837392643 0.029158149210173442412 0.10300002991352059933 0.50121282196807914744 -0.089569118525825192068 -0.18911140205618354182 0.95261990488373371466;0.35870217147464361629 0.12804361586913673432 0.67214416832960455217 0.30110511919250365631 -0.087395606803108136229 0.38347811857545532899 0.06239086563703381827 0.078486939282177370369 -0.35279248797189172171 -0.2224281788564267115 0.46612976083596402432 0.18752699833262537199 0.022187728346461724205 -0.17682761953353820505 -0.054472271379416382919 0.034922919373462861514 0.17770153836332172603 0.03737781206540777279 -0.072322013226182119139 -0.010577885193825374566;-0.51524850734282268139 0.033121647264399700639 -0.22437358875875668129 0.10721692814315658682 -0.026670336650622204766 0.43074408819534842907 0.16736421952652705269 0.040792985225426708906 -0.15859754671261280801 -0.051588293747292457425 0.14585886078719584313 -0.066633110304014406267 0.0041184545183337506122 -0.089223162576933578993 -0.024849380128235183662 0.010789904119158953005 0.032547459434673971235 0.020554455924396815292 -0.043674654212635236061 -0.13404003866970837233];

% Layer 3
b3 = [-0.68813841645565043681;-0.46828223659972995074];
LW3_2 = [-0.5324583073908855102 0.60052827884572090866 -0.53337639957795290879 0.40580367498064728871 -0.10324793362772760608 -0.12498355782260309188 0.35141699681224852769 -2.8449363140451908727;-0.55021144055468673706 0.53655296420679765568 -0.31842902897255681571 0.3274472912652672818 -0.091965707555853565269 -0.12208905454189107609 0.62016966637220727332 -2.5314020869204099107];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
