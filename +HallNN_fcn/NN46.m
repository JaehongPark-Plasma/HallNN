function [y1] = NN46(x1)
%NN46 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN46(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99970947274015;1.99931473220588;1.99800565012664;2;1.99902696693139;1.99908080794913;1.99937681520532;1.99810454054338;1.99867373717719;1.99816577487984;1.99848165761924;1.9983875208208;1.99915937526708];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.17014550658764734936;-0.15867422462163432995;-0.042392057871132225733;-0.53148588099281768304;0.0085411189620546931756;0.87923727183272737395;-0.0075309187724399064695;-0.27143215577044399467;0.0097706409854244127833;-0.17910166033009572439;-0.40921126508251531861;0.47994372208785129885;-0.30211670526480055576;0.99438460972277342709;-1.2205283770741621741;0.36603804739496970111;0.28376104286511127928;-0.098011914812020511922;0.029017417065435879148;-0.22723896404340429567];
IW1_1 = [-0.089953958731259622827 -0.33036833623482037003 0.25468190201186285959 -0.20728768978289829894 -0.15138051849155842454 -0.15584225874639781595 0.30320894072824933207 -0.024392658431246185685 -0.17428634811530102633 -0.14062091198232676281 -0.087016285543913454714 0.11031987634225920436 -0.17041251045193356317;0.2845815385485814808 0.3648810450670015304 -0.63594194324469666135 0.051276588565771948069 0.20189836540727751357 -0.04091563287708675084 0.18276637753215552173 0.6240017240022134315 0.21858092389682154399 -0.80257636847402324953 -0.047476095531587984844 -0.22175376496503418355 0.45402201423816029857;-0.27932806699324802535 -0.079602066254826228664 0.42807987183472101522 -0.43097372786585363968 -0.69307777055517350018 -0.068626754165900361038 0.82243250329849615365 0.0024585135436624417325 0.0076094050236578201357 -0.086055112590249976945 0.089194891719690111431 0.016178858350060113663 -0.020408729686718727475;-0.23637219014433738518 -0.76945715388849977856 0.36892711737800470972 -0.39262937785404483648 0.6748134499776976547 0.3828783928914926693 -0.85549382646423588472 0.44279987564516237741 -0.064972544347402017006 0.59055362397182997736 0.010322866930354118384 0.025876806557306016032 0.12865788121108101549;-0.073283519809015332247 0.14716928613537560988 0.075701596503085319401 -0.28119463742162981168 -0.034061102840296460237 -0.21634950445607481484 -0.49041464172390492049 0.074883685954914666616 0.062911312447158973526 0.061995457661210423561 0.050172652461776511001 -0.081832036304621172396 -0.0038648722768701857314;0.33055167094915816062 -1.5544350183872228666 -0.087428178120215596647 -0.022372667232707039997 0.61836175437142459899 0.14491464365468353925 0.21459270602929897409 1.1978259506152093561 0.040210751353279387821 -0.62796523815734495155 0.33900466301113835188 -0.19774040119369593049 -0.066782067773702991076;-0.088514695076172822397 -0.17827553208847296551 0.046604021228230041451 -0.1421771002322058941 0.64540725951393040916 0.26018519050271826654 -0.78934429301648501021 -0.057752135780593107095 -0.02325089412270127387 0.29296261422227054538 -0.011529198414811574896 0.020880532677921202073 0.029449926793343947362;0.97544019803815151803 -0.42306375408374596869 0.46782549222874070249 -2.0661859511949725032 0.029226487808072579982 0.08496250539099318988 -0.40761641509987084353 0.69216617752887643622 -0.22179906915807912071 0.35038115970714189817 0.050550944977497618005 -0.18850445809459456803 -0.0057894451224776285678;1.0005695932847182839 -0.80994790906380209616 -1.743126444910592987 0.55356441764923725035 0.13252769972181346891 0.49601836984842540001 -0.034210753032765883752 -0.41811851147601247769 0.13877680752048293655 -0.072865874134234773218 -0.26282849212988390608 0.018853224229885251484 -0.13282085431243997875;-0.25784332406897619849 0.2764890502385522475 0.051218496705411467596 0.27197592766591449642 -0.60312323728114047849 -0.9480459913811994932 -0.46401707105479877979 -0.73972294215615641555 -0.4188957424260776885 0.33791533420700603507 -0.3619541727408389642 0.16187096915341814274 0.18309049031452467871;-1.8552091792205920306 -0.53326749411394547273 0.56731289297675902006 1.2505369751633750308 -0.21598969606622298034 0.25632102543089457791 -0.18767033495975335433 0.4056476342795283796 -0.10140749333752496764 0.2332474204328172096 -0.11757418526282097104 -0.10506577208950353131 -0.13438722120477433752;0.48556335305669562352 0.27773598939302251987 0.21206139696974399267 -0.96411670448196118421 0.0027397119545525591006 0.096534968154017838926 0.097272893123531281589 -0.064240459930866591898 0.26113057415570067876 -0.263285838926606508 0.11299201219254674522 0.13972516610108676183 0.078003471988009970284;-0.21670860582326631483 0.015171777085170885108 0.373302162882537647 0.11427354247247879793 -0.33424136808983800906 -0.38948708412028221204 0.090566321800231289196 0.1537009985354871322 -0.11024112138952144035 -0.54673685971073648915 -0.44616209300253628633 0.06099591640902372186 0.053545398026057858254;-0.50515432786069458526 -1.1526797444555043626 0.07925237198189867549 0.2228252154417084685 0.44733381909230529594 0.69423869637088686524 -1.043546999599132219 -1.9121819581308241442 -0.070536546155244100875 0.901280503369722652 0.30063407201127373414 0.024529900497700395101 0.073365991298913968421;-0.98415105783039225074 -1.1923607539787461906 0.88895162863229704175 -0.13029770827983475079 0.89892277694539246546 0.6527885808730140571 -1.2595566458539286803 0.34433967533593601296 -0.057676402746043325953 0.8837775749227533284 0.31093954726574263292 0.059346719440856635086 0.1769726781695766249;-0.11429557290625511068 0.093777816907682109981 0.23062081596524511284 -0.11508223582329547841 -0.31056657752801608563 -0.34739136982899826434 0.48195659199011964269 -0.61490778158197367809 0.14099187377390601239 -0.54449023660459650031 -0.19078856323326889854 -0.11102734685746273868 -0.027648734148826872165;0.8143639699553442135 0.47508896796863797629 -0.61267649949382840813 0.16434831727217380504 -0.43034379861660609912 -0.42005193300448179228 -0.034243119451442614876 0.69127698136330906209 -0.18097113001356518458 0.22763658353465029971 0.27611444301203347251 -0.024430754961207851866 -0.080497439264421224991;0.089032888607030152839 -0.19511161178288172202 0.16361081349152056807 0.045329087563989831078 0.058306518155530853709 0.14261454348137614367 -0.23808908079523050105 0.12371892348624130564 0.096233983511844076175 0.018057259331982385142 0.0074239290953351340027 -0.040891672405344386965 0.035797093092951995374;0.51100192546767164714 0.3771171967579632911 0.095363696967301833651 -0.55838152218703951402 -0.1771289370187292822 -0.10147658714719300088 0.28638379327236107574 -0.46092315861593796678 -0.013542817495457002211 -0.069569053354969448422 0.031483726116259859451 0.065170579822860730257 -0.0085331043408687894808;-0.5898161762251282747 -0.28013396620798969305 0.84883077412076246571 -0.43316123239465575967 0.36503872467560549708 0.23876654956853388123 -0.12240656523642043374 -0.54997209307017003166 0.13834089946052477438 -0.3015295399831184886 -0.31841189812872333631 0.026033464296245072828 0.040269065101485659874];

% Layer 2
b2 = [-0.68703715473422433124;0.33816748511163668978;-0.093998111238584564076;-0.032954394535474912376;0.059960200361752459541;0.2102760446765066793;1.293504706991204678;-0.03021424374478738975];
LW2_1 = [0.34211355792018771638 0.21294224577610154636 0.82225425858991896266 0.050739541133338859902 0.26396675408277786579 -0.18446793622890070297 -0.12842121974411899177 0.055646125003169143175 -0.24429186414870759925 -0.27694913823333477954 0.36952395317604880276 0.14951797864591506726 -0.40870458081116167737 0.14551979351465232915 0.74236533665407700155 0.43711698420232697471 0.11421653688354779788 -0.1386202675022267794 -0.13358580024108110407 0.40163070986126248041;-0.055204041901475084386 0.014715023045876279156 0.2822524178830162489 -0.26150201646970716585 0.11645413135832487217 -0.11823813484633349802 0.026778777054190856799 -0.10624535373072414857 -0.11251405021662727601 0.0076362610406077550962 0.27575563330182722988 0.19489002060338816991 -0.11903752141403771414 -0.16793168538736136242 0.2762734287942038014 -0.23577063643522178094 0.33040126319837354041 -0.39907085756552168609 -0.26324860742663297453 0.29171809917601787543;-0.17071900248198176864 -0.044720526729144623179 -0.067080799443727009979 0.26089187788336143381 -0.10568003639673397009 0.052387378203326263881 -0.39083150643198116825 0.1223565126310580814 -0.13812723567705006977 -0.13691140123088552105 0.02232243150565404316 -0.11408086321126610641 0.098400567810058348073 -0.008957049624817048708 -0.15711105388907264935 -0.22688959764679456077 -0.021953492600853739825 0.3499759153774665843 0.4676020123043421739 -0.11168234467162643786;0.3322003554544794568 0.15445632818080001769 -0.57819397080338996719 -0.44292499474561619621 -0.076529836364654754699 -0.15178816501603281663 -0.16610639205712218747 -0.17236391430831232707 0.29190238960400899382 0.23480354289546229163 -0.021107148819629498876 0.026617376170657975482 -0.25654005560337261871 -0.13650179678659199456 -0.0020627971144507621301 0.041724499960361448314 -0.17622911959833392759 0.30967042881468392901 0.028836941127632669674 -0.19130984640643516892;0.17962832648281376602 -0.033534606420903528834 -0.10717342203842429582 0.32521160210315691597 -0.04545092944896441528 -0.077999881175906837782 -0.52500212899936282707 -0.016584829300862486551 -0.089380310114505992503 0.027765841851231612414 0.14040786106526192967 0.060784443460543326199 -0.15896140543261735867 -0.13488560773635160928 0.13021974197824726094 0.14223824456704239894 0.096515024102786867166 0.35546449849175543179 0.13851249193295267492 -0.2983158365602970874;0.15513594681886389015 -0.11711006909994195468 -0.26191812196013197767 0.19159005871827763934 0.17191969207277571496 0.091050846472601545956 -0.028930427452043848413 -0.15910394590067980514 -0.22603092390704576653 -0.088075369188331587011 0.13715230819498330783 0.24970673862927933451 0.24365919713722408724 0.57186595161749487204 0.34235129966820521119 0.35873577424944630421 -0.54358953025052914043 -0.10158675985129177188 0.10938721547474500317 0.14744609436198252705;-0.32703166457830196157 0.5931170731309393096 -0.52085005191171063199 -0.22647334773015975751 -0.36645558355566093534 1.358114996835317223 -0.0072633246636908772517 -1.6682318810201079984 1.6275232474744805167 0.43035403837834179663 -1.5489168763410054996 -0.84682358586804307166 0.080670710130158349016 1.747835244396544141 -2.269554050140815793 -1.0786232633249897006 1.2354001127855374076 0.022833758357544097634 0.54345004949876696276 -1.2722324446426365174;-0.26388210667108019658 -0.42829049455237300226 -0.88995846102730469251 0.6480407351617223366 0.063603493480438338947 -0.10648871934200596079 0.70285834359694154827 0.11250262608770694728 0.1737146235001272021 -0.062949303134948772498 -0.19210913159757292412 -0.3594969895931877657 -0.41634446633185617781 0.10882993858903877715 0.4114664860373423716 -0.54223419617005863547 -0.10750562495669044316 0.067752089502963977474 0.027376697700289196608 0.07657244921125680448];

% Layer 3
b3 = [-0.85766475637632888507;-0.71463015179281674794];
LW3_2 = [-0.13161630983147074025 -0.3343127606820531228 1.2930579974779092822 0.75465383390053442092 0.6773134009422537849 0.2408115252503418291 1.2374503466953663544 0.097754602026987297281;-0.099206246573721748594 -0.50626209039619385344 0.93720441877404747633 0.59548051157514736431 0.87469705055474544775 0.19895024246859999151 1.1826595841512670404 0.063385453012676215567];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
