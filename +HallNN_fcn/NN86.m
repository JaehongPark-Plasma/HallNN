function [y1] = NN86(x1)
%NN86 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:30.
% 
% [y1] = NN86(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99953759993617;1.99991052377858;1.9997240907403;1.99850432549833;1.99915211121118;1.99871992289715;1.9987169595638;1.99851940887255;1.99856154712277;1.99808100197418;1.99851488109324;1.99994553812228];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.31490711357684042504;0.089921114963438755763;1.041812966252871675;-0.22057720032235500485;-0.37645673016972980296;0.23554137090973853441;-0.32070178842836466471;0.0028903260054034011703;-0.17462224767285186577;0.30943679741983348697;0.96293778605920299363;0.091446662326362351814;-0.44431237954519320343;-1.4054613909992903498;0.33512107386066147807;0.46667488150795205515;0.084671582399810249586;1.0359080581055879478;0.0015595283447749029842;-0.014562777730856100306];
IW1_1 = [0.59305990506491401693 -0.21139085374442037613 -0.24425664201012267651 0.1189357568444597002 -0.36816802829756617443 0.24664734173700081366 0.41918786628493459601 0.24257085460066324378 0.045146428526386471469 -0.014635811888367985384 0.070171014085770200275 -0.036702516115869963931 0.096886225157721411749;-0.091678643437480764056 -0.16270805893111503493 -0.26345115599212237667 0.20992766345658256388 0.088207253325075174466 0.13624498733680726059 0.055975847278144801045 -0.27874164912809112904 -0.077054481709801114775 0.047167608231932896257 0.28620933722765540264 0.041696462579414818317 0.031809636494543075402;0.65102311809706026047 1.2868806947467370527 0.47339967892156609164 -0.026612786834167623251 -0.42594626303954469249 -0.69356360331708877265 0.45657734893030571532 0.36870894819622390681 -0.038736894291397469536 -0.41614097021534907084 0.66600196034546077506 0.1781050078914914736 0.12555656960680272594;-0.41159535768355026697 -0.037534338365593340747 0.11948753839637130114 0.6358349498985759185 -0.56066335831254032751 -1.0031336162989938909 -0.65608688134822878979 -0.32886066342879383129 -0.69083336963568342526 0.16906012321442356883 -0.65827724458037428779 0.13905704589053974329 0.076616336480774135942;-0.15754522291508954446 0.35851656812314752765 -0.99949390324809406216 -0.24028057140933034574 -0.53844208615541033769 -0.40893997396617159934 1.0394814667897449567 -0.07547267991398766418 0.41447461430381532521 -0.88706667269340344628 -0.37657327275827157109 -0.18564090376491515499 -0.17491797982114837273;0.19929681855587136341 -0.34715210493667658653 0.1387985951469377921 -0.47515836404852640484 -0.30323652019169761163 -0.18893255580186707476 0.53152241436796654472 -1.0023330043186147176 0.22490521527830298343 -0.091998163915859895723 -0.32285783318369104533 -0.042524876299913118294 -0.035106582059740203128;0.13213531244955720179 -0.79556979726244525519 -0.41722125974781065771 0.82140141109532283092 0.53804718960771458214 0.40501534808662048581 0.079904460465317780904 -0.21863651193109695514 -0.094322767864615172928 0.12814228659697765589 -0.21350575212347475129 0.17035686746578945772 0.063225142440370307728;0.036200543029971415931 -0.10885219467056694853 -0.37084360952970590875 -0.016995773760268367836 -0.00068391511882587296967 0.064236759429486089967 -0.14692079516023823227 0.48313469458181756977 -0.15105270295876604969 0.94434871139581333388 -0.056052058484239469793 0.13700498143417902397 -0.021656415898700636519;0.32293189806202332592 -0.095489235214435391752 0.70096908666478763283 -1.4305545355391533491 0.25054788966782870485 -0.085178109756252104456 -0.11911410581471601478 -0.20616405193442405297 -0.0051193262360681567741 0.30695735394293161002 0.50362842989868905619 0.09790181144102066968 0.018292401587532064466;1.9197336228064416641 0.49065042447944551274 -0.18613945658511779624 -2.080910961493287914 -0.35409338352104274827 -0.20470224926956925859 0.50673499380794817526 -0.37094405675964359226 0.040931305154022386283 -0.32390026493826101772 0.11941656985394653867 -0.072380406182331671894 0.0015140691178840077254;-0.23151256540637443759 -0.84074724882294860073 -0.035220235100997684952 -0.058819101110785670938 0.7709911662027957302 0.62480620747353898814 -1.2855028215814214843 -1.7163550985234026225 0.034732695214723864618 0.74169176480781517924 0.44339978945869701343 -0.043808183123238336742 0.05756240252768259763;-0.56908801610875014987 0.17080158604441630921 -0.02256156413712133782 0.31705946996925998826 0.20139365824100355362 0.38755663590740702107 -0.37529605107789404395 0.045192803909083846536 -0.05383631824004398575 0.62582701590025968663 -0.09035978402740950377 0.051532930744463717465 0.067249008684170469285;-0.75548545456858939851 -0.42555322531556483145 0.90655340607276191367 -0.65182712363216510632 -0.30205951564745275872 0.36372627703014781542 -0.059658584546545156968 0.5678840886135699817 -0.38560216434701788391 0.12124860087392128061 -0.53710108994387495418 -0.21086197633057629508 -0.18327044661898231337;-0.1685093215525169108 1.5337643180165425605 0.61449347025567513381 -0.24257076571865518466 -0.84011214920902255177 -0.059002252188252883591 -0.1274960556164493608 -0.72595364382325677788 -0.042108784707000822267 0.45375673164852758923 -0.050566028484810232602 0.073664990205781821775 0.025116705101124008059;0.82257597053290243405 -0.14647303133110980977 0.049448160213107675287 0.31430203924413363525 0.65006797081140665906 0.10607419512548016405 -0.60148244857749133541 -0.26040255069782086705 -0.13164111881016854477 -0.46810747863663743074 0.28671282013673909939 0.057583616901984720216 -0.025159032286115413923;0.34399314633810390562 -0.40719991911320430056 0.083727027419519664542 0.032278638179610782966 0.21985050107770742756 -0.064124809557801282223 0.098126954345671424385 0.0098600926551226583672 -0.04048818713670992997 0.071918668374398336818 0.59201081270322564176 0.089588504454228112817 0.00086087413784512525905;0.73008359997301586208 0.69904273792624049833 -1.8921739432943383008 0.59821373592312943046 -0.56926818959188818514 -0.14559574928328022914 0.13877494810506213474 -0.046930340759954343455 -0.055905073706878707918 0.67977644809192749875 0.10576580595661197459 0.026645290446802683687 0.018308293999203573837;-0.15575905743635709566 0.81568070552599591938 -0.6466662478859933616 0.84696188830912044754 -0.77968571657844354394 -0.47826431335549840496 1.3819488462887403735 -0.82617985456266940236 0.049954118170712984159 -0.77974926738252581249 -0.036904907152962983241 0.0080462364073099670175 -0.15858938885516013495;-0.44406850240087353265 -0.076911291816283533507 0.30491359595163408658 -0.24095527483028708615 -0.08613927210409298707 0.00097562866194997040041 0.0071435601754532701557 0.27195912071710781621 0.064795547000046707642 -0.048204478016901378123 -0.12600560224570270251 -0.03196161318423570985 0.011990507051235969535;0.70939015292959106684 0.48801018490236064418 -0.24991752378752984942 -0.12074104296257584523 -0.20182663295903446876 -0.63152969539711523161 -0.072459827934871642863 1.529233302152979368 0.085387955552505626078 0.037475031217791145155 0.29913117104567943372 -0.062484003823860739812 -0.018095466027386201968];

% Layer 2
b2 = [-0.24347594816376463833;-0.096622762945129087031;-0.44455459808245662012;-0.86428401235810925485;-0.16235862808607254282;-0.35716919155750770365;-0.048502594346300116623;0.36112718060423149025];
LW2_1 = [-0.3980889460057238094 0.24209441155770411447 -0.041836768829234170786 -0.10854682414007402191 -0.33145138049085004495 0.097185006350071018177 -0.28631925718218642629 0.40211629469952303584 -0.53348408751121689786 0.03206496579095130528 0.096583486495580905817 -0.0058492350193167690423 0.034295733126260261048 -0.1666016619687886724 -0.11019368528695913656 0.22233454980643910237 -0.20684011263722951179 -0.22268503377629170203 0.2568050311485885473 -0.013751153857187234722;-0.83448982571596475033 -0.337625138319834317 -0.36442216989163350727 0.013913284043683468022 -0.3519205144538529173 -0.22432747405403646868 0.28456217157709878807 0.27621131779014351793 -0.067312538325458304289 0.81964668172379639977 0.10576294706828538728 -0.099184779772570536016 0.021015529071106126002 -0.18543972497565250346 4.2199259585274859208e-05 0.14904763143163377026 -0.24260817720794103369 -0.5331951303503023043 -0.32904281541898627861 -0.21560487641770739731;-0.28289744984811521222 -0.15490789873332624915 -0.21226891083051255271 -0.14188338983397053017 -0.083368316666055208852 -0.18225585674159144878 -0.24387969665731679125 0.076113328227321100372 -0.31041283832546079369 -0.037134970683136425684 -0.035750480127565230359 0.070057988081460464969 -0.12264356929216070624 -0.1557677310032229423 0.11976220061429708463 -0.029060373501003620988 -0.13265087519984417042 -0.49007852668783635774 -0.70065482515732779856 -0.10583515549025422631;-0.20839941163977052097 0.092895149281570166266 1.1698419158623198921 -0.36241749275579193679 0.72274046077161069324 1.2152204518455771431 -1.3326478342188776693 -0.26406268497424584263 1.7555912242687718994 -1.972462437116601075 -1.5904048780808583974 0.77155150212925449615 1.1721505617827907564 1.3099519462596289632 -0.98935190837038966549 0.29261650267450417529 -1.7096955535693802997 -2.3040876971380597205 0.02823364950487021463 -1.4415830311449371326;-0.46850037000164029832 0.32056183765788542894 -0.58825308538698839467 -0.21370563083312393848 0.27051605319762406232 -0.67227884686456884644 -0.25748190265298048773 -0.096397152330826851863 -0.14514796036787175337 -0.19516085945200284391 0.2868338566169402748 -0.75650591385448828774 -0.25391674003656122816 -0.22352050314551430432 0.12426475714911089376 -0.40610855083549252109 0.16165183862085766298 -0.32237938475559757556 -0.19155731576954601603 0.0033024329801061179032;-0.2287991101293287699 0.34885929508661939202 0.467683668696130872 0.18502624468549414005 0.061981488726603251038 0.32596001039383315501 0.2110935667682173611 -0.24455257121262113928 0.24200630622882587928 0.11732498660077275709 -0.21339715617705420914 0.11991098325673540947 0.011339747360530727516 -0.042440598344533793373 -0.36172588892268126015 -0.044727222334074667742 -0.3708087389193075456 -0.044885196994472950638 0.61823122705366428953 -0.35261502312808712389;-0.22428323546758580087 0.31433691850038314453 -0.25297545131205612101 -0.053212566487869240872 0.017313944191557701507 -0.4487373016634157441 -0.0075237463500293297325 -0.065838913225686135355 0.093172247918146780532 0.17510429405184765872 0.066498851949026535624 0.19064980982504911577 -0.12859040054966539013 -0.098728042723099249112 0.10258310394369266061 -0.41969918851777304747 0.050156545677722610965 0.045422173817695928044 0.14686002312714580009 -0.0038516703039324054654;0.42700335173976383674 0.099999116763525880414 0.4039037676279065292 0.093129524137364513847 0.37642886563463540117 -0.14108362586404482597 0.14610277449551850593 0.38914713724323696242 -0.2999145987608881625 0.24044327291630837595 0.44764958671378557442 -0.72099795317727710664 -0.01579902825988111631 0.065052643674783972028 -0.61571718794668417463 -0.055714073897850331651 0.07105377064119135222 1.0340180818920630124 -0.026401250271778226031 0.1931918219614746357];

% Layer 3
b3 = [-0.71506961493457654733;-0.69032148592201814097];
LW3_2 = [-0.76950699786561937987 0.13018247041775790618 1.2194234667616281609 -1.1499994001814606293 -0.35170889767031110473 -0.38821204452637603222 -0.46431920517294900108 0.3337991495591904334;-0.62904929501727835373 0.1568085535865928748 0.8493840794557293572 -1.1347981882759825556 -0.22472096203534286385 -0.37636776841155966666 -0.64472369818818098253 0.22532933915034000782];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
