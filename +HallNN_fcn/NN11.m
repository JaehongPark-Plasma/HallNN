function [y1] = NN11(x1)
%NN11 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:27.
% 
% [y1] = NN11(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [1.99842822372894;1.99811060243387;1.99911648572823;1.99827018359418;1.99814470239116;1.99820214997299;2;1.998609288822;1.9991310657119;1.99806928264056;1.9981454895663;1.99839100531835;2];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.31374369649626282497;-0.25149793020309790803;0.29654742168613013042;0.20166413009949793467;-0.065803972766821913765;-0.58690308919414091449;0.22891768582865035242;-1.0753670910598105426;0.82511013680590317154;-0.1094075724940948291;0.41304404768748170795;1.4368884588385395507;-0.10836666717949096361;-0.19183016807355290911;0.43039017238643340058;-0.53695987449210924591;0.011731599600352353441;-1.2994140636128315158;-1.0844431998147439078;-0.32971083153076957695];
IW1_1 = [0.24411370652873390363 0.95422006209978105229 -1.0346548507605670686 0.23082862481128313403 -0.30774110550727362678 0.017085753237920213443 -0.047846329795645188565 -0.37353385955056073175 -0.13490751570169953744 0.52231285144219308236 0.058838875780271700233 0.061767729843990808181 -0.05018975089314973298;0.18823070386786552866 -0.37767504619846919978 0.26979557642440948895 -0.10879893878468949175 0.52759366964859588656 0.77459923561636800926 -0.78340395880733282308 -0.49086066635738362374 0.092567233788156053076 0.48480729122741855752 0.63552415341669499238 0.34653808574064198789 0.30347896862172801802;-0.79164407426394434175 0.60265672555820903877 0.29440929382847730311 -0.37366107998717068561 -0.080160409813787747435 -0.47674017356544567958 0.30165970078433002044 -0.52160744220865418175 -0.15478009409394202778 -0.08661406660202700114 0.4250469419037285479 0.031502744769197288388 -0.21413509526020882423;-0.13837046083948159603 -0.25742446963151777162 -0.30076262991609314934 0.42248448174280028855 0.4940638386631898693 0.089228465644111756849 -0.6615864925986060241 0.12847288764914741033 0.0039802433232719071354 0.028761391658706291635 -0.095477635495913038 0.0069236002191119527804 0.0049342747632765363713;0.17406665089229841903 -0.28248578514692268548 -0.21943224639374753204 -0.085944305544894877835 -0.12560173021913395575 0.28568926802583727298 -0.046155020231511037498 -0.53902070685078085077 0.018538804767747149582 0.45477855474261763558 -0.47166407713543789804 -0.02378294545189667264 0.042518712432921365596;-0.47163098983238599393 -0.21711579881799297764 0.41855256714096344961 -0.6290122240402514775 -0.12441768314779017013 0.31325409654451619179 -0.34863930102260443089 0.59581663045613941776 -0.51142742237010685447 0.12883974135177073128 -0.49745600968324504842 -0.30981685269958081363 -0.034602381862639988719;-0.031145484342037003944 -0.43655705395286253934 -0.11123073519449783175 -0.11951414158634034168 0.072305543157496626749 0.39373203425877789652 0.73729353947145892523 0.79027931946247831352 0.14622181480200666104 -0.22640270830921685463 -0.014882594346335426341 -0.065285944990962310741 -0.0049414487715657541902;-1.4930753778917755792 -0.59256333769070068662 0.089646379992772889933 1.3017802999051102386 -0.047408565857537998678 0.14140158075112232994 0.03708794044511738025 0.17146322649085127265 -0.036733168354514268705 0.096864464991590112919 -0.36689329339267534591 -0.063459078778896768624 0.011443911970609671816;-0.089741684408158689523 -0.69063571993243666469 -0.19816773871413537189 0.091367284157272327105 0.54692991481088593098 0.54463847317371094636 -0.66940330507692746842 -1.6163550271817057613 0.033186447405687137524 0.25826470922688349319 0.41741730732805570891 0.047772353710140040561 0.095661063143309119083;0.023741680979511327332 -0.12260247949520923505 0.15868689829468513031 0.28071051794415402547 -0.43487475429638067226 0.22280687594342502011 0.68468656667958283091 0.22992533680932031315 0.073634792967646717221 -0.60392885599354451109 0.053530941997080971895 -0.03386675690148978346 -0.067396762531611587033;-0.30046770816352708078 -0.13624332291588731048 0.21171954483357943722 -0.089891363934305357208 0.038309348291723256674 -0.21219908200574508217 0.26446790957088006646 -0.21620326775338755132 0.019624528248657960999 -0.60923904341225887382 -0.44535971297255622092 -0.037401450635334010375 0.025168778974067908955;0.99100649120597661401 0.57230752828723374659 -1.7739804104731196066 1.1873662253576113823 -0.22336301978753492214 -0.20469681800363678792 0.54266364877234507524 -0.76264402199814551597 -0.032372312691502112825 -0.44348225413661845895 0.076084337242754415676 0.047528139312330457134 -0.0076181708981853512447;-0.7029193218862715975 -0.62926351451039130858 0.42813754679280374704 -0.054206116426401620978 0.052601734426755482332 0.083057939140069148021 -0.093277582473496836735 0.08761335135870203239 0.038290325167526860495 0.24783649481746009013 0.11983453503023799858 -0.049812903663853061453 0.057607403133478486679;0.86439804125738184393 0.094139284666109337985 -1.2855177038699261427 0.55613170399032152424 -0.041922710442227936745 -0.30229979251372257609 0.29449006868641408596 1.0826114884104409697 -0.048832889148032895821 -0.094214885839309134297 0.3960278453819663369 -0.082339183966358489575 -0.09583313898201842318;0.27469114288428492232 -0.22947703472410982406 -0.19751038916688903879 0.21207298823802059329 0.030331178688076991523 -0.017447293643657334899 0.021792744900194130353 -0.13845754553019959388 -0.050929908655978274601 -0.32039533204821818435 -0.14885414111611697252 0.042660889356882523982 0.017526813275787152258;-0.61036698072043094054 -0.77908963810025233521 0.29299313190662035211 -0.37765663512725433648 0.12658321362813193534 0.0050116965462932965697 0.38190933539606886082 -0.10670651258054261734 0.13092760736863093274 -0.33203311599492663087 -0.9597119311809768627 -0.23776627872479780268 -0.13222475881810294429;-0.32759575171715399344 0.071312570221480506283 0.42468786329417057557 -0.37788709176936158274 -0.41105418366749013614 -0.08286351482984619099 0.49391933110036467802 -0.039611525035634718994 -0.02877103041049659457 -0.11623405205494181935 0.057118281640141300992 0.013755135802676510259 0.0096171771889584228843;-0.49481118053136807777 -1.0439995954656173804 0.85124687775866603179 -0.62560236618184406066 0.58272417243936280862 0.43724470333002918299 -1.0426705683227901478 0.86552264461514494265 -0.013649579379321503253 0.75345524375068051448 -0.29859910266143230295 -0.029228869644953293233 0.050437769684514126289;-1.0182803945425069614 -0.33948852535699458599 0.43460723737097295416 0.65032821603622825712 0.31098112287490875527 0.51755279208679261238 -0.47869359053521026715 0.24729171393020116243 0.051579680791030181608 0.52155654879705692917 0.53101754074491414048 -0.22270555275379685933 -0.10484246421536856653;-1.2275905244900582325 0.42355565188967292389 0.25490363342865096641 1.5961324102365190836 -0.077282886409432233199 -0.19102099177142378705 0.10761986709367533932 0.33766130254791476561 0.075776203821988227793 -0.14292561660385949551 0.90749383528520821685 0.20695291310075086821 0.0048502233219011332138];

% Layer 2
b2 = [-0.085934510158488991438;-0.82993959062731736953;-0.13817906205079993898;0.11092290425893801264;-0.21575426968413344286;0.16713859345899517717;-0.14080765921231455651;0.13860033235094865178];
LW2_1 = [0.26906391441650001628 0.22897010005832146851 0.11338732190327197036 0.55214478040415748694 0.031659647211862471106 0.039402934300400746515 0.38946708249416517322 0.0503087209429784743 -0.36915949271295306344 -0.1361015831708252688 0.054558802864198813198 0.17234472786445637071 0.25413090101225060957 -0.40279918678798021237 0.010423300967087503754 -0.31868923833056850281 -0.014327747547429024039 0.10688295360440404347 0.15117620753950103407 0.070999223834090630092;-1.0354412220751816331 0.6880322729318825159 0.81101216715531887491 0.22908328062396091096 0.56067337269287675916 0.67426821478177934033 0.21722544182986525119 -1.364750071152407207 -1.5094426269310883271 -0.27370746740503609784 0.82485913569087321306 -0.11615765200723732198 0.093320751669474066858 -1.5595122903917724155 -0.61608252875811275739 1.0309070176589025802 1.1088224564756830048 1.4388911145974383476 0.8338297178914764185 1.3690989405380089572;0.25771388684896651133 -0.43475805624574637154 0.28555371666550050103 -0.5693615581090525346 -0.2404746758970995324 -0.19388175860073184054 0.20657317432825572645 -0.26214061134795069163 -0.46117590998137647507 0.50394419706595328101 0.47321931435497460727 0.89818465198426922225 0.32309162912857058991 -0.073694759623825656369 0.34575483011624447149 -0.44452416742118150417 0.042693171362821323578 0.099189522620433290268 -0.3983287268221118449 -0.18679785824393491112;-0.013402484768018620154 0.085459419706657366311 -0.074000579335419217064 -0.43000915904847331062 -0.354589056254533741 0.046189441977143898266 0.13157774882380926518 0.16652999383557698376 -0.14246134268912932774 -0.14721699315602679303 0.003063049038545945929 0.3886260677712601308 -0.27554943508147361486 -0.26014902215955520992 0.084640792117179231013 -0.18199390406713392143 -0.59185808020376717842 0.36955302249599131237 0.084901449308671453342 -0.08829406221707457314;-0.10982184377213440041 0.06058058407520418992 -0.052792446033764588165 -0.10240328390235484135 -0.0064991251035212346809 0.21699108874891401277 0.073113136679427245812 0.449873667044873915 -0.46006083511466311364 -0.12034394090235731034 -0.23157960328042176412 0.072689700630486700494 -0.20860532155227995421 -0.33053578707528846747 0.14629907862330845947 0.43637286777223460721 -0.37865675449080588022 0.24206125821378854379 0.22855448391064120406 0.34861051126164238623;0.063435725059798012126 0.10360567257442566957 0.10599919317556273646 -0.65028239945473953476 -0.04676745856526981493 -0.12791674627797414154 -0.18922867275281074484 -0.054365565420098398153 -0.40345660479814254851 0.26405326965180653254 -0.17743566032293733858 -0.18332429434316227512 0.56577720032661116267 -0.23477197560820203814 0.38060992683834771189 -0.011075841313841138305 -0.73427143813431705599 -0.58189517881664054588 0.01234228906159971946 0.038850797395714904703;0.15207955062233757815 0.031330460858623968012 0.062785715642745737464 0.016650952995000231627 0.51834872671988718729 0.21209664225125604564 0.37888220853171455937 0.1183270205596575475 0.28197054730745368945 -0.36005765008068169042 0.18657344177637505411 -0.71273437198406297544 0.035537664260100645941 0.50060433554103145326 0.68846226831173373828 -0.27025336695680485244 -0.68685922678720234824 0.30122261800582184055 -0.12588427715473654578 0.021742542125476882475;0.30091661870752994812 -0.66980945014166182183 0.089572735194110186807 -0.69913303211074862009 -0.064111403717106302258 -0.15924527974979985068 0.1940513713392584827 -0.15417342529917379967 0.02365745943330028675 0.41017028986107056943 -0.17123748827895171609 0.12667714516031047811 0.23746765666789715343 0.24118454147117515673 0.44112389434897780749 0.026283401058977119702 0.09608371308158933366 -0.60983335442801722692 -0.59442539687328299625 -0.049570578194219984403];

% Layer 3
b3 = [-0.60171393045319698789;-0.40649318442773046955];
LW3_2 = [-0.54322241166443674398 -1.2055420553057119015 -0.57648887734429454799 1.0493194640799869966 0.46265992937797223439 0.92080123048664008767 0.50009915716618447146 0.57931431347448592017;-0.6086331204227425351 -1.2178738619188440584 -0.39797580008758937087 0.6991600841799154864 0.52966476253701155752 1.0387657417612243815 0.63770751177748064009 0.37964996345149037982];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
