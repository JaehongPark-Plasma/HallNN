function [y1] = NN53(x1)
%NN53 neural network simulation function.
%
% Auto-generated by MATLAB, 12-Dec-2024 22:52:28.
% 
% [y1] = NN53(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;1.99800789716519;1.99994519874428;1.99944328025202;1.99835543028986;1.99851766338202;2;1.99855697777939;1.99965496501364;1.99977264737602;1.99825232607016;1.99854545111806;1.99840173755476];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.70131425999464136467;-0.81575879185686739348;0.29660343488420115587;0.1628343466924274674;-0.94171901757978626613;-0.4131843088434810074;-0.44461209507525473184;0.55375129248352528144;0.75552693219568356486;-0.11944482276956691624;-0.29805165222133128688;0.20695588864977015886;0.28760040085653432174;0.32294418862095208844;-0.35661244166222300089;-0.31384562290145889829;0.2002427250191164132;-0.10065475838904905381;-0.0084205026437634590553;-0.74380329482691132092];
IW1_1 = [-0.37030255403326356456 0.43310834478304799378 -0.64590490373309694672 1.2131063451820989219 0.13781389758232573395 -0.46005127275207374771 0.13398750804148421012 -0.82902172093510306805 0.17172940270871547841 -0.23493930518810524077 0.21710466071586417836 0.25672517230888297624 0.28037323899800881133;0.098528127696071277075 -0.70518372845535037818 -0.084434707639766196086 -0.065784742128113901649 1.3913885458531582984 0.74882977815334361704 -1.4076764119891771454 0.63375408402856125978 0.12788350177375026884 0.92811427832094117729 0.06131254733684037006 0.055644505180256480237 0.25230469951906836501;0.8270561351517010662 -0.42899138290875382662 -1.30762691009556975 0.83930054229944917044 -0.21940188944496472057 0.020841100437765328751 -0.012733702210343183364 -0.41923577490730173922 -0.11409920526363025173 -0.056483562169724423063 -0.1354084810072479772 -0.12570398011736372279 -0.040277881472699020304;-0.56843528441205548596 0.17444671809535297613 0.22791657927236755321 -0.017382031324938231748 -0.1505217302554267278 -0.16320159734202613344 0.25891571201360269461 -0.31627070387507305593 -0.12163617131253616488 -0.011338782661973620391 0.16341439967590162818 0.036214761942608898748 -0.078229341147145539659;-0.26733192524017751479 -1.0599822707313035774 -0.43078439852311700697 -0.26605346943686547512 0.16751345852937035708 0.70693320441046048064 -0.0086813314067186141132 -0.44162825820727735771 0.077093716658035923994 0.18930991088608109529 -0.16591632269357106666 -0.0026550545356258730897 -0.14327374048691113306;0.016058533915377752599 -0.21651490845689189135 0.069693736366543426741 -0.23276872968259856855 0.47629415358842758232 0.13256028541729761305 0.38016160211252081336 0.2904435126870532069 -0.037065697338569167374 -0.37104111056065741669 -0.15329684327700571211 0.024797961178162717527 -0.18855813136515151007;0.43867906483384766503 -0.44707004121180127232 0.58099931842543284244 -1.239747085914852498 0.17233186770614475347 0.034706585550165064413 -1.0117508964256789472 0.43505591515183916762 -0.26220812421613348686 0.66264447164484641117 0.11823376553736889005 0.064080094338068521731 0.059647226416802291704;-0.19080710225469027508 -0.3750310395612260761 0.47149789317476054062 0.25459191949567977487 -0.078032900595121357235 0.17617522693094450625 -0.35682638878050504383 0.13895732237387048436 0.38437812519977931913 0.19250073100341086318 -0.30692006878916811008 -0.11157815449298857935 0.02560492322477807281;1.8008274040317981957 0.43055022962804301301 0.20338540835199864221 -2.1931654274194558596 -0.0082602555456528416883 -0.19999486137349303805 0.47112234208097264476 -0.55672267700396982359 0.10503749091741516886 -0.37065010457350289208 -0.0053599426412531568295 -0.0011271885361553235852 0.041298557369506140591;0.54813069762788335648 -0.17095697865710998697 -0.59713723460398637766 0.0015038386867169337147 -0.19759306403085849513 0.15149326294175274876 0.66116680859342624732 -0.82599217592574047941 0.048037004281346488976 -0.24403213992199065951 -0.099676644750486861901 -0.012703613434538289784 0.051194211037753643845;0.096085764522098063289 -0.56757758658432755361 -0.085210704197129824577 0.073960545078793057949 -0.505702156661287483 -0.31819958591279351445 0.57411603784206932666 -0.40105141509057057325 -0.067934735884989924659 -0.82099909111140090268 -0.059722563022077963801 -0.19939171558501472825 -0.14045237977081001524;-0.07165483126309442341 -0.38039336257331546332 0.14789861329244199939 -0.014023145403653923535 -0.05624353992125986218 0.1913378982476146295 -0.26000098108778246786 -1.8748543603607754626 0.020650989232772594406 0.38299885579118814194 0.18548435736884091862 -0.016617115688952258101 -0.012084696727586293971;-0.0063352190065305499789 0.1391798316779866429 0.17873564139909459136 -0.70985613465328634142 -0.26272069213703985735 -0.077364265327682285589 0.54827485930921682211 -0.37511389142957130005 -0.032471844780214122184 0.0067971388947044063603 0.19695655690246188785 0.049950726057344574382 0.003296216419492877317;-0.10180777764011618436 -0.47931436555641943054 -0.0916188779915527024 -0.002928654910599809251 0.73890826628952965827 0.35402581564428603489 -0.80356685837012220563 -0.39785814025581078823 0.0042613997176092315022 0.34238456552422197321 0.0023613723107741907067 0.017726151741809196422 0.042970091054478687376;-0.47066823225419623933 -0.050239559827260693581 0.58086374990320877032 -0.67909436725765115472 -0.18878618109913614109 -0.070339069059525430316 -0.27465216750045101657 0.41907845579698294047 0.015788819061351790779 0.090810271092397185089 -0.14718092256115294925 -0.056354443264210518638 0.03580073513439260835;-0.63470605445240391163 -0.43319376942597098701 0.25791358408836495553 0.01459904631974819067 -0.068029457204427476458 0.51210981019099333089 -1.1958164327899245549 -0.066874788994910977502 -0.38694493158784126763 1.2595341307776375395 0.1983121291396496011 0.12336603560736822405 -0.078878005312657470394;0.38134684367111260084 -0.18826735558364243728 -0.55017869330784818782 0.19627811511351603291 0.16249471300036341659 0.13887389629300170291 -0.40026931782964331186 -0.32167597968814515275 -0.097883126088579519575 0.0095043517772305692592 -0.1333926726093723758 -0.10047398498518834986 -0.066054176592268101786;0.25420869498881326631 0.084618872260819016917 -0.04780357209856204298 0.03083569335763505781 0.038047023889145527298 -0.054578763600918157872 -0.10617018106726935911 -0.23779549080654516224 -0.082651324895066102805 0.022216096783847432555 0.027860603970046249334 -0.00054850173425792774634 -0.047031588681392365314;-0.52131819431719572666 -0.45953204958061361074 0.7868551262029491733 -0.63555837769735723519 0.25489245691826950546 0.44276588629872126734 0.18798307932320690306 -1.4503975225859622178 0.1398381996901374158 -0.37871054309739959898 -0.2681378413238392211 0.0123757528465467323 0.10613347711307992427;-0.61208002910205094871 0.67236743707251289681 0.41526912627878187489 -0.086115334440186930287 -0.2205318001279328588 0.086782536577092561636 -0.54346159575292363186 -0.28329962212632769925 -0.07816417461965168012 1.0829270550319964883 0.3156014061576191132 0.12538686260785114612 0.027416668804716135682];

% Layer 2
b2 = [0.032064450693633922418;-0.0045279740905581639804;-0.40889255202702129433;-0.2372010412939503099;0.44686903122883636641;0.015736214442398931829;-1.1643159505677780352;0.39108128411938580804];
LW2_1 = [0.012982459679740356029 -0.15674326257773454896 0.042178210304323761337 -0.111294396862815545 0.1273178185877978652 -0.31509021643368689825 -0.48048475880150598449 0.073647031730553161322 0.31662105089279263259 -0.026864881777725467538 0.15894386993410217213 -0.072092187754339634442 0.053314050637437625235 -0.5441229255951446353 -0.12584712659681501767 0.24174978568960192593 -0.15760934997673842206 0.076843105599300659536 -0.44671016767401566794 0.065600924313373568109;0.038686401052856811411 -0.063255218590656858701 -0.75042586195877769573 -0.48770240953308324761 0.068272629493587588811 0.12981154021823387845 0.13611010882243718134 -0.3078511586367579933 0.25975874612119542739 -0.33097682230567754269 0.15222266753486399238 0.36673296615135242416 -0.33202086796183366557 -0.36697318905187359395 -0.058951190479993427485 -0.06325177418371956406 0.25588406173437572289 0.31344309589441538 0.14910020511103042051 0.066012298885297887585;0.14430058104941706487 -0.039367551386757335119 -0.25970345206448758324 0.1626804469436878009 0.18435274753863442609 0.080948292518212783264 -0.1666174569281829998 -0.095129377240594489851 0.17883790699114990308 -0.24016267033083735227 0.089198544191329262598 0.21339219298622902343 0.11654537804354614394 0.10633741567083135338 0.43392134347385730164 0.065370402370475463871 0.080168773967096415567 -0.16713545656671804918 -0.082556842528230964251 -0.044881254162496130033;-0.14007739467245652887 -0.8595884508167371818 -0.35454708922935401771 -0.58491005877051593931 -0.094884647063995269933 -0.35386305966185649385 -0.58144425677368249961 -0.18082153137405146404 0.018767727870323991368 0.2203469550956881351 0.28232600530846430065 -0.15932225788447881842 0.015202346140772503291 0.098368654137495986634 0.17391112709723710594 -0.072678673681674521578 -0.4205289113683157165 -0.30062777191372219709 -0.47815340341406797897 0.162260546826716201;0.066727293733245235385 -0.078027561565569142354 -0.17891999965368793335 0.50742553308604909645 0.21292686909659278016 -0.077555945960743444267 0.35470155500075917221 0.045859764329466284893 0.3533911251469536996 -0.48536142067115034537 0.13158799032885895586 -0.047142537999349760913 6.4839059135685084799e-05 0.14032155017369099537 0.010381906692328746189 -0.05095608674921674186 0.33665433280876466693 -0.72671276765528358688 0.085768624137473492564 -0.039368782290990778083;0.069305607346902789456 -0.010576026904301774612 -0.2776589611858610307 -0.27580339270560505494 0.026944171347940713834 0.0050270893065210578779 -0.0215540546040019175 -0.18656313483310515977 -0.061985624729992389037 -0.36676733697578461912 -0.086249960891359930826 -0.0089474877338292704149 0.20258853687762784501 0.042284230786203670649 -0.049060010872907504342 -0.03865268334703142461 0.60768666396828552312 -0.34082439496183231098 0.26479647018078578125 0.049099931815987075956;-1.2848265285122624224 1.0477307610193571374 -1.9736773705692078895 0.41509233655717603373 -0.99702719088824154348 0.49845514943898311389 1.581340097662913502 0.17693168195252445551 -1.9275598997794034517 -0.18826625971103880253 0.69911613173903575102 1.4806166972300176532 0.84316085775139837377 -0.64578581988796379676 1.3055298276769993215 -0.92814604667174216424 -1.1848398527995840368 0.42219457457939491007 1.7859856983519735163 -0.82889208200282615824;-0.1345420144396250739 0.031911214616482538875 -1.789977010539820057 0.30605387575482911888 -0.19445008944159172803 0.30761742209883302657 0.49399618576534598535 -0.60278437175424337546 0.62294021717043379649 -0.072730916420543856304 0.65140572738274638009 0.97852756486218561705 -2.0027689798863788084 -0.68486927765423399883 -0.24570656560892256692 -0.042576279486505060057 0.28922304939887794051 -0.73602374103165446595 0.25630098414601559798 0.10614049545434638133];

% Layer 3
b3 = [-0.67954262771054096959;-0.58869359144177246801];
LW3_2 = [0.13235279217698295295 1.3129496231678965401 -0.73805948040867053184 -0.21587913337309572182 -0.51911019567510574557 -0.62335724961256522292 -1.3094326683484369678 -0.38285434497643489049;-0.080336565057650646815 1.1680252614006805256 -0.5846365073183535932 -0.14255713277676096418 -0.36898106456736967651 -0.99354382901160998021 -1.3035869087089790863 -0.35506414089497151387];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2];
y1_step1.xoffset = [0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
